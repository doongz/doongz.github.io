"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[55923],{3905:(n,e,t)=>{t.d(e,{Zo:()=>p,kt:()=>h});var r=t(67294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var c=r.createContext({}),s=function(n){var e=r.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):l(l({},e),n)),t},p=function(n){var e=s(n.components);return r.createElement(c.Provider,{value:e},n.children)},m="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},g=r.forwardRef((function(n,e){var t=n.components,i=n.mdxType,a=n.originalType,c=n.parentName,p=o(n,["components","mdxType","originalType","parentName"]),m=s(t),g=i,h=m["".concat(c,".").concat(g)]||m[g]||u[g]||a;return t?r.createElement(h,l(l({ref:e},p),{},{components:t})):r.createElement(h,l({ref:e},p))}));function h(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var a=t.length,l=new Array(a);l[0]=g;var o={};for(var c in e)hasOwnProperty.call(e,c)&&(o[c]=e[c]);o.originalType=n,o[m]="string"==typeof n?n:i,l[1]=o;for(var s=2;s<a;s++)l[s]=t[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},70033:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>s});var r=t(87462),i=(t(67294),t(3905));const a={},l=void 0,o={unversionedId:"Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62",id:"Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62",title:"<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62",description:"\u9898\u76ee\uff1a85. \u6700\u5927\u77e9\u5f62",source:"@site/docs/Algorithm/1-\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/85-<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62.md",sourceDirName:"Algorithm/1-\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808",slug:"/Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62",permalink:"/docs/Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u66b4\u529b-\u5355\u8c03\u6808>-\u6700\u5927\u77e9\u5f62",draft:!1,tags:[],version:"current",sidebarPosition:85,frontMatter:{},sidebar:"docsSidebar",previous:{title:"<\u5355\u8c03\u6808>-\u67f1\u72b6\u56fe\u4e2d\u6700\u5927\u7684\u77e9\u5f62",permalink:"/docs/Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u5355\u8c03\u6808>-\u67f1\u72b6\u56fe\u4e2d\u6700\u5927\u7684\u77e9\u5f62"},next:{title:"<\u5b66\u4e60\u5199\u6cd5>-\u9006\u6ce2\u5170\u8868\u8fbe\u5f0f\u6c42\u503c",permalink:"/docs/Algorithm/\u6570\u636e\u7ed3\u6784/\u4f8b\u9898-\u6808/<\u5b66\u4e60\u5199\u6cd5>-\u9006\u6ce2\u5170\u8868\u8fbe\u5f0f\u6c42\u503c"}},c={},s=[{value:"\u65b9\u6cd5\u4e00\uff1a\u4e8c\u7ef4\u524d\u7f00\u548c\uff08\u8d85\u65f6\uff09",id:"\u65b9\u6cd5\u4e00\u4e8c\u7ef4\u524d\u7f00\u548c\u8d85\u65f6",level:2},{value:"\u65b9\u6cd5\u4e8c\uff1a\u66b4\u529b",id:"\u65b9\u6cd5\u4e8c\u66b4\u529b",level:2},{value:"\u65b9\u6cd5\u4e09\uff1a\u5355\u8c03\u6808",id:"\u65b9\u6cd5\u4e09\u5355\u8c03\u6808",level:2}],p={toc:s};function m(n){let{components:e,...a}=n;return(0,i.kt)("wrapper",(0,r.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u9898\u76ee\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/maximal-rectangle/"},"85. \u6700\u5927\u77e9\u5f62")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/maximal-rectangle/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-1-8/"},"\u9898\u89e3")),(0,i.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u4ec5\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"p"},"0")," \u548c ",(0,i.kt)("inlineCode",{parentName:"p"},"1")," \u3001\u5927\u5c0f\u4e3a ",(0,i.kt)("inlineCode",{parentName:"p"},"rows x cols")," \u7684\u4e8c\u7ef4\u4e8c\u8fdb\u5236\u77e9\u9635\uff0c\u627e\u51fa\u53ea\u5305\u542b ",(0,i.kt)("inlineCode",{parentName:"p"},"1")," \u7684\u6700\u5927\u77e9\u5f62\uff0c\u5e76\u8fd4\u56de\u5176\u9762\u79ef\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u793a\u4f8b 1\uff1a")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://assets.leetcode.com/uploads/2020/09/14/maximal.jpg",alt:"img"})),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'\u8f93\u5165\uff1amatrix = [["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]\n\u8f93\u51fa\uff1a6\n\u89e3\u91ca\uff1a\u6700\u5927\u77e9\u5f62\u5982\u4e0a\u56fe\u6240\u793a\u3002\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'\u793a\u4f8b 2\uff1a\n\n\u8f93\u5165\uff1amatrix = []\n\u8f93\u51fa\uff1a0\n\n\u793a\u4f8b 3\uff1a\n\n\u8f93\u5165\uff1amatrix = [["0"]]\n\u8f93\u51fa\uff1a0\n\n\u793a\u4f8b 4\uff1a\n\n\u8f93\u5165\uff1amatrix = [["1"]]\n\u8f93\u51fa\uff1a1\n\n\u793a\u4f8b 5\uff1a\n\n\u8f93\u5165\uff1amatrix = [["0","0"]]\n\u8f93\u51fa\uff1a0\n')),(0,i.kt)("p",null,"\u63d0\u793a\uff1a"),(0,i.kt)("p",null,"rows == matrix.length\ncols == matrix","[0]",".length\n1 <= row, cols <= 200\n",(0,i.kt)("inlineCode",{parentName:"p"},"matrix[i][j] \u4e3a '0' \u6216 '1'")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e00\u4e8c\u7ef4\u524d\u7f00\u548c\u8d85\u65f6"},"\u65b9\u6cd5\u4e00\uff1a\u4e8c\u7ef4\u524d\u7f00\u548c\uff08\u8d85\u65f6\uff09"),(0,i.kt)("p",null,"\u6700\u5148\u60f3\u5230\u7684\u65b9\u6cd5"),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols*rows*cols)")," 10^8"),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-c++"},"class Solution {\npublic:\n    int maximalRectangle(vector<vector<char>>& matrix) {\n        int rows = matrix.size();\n        int cols = matrix[0].size();\n        vector<vector<int>> preSum(rows + 1, vector<int>(cols + 1, 0));\n        // show(preSum);\n\n        for (int r = 0; r < rows; r++) {\n            for (int c = 0; c < cols; c++) {\n                preSum[r + 1][c + 1] = preSum[r][c + 1] + preSum[r + 1][c] - preSum[r][c] + matrix[r][c] - 48;\n            }\n        }\n\n        // \u56fa\u5b9a\u6bcf\u4e2a\u77e9\u5f62\u7684\u53f3\u4e0b\u89d2\uff0c\u904d\u5386\u5de6\u4e0a\u89d2,\u8fd9\u91cc\u4f7f\u7528\u524d\u7f00\u548c\u4e2d\u7684\u5750\u6807\n        int ans = 0;\n        for (int d_r = 1; d_r < rows + 1; d_r++) {\n            for (int d_c = 1; d_c < cols + 1; d_c++) {\n                for (int u_r = 1; u_r <= d_r; u_r++) {\n                    for (int u_c = 1; u_c <= d_c; u_c++) {\n                        int area = preSum[d_r][d_c] - preSum[d_r][u_c - 1] - preSum[u_r - 1][d_c] + preSum[u_r - 1][u_c - 1];\n                        // cout << area << endl;\n                        if (area == (d_r - u_r + 1) * (d_c - u_c + 1)) {\n                            ans = max(ans, area);\n                        }\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n};\n")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e8c\u66b4\u529b"},"\u65b9\u6cd5\u4e8c\uff1a\u66b4\u529b"),(0,i.kt)("p",null,"\u56fa\u5b9a\u6bcf\u4e2a\u77e9\u5f62\u7684\u53f3\u4e0b\u89d2"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u7528 lengths \u4e8c\u7ef4\u6570\u7ec4\uff0c\u4fdd\u5b58\u6a2a\u5411\u4e0a\u4ee5\u5f53\u524d\u70b9\uff08\u77e9\u5f62\u53f3\u4e0b\u89d2\uff09\u7ed3\u5c3e\u7684\u8fde\u7eed 1 \u7684\u4e2a\u6570")),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols*rows)")," 10^6"),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-c++"},"class Solution {\npublic:\n    int maximalRectangle(vector<vector<char>>& matrix) {\n        int ans;\n        int rows = matrix.size();\n        int cols = matrix[0].size();\n        vector<vector<int>> lengths(rows, vector<int>(cols, 0));\n\n        for (int r = 0; r < rows; r++) {\n            for (int c = 0; c < cols; c++) {\n                // \u66f4\u65b0\u6a2a\u5411\u4e0a\u4ee5\u5f53\u524d\u70b9\uff08\u77e9\u5f62\u53f3\u4e0b\u89d2\uff09\u7ed3\u5c3e\u7684\u8fde\u7eed 1 \u7684\u4e2a\u6570\n                if (matrix[r][c] == '1') {\n                    if (c == 0) {\n                        lengths[r][c] = 1;\n                    } else {\n                        lengths[r][c] = lengths[r][c - 1] + 1;\n                    }\n                } else {\n                    lengths[r][c] = 0;\n                }\n                // \u521d\u59cb\u5316\u77e9\u5f62\u7684\u5e95\u8fb9\u957f\uff0c\u9ed8\u8ba4\u503c\u7684\u6700\u4e0b\u9762\u4e00\u884c\u7684\u957f\n                // \u968f\u7740\u5f80\u4e0a\u904d\u5386\uff0c\u5e95\u8fb9\u957f\u4f1a\u4e0d\u65ad\u66f4\u65b0\u4e3a\uff1a\u4ece\u4e0b\u5230\u4e0a\u6700\u77ed\u7684\u90a3\u4e2a\n                int minLength = lengths[r][c];\n                for (int up_r = r; up_r >= 0; up_r--) {\n                    minLength = min(minLength, lengths[up_r][c]);\n                    int heigth = r - up_r + 1;\n                    ans = max(ans, minLength * heigth);\n                }\n            }\n        }\n        return ans;\n    }\n};\n")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e09\u5355\u8c03\u6808"},"\u65b9\u6cd5\u4e09\uff1a\u5355\u8c03\u6808"),(0,i.kt)("p",null,"\u6c42\u51fa\u6bcf\u4e00\u5c42\u7684 heights \u7136\u540e\u4f20\u7ed9 84-","[\u5355\u8c03\u6808]","-\u67f1\u72b6\u56fe\u4e2d\u6700\u5927\u7684\u77e9\u5f62 \u7684\u51fd\u6570"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u7528 heights \u4e8c\u7ef4\u6570\u7ec4\uff0c\u4fdd\u5b58\u7eb5\u5411\u4e0a\u4ee5\u5f53\u524d\u70b9\u4e3a\u5e95\u7684\u8fde\u7eed 1 \u7684\u4e2a\u6570")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"85",src:t(17522).Z,width:"437",height:"438"})),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols)")," 10^4"),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(rows*cols)")," \u5176\u5b9e\u4e5f\u53ef\u4ee5\u505a\u5230 ",(0,i.kt)("inlineCode",{parentName:"p"},"O(cols)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-c++"},"class Solution {\npublic:\n    int largestRectangleArea(vector<int> heights) {\n        int ans = 0;\n        heights.insert(heights.begin(), 0);\n        heights.push_back(0);\n        vector<int> stack = {0};\n        for (int i = 1; i < heights.size(); i++) {\n            while (heights[i] < heights[stack.back()]) {\n                int curHeight = heights[stack.back()];\n                stack.pop_back();\n                int right = i - 1;\n                int left = stack.back() + 1;\n                ans = max(ans, (right - left + 1) * curHeight);\n            }\n            stack.push_back(i);\n        }\n        return ans;\n    }\n    int maximalRectangle(vector<vector<char>>& matrix) {\n        int res = 0;\n        int rows = matrix.size();\n        int cols = matrix[0].size();\n        vector<vector<int>> heights_layer(rows, vector<int>(cols, 0));\n\n        for (int r = 0; r < rows; r++) {\n            for (int c = 0; c < cols; c++) {\n                if (matrix[r][c] == '1') {\n                    if (r == 0) {\n                        heights_layer[r][c] = 1;\n                    } else {\n                        heights_layer[r][c] = heights_layer[r - 1][c] + 1;\n                    }\n                } else {\n                    heights_layer[r][c] = 0;\n                }\n            }\n            res = max(res, largestRectangleArea(heights_layer[r]));\n        }\n\n        return res;\n    }\n};\n")))}m.isMDXComponent=!0},17522:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/85-e893d8e0c3421a63fc8ab39a6a021882.png"}}]);