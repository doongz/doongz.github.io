"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[13571],{3905:(e,n,r)=>{r.d(n,{Zo:()=>u,kt:()=>k});var t=r(67294);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function p(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=t.createContext({}),o=function(e){var n=t.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):l(l({},n),e)),r},u=function(e){var n=o(e.components);return t.createElement(s.Provider,{value:n},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},f=t.forwardRef((function(e,n){var r=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),m=o(r),f=i,k=m["".concat(s,".").concat(f)]||m[f]||c[f]||a;return r?t.createElement(k,l(l({ref:n},u),{},{components:r})):t.createElement(k,l({ref:n},u))}));function k(e,n){var r=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=r.length,l=new Array(a);l[0]=f;var p={};for(var s in n)hasOwnProperty.call(n,s)&&(p[s]=n[s]);p.originalType=e,p[m]="string"==typeof e?e:i,l[1]=p;for(var o=2;o<a;o++)l[o]=r[o];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}f.displayName="MDXCreateElement"},35418:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>p,toc:()=>o});var t=r(87462),i=(r(67294),r(3905));const a={},l="\u524d\u7f00\u548c",p={unversionedId:"Algorithm/\u7b97\u6cd5\u57fa\u7840/\u524d\u7f00\u548c",id:"Algorithm/\u7b97\u6cd5\u57fa\u7840/\u524d\u7f00\u548c",title:"\u524d\u7f00\u548c",description:"\u53c2\u8003\uff1ahttps://oi-wiki.org/basic/prefix-sum",source:"@site/docs/Algorithm/2-\u7b97\u6cd5\u57fa\u7840/05-\u524d\u7f00\u548c.md",sourceDirName:"Algorithm/2-\u7b97\u6cd5\u57fa\u7840",slug:"/Algorithm/\u7b97\u6cd5\u57fa\u7840/\u524d\u7f00\u548c",permalink:"/docs/Algorithm/\u7b97\u6cd5\u57fa\u7840/\u524d\u7f00\u548c",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"docsSidebar",previous:{title:"\u6ed1\u52a8\u7a97\u53e3",permalink:"/docs/Algorithm/\u7b97\u6cd5\u57fa\u7840/\u6ed1\u52a8\u7a97\u53e3"},next:{title:"\u5dee\u5206",permalink:"/docs/Algorithm/\u7b97\u6cd5\u57fa\u7840/\u5dee\u5206"}},s={},o=[{value:"\u4e00\u7ef4\u524d\u7f00\u548c",id:"\u4e00\u7ef4\u524d\u7f00\u548c",level:2},{value:"\u540e\u7f00\u548c",id:"\u540e\u7f00\u548c",level:2},{value:"\u4e8c\u7ef4\u524d\u7f00\u548c",id:"\u4e8c\u7ef4\u524d\u7f00\u548c",level:2},{value:"\u57fa\u4e8e DP \u8ba1\u7b97\u9ad8\u7ef4\u524d\u7f00\u548c",id:"\u57fa\u4e8e-dp-\u8ba1\u7b97\u9ad8\u7ef4\u524d\u7f00\u548c",level:2},{value:"\u524d\u7f00\u548c+\u54c8\u5e0c\u8868",id:"\u524d\u7f00\u548c\u54c8\u5e0c\u8868",level:2},{value:"\u4f8b\u9898",id:"\u4f8b\u9898",level:2}],u={toc:o};function m(e){let{components:n,...a}=e;return(0,i.kt)("wrapper",(0,t.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u524d\u7f00\u548c"},"\u524d\u7f00\u548c"),(0,i.kt)("p",null,"\u53c2\u8003\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://oi-wiki.org/basic/prefix-sum"},"https://oi-wiki.org/basic/prefix-sum")),(0,i.kt)("p",null,"\u524d\u7f00\u548c\u662f\u4e00\u79cd\u91cd\u8981\u7684\u9884\u5904\u7406\uff0c\u80fd\u5927\u5927\u964d\u4f4e\u67e5\u8be2\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a ",(0,i.kt)("strong",{parentName:"p"},"\u6570\u5217\u7684\u524dn\u9879\u7684\u548c"),"\u3002"),(0,i.kt)("p",null,"\u5b9e\u9645\u4e2d\uff0c\u771f\u6b63\u7528\u7684\u662f\u300c\u524d\u7f00\u548c\u601d\u60f3\u300d"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u4f46\u524d/\u540e\u7f00\u548c\u4e0d\u4e00\u5b9a\u8981\u8bb0\u5f55\u548c\uff0c\u8fd8\u53ef\u4ee5\u8bb0\u5f55 i \u70b9\u524d/\u540e\u6ee1\u8db3\u6761\u4ef6\u7684\u4e2a\u6570\uff0c\u8bb0\u5f55i \u70b9\u524d/\u540e\u4efb\u4f55\u53ef\u4ee5\u8d21\u732e\u7684\u6570\u636e"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"\u300c\u524d\u7f00\u548c+\u54c8\u5e0c\u8868\u300d\uff1a\u7ecf\u5e38\u4f1a\u7528\u54c8\u5e0c\u8868\u4fdd\u5b58\u8ba1\u7b97\u8fc7\u7684\u524d\u7f00\u548c\uff0c\u65b9\u4fbf\u7528O(1)\u7684\u65f6\u95f4\u53bb\u67e5\u627e\u8ba1\u7b97\u8fc7\u7684\u503c\uff0c\u591a\u7528\u4e8e\u5b50\u6570\u7ec4\u95ee\u9898")))),(0,i.kt)("h2",{id:"\u4e00\u7ef4\u524d\u7f00\u548c"},"\u4e00\u7ef4\u524d\u7f00\u548c"),(0,i.kt)("p",null,"\u6709 n \u4e2a\u7684\u6b63\u6574\u6570\u653e\u5230\u6570\u7ec4 A \u91cc\uff0c\u73b0\u5728\u8981\u6c42\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4 pre_sum\uff0c\u65b0\u6570\u7ec4\u7684\u7b2c i \u4e2a\u6570pre_sum","[i]"," \u662f\u539f\u6570\u7ec4 A \u7b2c 0 \u5230\u7b2c i \u4e2a\u6570\u7684\u548c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"pre_sum[0] = A[0]\uff0c\u5bf9\u4e8ei>0 \u5219 pre_sum[i] = pre_sum[i-1] + A[i]\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"n = 5\nA = [i for i in range(n)]\n# A: [0, 1, 2, 3, 4]\n\n# \u8ba1\u7b97\u4e00\u7ef4\u524d\u7f00\u548c\npre_sum = [0 for _ in range(n)]\npre_sum[0] = A[0]\nfor i in range(1, n):\n    pre_sum[i] = pre_sum[i-1] + A[i]\n# pre_sum: [0, 1, 3, 6, 10]\n\n# \u66f4\u5e38\u7528\u7684\u65b9\u6cd5\uff0c\u4e4b\u540e\u7528pre_sum\u7684\u65f6\u5019\uff0c\u65b9\u4fbf\u5904\u7406 pre_sum[i] - pre_sum[i-1]\npre_sum = [0 for _ in range(n+1)]\nfor i in range(n):\n    pre_sum[i+1] = pre_sum[i] + A[i]\n# pre_sum: [0, 0, 1, 3, 6, 10]\n")),(0,i.kt)("h2",{id:"\u540e\u7f00\u548c"},"\u540e\u7f00\u548c"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u540e\u7f00\u548c\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u76f8\u5f53\u4e8e\u4ee5\u8be5\u5143\u7d20\u4e0b\u6807\u4e3a\u8d77\u70b9\u5230\u7ed3\u5c3e\u7684\u7d2f\u79ef\u548c"),(0,i.kt)("li",{parentName:"ul"},"\u540e\u7f00\u548c\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u6570\u4e0e\u524d\u7f00\u548c\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u6570\u4e00\u6837")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"nums = [-3, 2, -3, 4, 2]\nsuf_sum = [2, 5, 3, 6, 2]\n\u4ee5 0 \u4f4d\u7f6e\u4e3a\u8d77\u70b9\u8ba1\u7b97\u7d2f\u79ef\u548c\u4e3a\uff1a2\n\u4ee5 1 \u4f4d\u7f6e\u4e3a\u8d77\u70b9\u8ba1\u7b97\u7d2f\u79ef\u548c\u4e3a\uff1a5\n\u4ee5 2 \u4f4d\u7f6e\u4e3a\u8d77\u70b9\u8ba1\u7b97\u7d2f\u79ef\u548c\u4e3a\uff1a3\n\u4ee5 3 \u4f4d\u7f6e\u4e3a\u8d77\u70b9\u8ba1\u7b97\u7d2f\u79ef\u548c\u4e3a\uff1a6\n\u4ee5 4 \u4f4d\u7f6e\u4e3a\u8d77\u70b9\u8ba1\u7b97\u7d2f\u79ef\u548c\u4e3a\uff1a2\n")),(0,i.kt)("h2",{id:"\u4e8c\u7ef4\u524d\u7f00\u548c"},"\u4e8c\u7ef4\u524d\u7f00\u548c"),(0,i.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u6709\u8fd9\u6837\u4e00\u4e2a\u77e9\u9635 $$a$$\uff0c\u53ef\u4ee5\u89c6\u4e3a\u4e8c\u7ef4\u6570\u7ec4\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"1 2 4 3\n5 1 2 4\n6 3 5 9\n")),(0,i.kt)("p",null,"\u518d\u5b9a\u4e49\u4e00\u4e2a\u77e9\u9635$$sum$$\uff0c\u4f7f$$sum",(0,i.kt)("em",{parentName:"p"},"{x,y} = \\sum\\limits"),"{i=1}^{x} \\sum\\limits",(0,i.kt)("em",{parentName:"p"},"{i=1}^{y} a"),"{x,y}$$ \u90a3\u4e48\u8fd9\u4e2a\u77e9\u9635\u957f\u8fd9\u6837\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"1  3  7  10\n6  9  15 22\n12 18 29 45\n")),(0,i.kt)("p",null,"\u9012\u63a8\u6c42\u77e9\u9635$$sum$$\uff0c\uff1a"),(0,i.kt)("p",null,"$$\nsum",(0,i.kt)("em",{parentName:"p"},"{x,y} = sum"),"{x-1,y} + sum",(0,i.kt)("em",{parentName:"p"},"{x,y-1} - sum"),"{x-1,y-1} + a_{x,y}\n$$"),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(34575).Z,width:"846",height:"726"})),(0,i.kt)("p",null,"\u6c42$$(x",(0,i.kt)("em",{parentName:"p"},"1,y_1)-(x_2,y_2)$$\u5b50\u77e9\u9635\u7684\u548c\uff1a\n$$\nsub = sum"),"{x",(0,i.kt)("em",{parentName:"p"},"2,y_2} - sum"),"{x",(0,i.kt)("em",{parentName:"p"},"1-1,y_2} - sum"),"{x",(0,i.kt)("em",{parentName:"p"},"2,y_1-1} + sum"),"{x_1-1,y_1-1}\n$$"),(0,i.kt)("p",null,(0,i.kt)("img",{src:r(29036).Z,width:"908",height:"788"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u4f8b\u9898")),(0,i.kt)("p",null,"\u4f8b1\uff1a1074-","[\u4e8c\u7ef4\u524d\u7f00\u548c+\u4f18\u5316\u679a\u4e3e+\u54c8\u5e0c\u8868]","-\u5143\u7d20\u548c\u4e3a\u76ee\u6807\u503c\u7684\u5b50\u77e9\u9635\u6570\u91cf"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u901a\u8fc7\u300c\u70b9\u300d\u6765\u786e\u5b9a\u4e00\u4e2a\u5b50\u77e9\u9635\uff0c\u53f3\u4e0b\u89d2\u548c\u5de6\u4e0a\u89d2\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 ",(0,i.kt)("inlineCode",{parentName:"p"},"O(n^4)"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u901a\u8fc7\u300c\u8fb9\u300d\u6765\u786e\u5b9a\u4e00\u4e2a\u5b50\u77e9\u9635\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 ",(0,i.kt)("inlineCode",{parentName:"p"},"O(n^3)")))),(0,i.kt)("p",null,"\u4f8b2\uff1a304. \u4e8c\u7ef4\u533a\u57df\u548c\u68c0\u7d22 - \u77e9\u9635\u4e0d\u53ef\u53d8"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"\u6ce8\uff1a\u4e0a\u8fb9\u754c\u548c\u5de6\u8fb9\u5c4a\u75280\u586b\u5145\uff0c\u662f\u4e3a\u4e86\u9632\u6b62\u4e4b\u540e\u53d6\u503c\u7684\u65f6\u5019\u8d8a\u754c")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"class NumMatrix:\n\n    def __init__(self, matrix: List[List[int]]):\n        rows = len(matrix)\n        cols = len(matrix[0])\n        self.pre_sum = [[0 for _ in range(cols+1)] for _ in range(rows+1)]\n        # \u8ba1\u7b97\u4e8c\u7ef4\u524d\u7f00\u548c\n        for r in range(rows):\n            for c in range(cols):\n                self.pre_sum[r+1][c+1] = self.pre_sum[r+1][c] + self.pre_sum[r][c+1] - self.pre_sum[r][c] + matrix[r][c]\n\n    def sumRegion(self, row1: int, col1: int, row2: int, col2: int) -> int:\n        return self.pre_sum[row2+1][col2+1] - self.pre_sum[row2+1][col1] - self.pre_sum[row1][col2+1] + self.pre_sum[row1][col1]\n")),(0,i.kt)("p",null,"\u4f8b3\uff1a\u5728\u4e00\u4e2a rows x cols \u7684\u53ea\u5305\u542b 0 \u548c 1 \u7684\u77e9\u9635 a \u91cc\u627e\u51fa\u4e00\u4e2a\u4e0d\u5305\u542b 0 \u7684\u6700\u5927\u6b63\u65b9\u5f62\uff0c\u8f93\u51fa\u8fb9\u957f\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'b = [[0 for _ in range(cols)] for _ in range(rows)]\nb[0][0] = a[0][0]\n\n# \u521d\u59cb\u5316\u4e0a\u8fb9\u754c\nfor c in range(1, cols):\n    b[0][c] = b[0][c-1] + a[0][c]\n# \u521d\u59cb\u5316\u5de6\u8fb9\u5c4a\nfor r in range(1, rows):\n    b[r][0] = b[r-1][0] + a[r][0]\n\n# \u8ba1\u7b97\u4e8c\u7ef4\u524d\u7f00\u548c\nfor r in range(1, rows):\n    for c in range(1, cols):\n        b[r][c] = b[r][c-1] + b[r-1][c] - b[r-1][c-1] + a[r][c]\n\nans = float("-inf")\nside = 2   # \u8fb9\u957f\nwhile side < min(n, m):\n    # \u5f53\u53d8\u957f\u4e3aside\u65f6\u641c\u7d22\u6240\u6709\u53ef\u80fd\uff0c\u641c\u7d22\u8303\u56f4\u5728side<=r<rows, side<=c<cols\u7684\u533a\u57df\n    for r in range(side, rows):\n        for c in range(side, cols):\n            # \u5b50\u77e9\u9635\u53f3\u4e0b\u89d2\u7684\u70b9\u4e3a[r][c]\uff0c\u5de6\u4e0a\u89d2\u7684\u70b9\u4e3a[r-side+1][c-side+1]\n            # \u5b50\u77e9\u9635\u51851\u7684\u548c \u7b49\u4e8e \u8fb9\u957f\u7684\u5e73\u65b9\u65f6 \u4e3a\u6b63\u65b9\u5f62\n            if b[r][c] - b[r-side][c] - b[r][c-side] + b[r-side][c-side] == side*side:\n                ans = max(ans, side)\n    side += 1\nprint(ans)\n')),(0,i.kt)("h2",{id:"\u57fa\u4e8e-dp-\u8ba1\u7b97\u9ad8\u7ef4\u524d\u7f00\u548c"},"\u57fa\u4e8e DP \u8ba1\u7b97\u9ad8\u7ef4\u524d\u7f00\u548c"),(0,i.kt)("p",null,"\u8fd8\u6ca1\u770b\u61c2"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://oi-wiki.org/basic/prefix-sum/"},"https://oi-wiki.org/basic/prefix-sum/")),(0,i.kt)("h2",{id:"\u524d\u7f00\u548c\u54c8\u5e0c\u8868"},"\u524d\u7f00\u548c+\u54c8\u5e0c\u8868"),(0,i.kt)("p",null,"\u4e0d\u5c11\u9898\u90fd\u9700\u8981\u7528hashmap\u505a\u8bb0\u5f55"),(0,i.kt)("h2",{id:"\u4f8b\u9898"},"\u4f8b\u9898"),(0,i.kt)("p",null,"2121-","[\u975e\u5e38\u89c4\u524d\u3001\u540e\u7f00\u548c]","-\u76f8\u540c\u5143\u7d20\u7684\u95f4\u9694\u4e4b\u548c"))}m.isMDXComponent=!0},34575:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/\u524d\u7f00\u548c\u77e9\u9635-9654baeea04450c381df466dcfe90645.png"},29036:(e,n,r)=>{r.d(n,{Z:()=>t});const t=r.p+"assets/images/\u5b50\u77e9\u9635-ca392faec799c7b847f5ffc60a69b63b.png"}}]);