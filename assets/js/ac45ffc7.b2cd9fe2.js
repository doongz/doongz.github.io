"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[69940],{3905:(e,t,n)=>{n.d(t,{Zo:()=>i,kt:()=>c});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var A=a.createContext({}),d=function(e){var t=a.useContext(A),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},i=function(e){var t=d(e.components);return a.createElement(A.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,A=e.parentName,i=r(e,["components","mdxType","originalType","parentName"]),p=d(n),u=o,c=p["".concat(A,".").concat(u)]||p[u]||m[u]||l;return n?a.createElement(c,s(s({ref:t},i),{},{components:n})):a.createElement(c,s({ref:t},i))}));function c(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,s=new Array(l);s[0]=u;var r={};for(var A in t)hasOwnProperty.call(t,A)&&(r[A]=t[A]);r.originalType=e,r[p]="string"==typeof e?e:o,s[1]=r;for(var d=2;d<l;d++)s[d]=n[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},84834:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>A,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var a=n(87462),o=(n(67294),n(3905));const l={},s="\u8be6\u89e3 Kubernetes DaemonSet \u7684\u5b9e\u73b0\u539f\u7406",r={unversionedId:"Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/daemonSet",id:"Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/daemonSet",title:"\u8be6\u89e3 Kubernetes DaemonSet \u7684\u5b9e\u73b0\u539f\u7406",description:"\u6765\u6e90\uff1a\u8be6\u89e3 Kubernetes DaemonSet \u7684\u5b9e\u73b0\u539f\u7406",source:"@site/docs/Knowledge/05-\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/8-daemonSet.md",sourceDirName:"Knowledge/05-\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3",slug:"/Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/daemonSet",permalink:"/docs/Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/daemonSet",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"docsSidebar",previous:{title:"\u8be6\u89e3 Kubernetes StatefulSet \u5b9e\u73b0\u539f\u7406",permalink:"/docs/Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/statefulSet"},next:{title:"\u8be6\u89e3 Kubernetes Job \u548c CronJob \u7684\u5b9e\u73b0\u539f\u7406",permalink:"/docs/Knowledge/\u5bb9\u5668\u6280\u672f/kubernetes\u5bf9\u8c61\u8be6\u89e3/job&cronJob"}},A={},d=[{value:"\u4e00\u3001\u6982\u8ff0",id:"\u4e00\u6982\u8ff0",level:2},{value:"\u4e8c\u3001\u5b9e\u73b0\u539f\u7406",id:"\u4e8c\u5b9e\u73b0\u539f\u7406",level:2},{value:"1\u3001\u540c\u6b65",id:"1\u540c\u6b65",level:3},{value:"2\u3001\u8c03\u5ea6",id:"2\u8c03\u5ea6",level:3},{value:"3\u3001\u6eda\u52a8\u66f4\u65b0",id:"3\u6eda\u52a8\u66f4\u65b0",level:3},{value:"4\u3001\u5220\u9664",id:"4\u5220\u9664",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"Referenece",id:"referenece",level:2}],i={toc:d};function p(e){let{components:t,...l}=e;return(0,o.kt)("wrapper",(0,a.Z)({},i,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"\u8be6\u89e3-kubernetes-daemonset-\u7684\u5b9e\u73b0\u539f\u7406"},"\u8be6\u89e3 Kubernetes DaemonSet \u7684\u5b9e\u73b0\u539f\u7406"),(0,o.kt)("p",null,"\u6765\u6e90\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-daemonset/"},"\u8be6\u89e3 Kubernetes DaemonSet \u7684\u5b9e\u73b0\u539f\u7406")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-deployment"},"Deployment")," \u662f Kubernetes \u4e2d\u7528\u4e8e\u5904\u7406\u65e0\u72b6\u6001\u670d\u52a1\u7684\u8d44\u6e90\uff0c\u800c ",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-statefulset"},"StatefulSet")," \u662f\u7528\u4e8e\u652f\u6301\u6709\u72b6\u6001\u670d\u52a1\u7684\u8d44\u6e90\uff0c\u8fd9\u4e24\u79cd\u4e0d\u540c\u7684\u8d44\u6e90\u4ece\u72b6\u6001\u7684\u89d2\u5ea6\u5bf9\u670d\u52a1\u8fdb\u884c\u4e86\u5212\u5206\uff0c\u800c DaemonSet \u4ece\u4e0d\u540c\u7684\u7ef4\u5ea6\u89e3\u51b3\u4e86\u96c6\u7fa4\u4e2d\u7684\u95ee\u9898 \u2014 \u5982\u4f55",(0,o.kt)("strong",{parentName:"p"},"\u540c\u65f6\u5728\u96c6\u7fa4\u4e2d\u7684\u6240\u6709\u8282\u70b9\u4e0a\u63d0\u4f9b\u57fa\u7840\u670d\u52a1\u548c\u5b88\u62a4\u8fdb\u7a0b"),"\u3002"),(0,o.kt)("p",null,"\u6211\u4eec\u5728\u8fd9\u91cc\u5c06\u4ecb\u7ecd DaemonSet \u5982\u4f55\u8fdb\u884c\u72b6\u6001\u7684\u540c\u6b65\u3001Pod \u4e0e\u8282\u70b9\uff08Node\uff09\u4e4b\u95f4\u7684\u8c03\u5ea6\u65b9\u5f0f\u548c\u6eda\u52a8\u66f4\u65b0\u7684\u8fc7\u7a0b\u4ee5\u53ca\u5b9e\u73b0\u539f\u7406\u3002"),(0,o.kt)("h2",{id:"\u4e00\u6982\u8ff0"},"\u4e00\u3001\u6982\u8ff0"),(0,o.kt)("p",null,"DaemonSet \u53ef\u4ee5\u4fdd\u8bc1\u96c6\u7fa4\u4e2d\u6240\u6709\u7684\u6216\u8005\u90e8\u5206\u7684\u8282\u70b9\u90fd\u80fd\u591f\u8fd0\u884c\u540c\u4e00\u4efd Pod \u526f\u672c\uff0c\u6bcf\u5f53\u6709\u65b0\u7684\u8282\u70b9\u88ab\u52a0\u5165\u5230\u96c6\u7fa4\u65f6\uff0cPod \u5c31\u4f1a\u5728\u76ee\u6807\u7684\u8282\u70b9\u4e0a\u542f\u52a8\uff0c\u5982\u679c\u8282\u70b9\u88ab\u4ece\u96c6\u7fa4\u4e2d\u5254\u9664\uff0c\u8282\u70b9\u4e0a\u7684 Pod \u4e5f\u4f1a\u88ab\u5783\u573e\u6536\u96c6\u5668\u6e05\u9664\uff1bDaemonSet \u7684\u4f5c\u7528\u5c31\u50cf\u662f\u8ba1\u7b97\u673a\u4e2d\u7684\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5b83\u80fd\u591f\u8fd0\u884c\u96c6\u7fa4\u5b58\u50a8\u3001\u65e5\u5fd7\u6536\u96c6\u548c\u76d1\u63a7\u7b49\u300e\u5b88\u62a4\u8fdb\u7a0b\u300f\uff0c\u8fd9\u4e9b\u670d\u52a1\u4e00\u822c\u662f\u96c6\u7fa4\u4e2d\u5fc5\u5907\u7684\u57fa\u7840\u670d\u52a1\u3002"),(0,o.kt)("p",null,"Google Cloud \u7684 Kubernetes \u96c6\u7fa4\u5c31\u4f1a\u5728\u6240\u6709\u7684\u8282\u70b9\u4e0a\u542f\u52a8 fluentd \u548c Prometheus \u6765\u6536\u96c6\u8282\u70b9\u4e0a\u7684\u65e5\u5fd7\u548c\u76d1\u63a7\u6570\u636e\uff0c\u60f3\u8981\u521b\u5efa\u7528\u4e8e\u65e5\u5fd7\u6536\u96c6\u7684\u5b88\u62a4\u8fdb\u7a0b\u5176\u5b9e\u975e\u5e38\u7b80\u5355\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u6240\u793a\u7684\u4ee3\u7801\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: fluentd-elasticsearch\n  namespace: kube-system\nspec:\n  selector:\n    matchLabels:\n      name: fluentd-elasticsearch\n  template:\n    metadata:\n      labels:\n        name: fluentd-elasticsearch\n    spec:\n      containers:\n      - name: fluentd-elasticsearch\n        image: k8s.gcr.io/fluentd-elasticsearch:1.20\n        volumeMounts:\n        - name: varlog\n          mountPath: /var/log\n        - name: varlibdockercontainers\n          mountPath: /var/lib/docker/containers\n          readOnly: true\n      volumes:\n      - name: varlog\n        hostPath:\n          path: /var/log\n      - name: varlibdockercontainers\n        hostPath:\n          path: /var/lib/docker/containers\n")),(0,o.kt)("p",null,"\u5f53\u6211\u4eec\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"kubectl apply -f")," \u521b\u5efa\u4e0a\u8ff0\u7684 DaemonSet \u65f6\uff0c\u5b83\u4f1a\u5728 Kubernetes \u96c6\u7fa4\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"kube-system")," \u547d\u540d\u7a7a\u95f4\u4e2d\u521b\u5efa DaemonSet \u8d44\u6e90\u5e76\u5728\u6240\u6709\u7684\u8282\u70b9\u4e0a\u521b\u5efa\u65b0\u7684 Pod\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ kubectl get daemonsets.apps fluentd-elasticsearch --namespace kube-system\nNAME                    DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE\nfluentd-elasticsearch   1         1         1       1            1           <none>          19h\n\n$ kubectl get pods --namespace kube-system --label name=fluentd-elasticsearch\nNAME                          READY   STATUS    RESTARTS   AGE\nfluentd-elasticsearch-kvtwj   1/1     Running   0          19h\n")),(0,o.kt)("p",null,"\u7531\u4e8e\u96c6\u7fa4\u4e2d\u53ea\u5b58\u5728\u4e00\u4e2a Pod\uff0c\u6240\u4ee5 Kubernetes \u53ea\u4f1a\u5728\u8be5\u8282\u70b9\u4e0a\u521b\u5efa\u4e00\u4e2a Pod\uff0c\u5982\u679c\u6211\u4eec\u5411\u5f53\u524d\u7684\u96c6\u7fa4\u4e2d\u589e\u52a0\u65b0\u7684\u8282\u70b9\u65f6\uff0cKubernetes \u5c31\u4f1a\u521b\u5efa\u5728\u65b0\u8282\u70b9\u4e0a\u521b\u5efa\u65b0\u7684\u526f\u672c\uff0c\u603b\u7684\u6765\u8bf4\uff0c\u6211\u4eec\u80fd\u591f\u5f97\u5230\u4ee5\u4e0b\u7684\u62d3\u6251\u7ed3\u6784\uff1a"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"k8s-29",src:n(36061).Z,width:"960",height:"520"})),(0,o.kt)("p",null,"\u96c6\u7fa4\u4e2d\u7684 Pod \u548c Node \u4e00\u4e00\u5bf9\u5e94\uff0c\u800c DaemonSet \u4f1a\u7ba1\u7406\u5168\u90e8\u673a\u5668\u4e0a\u7684 Pod \u526f\u672c\uff0c\u8d1f\u8d23\u5bf9\u5b83\u4eec\u8fdb\u884c\u66f4\u65b0\u548c\u5220\u9664\u3002"),(0,o.kt)("h2",{id:"\u4e8c\u5b9e\u73b0\u539f\u7406"},"\u4e8c\u3001\u5b9e\u73b0\u539f\u7406"),(0,o.kt)("p",null,"\u6240\u6709\u7684 DaemonSet \u90fd\u662f\u7531\u63a7\u5236\u5668\u8d1f\u8d23\u7ba1\u7406\u7684\uff0c\u4e0e\u5176\u4ed6\u7684\u8d44\u6e90\u4e00\u6837\uff0c\u7528\u4e8e\u7ba1\u7406 DaemonSet \u7684\u63a7\u5236\u5668\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController"),"\uff0c\u8be5\u63a7\u5236\u5668\u4f1a\u76d1\u542c DaemonSet\u3001ControllerRevision\u3001Pod \u548c Node \u8d44\u6e90\u7684\u53d8\u52a8\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"k8s-30",src:n(19739).Z,width:"1240",height:"380"})),(0,o.kt)("p",null,"\u5927\u591a\u6570\u7684\u89e6\u53d1\u4e8b\u4ef6\u6700\u7ec8\u90fd\u4f1a\u5c06\u4e00\u4e2a\u5f85\u5904\u7406\u7684 DaemonSet \u8d44\u6e90\u5165\u6808\uff0c\u4e0b\u6e38 ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u6301\u6709\u7684\u591a\u4e2a\u5de5\u4f5c\u534f\u7a0b\u5c31\u4f1a\u4ece\u961f\u5217\u91cc\u9762\u53d6\u51fa\u8d44\u6e90\u8fdb\u884c\u6d88\u8d39\u548c\u540c\u6b65\u3002"),(0,o.kt)("h3",{id:"1\u540c\u6b65"},"1\u3001\u540c\u6b65"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u540c\u6b65 DaemonSet \u8d44\u6e90\u4f7f\u7528\u7684\u65b9\u6cd5\u5c31\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"syncDaemonSet"),"\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u4ece\u961f\u5217\u4e2d\u62ff\u5230 DaemonSet \u7684\u540d\u5b57\u65f6\uff0c\u4f1a\u5148\u4ece\u96c6\u7fa4\u4e2d\u83b7\u53d6\u6700\u65b0\u7684 DaemonSet \u5bf9\u8c61\u5e76\u901a\u8fc7 ",(0,o.kt)("inlineCode",{parentName:"p"},"constructHistory")," \u65b9\u6cd5\u67e5\u627e\u5f53\u524d DaemonSet \u5168\u90e8\u7684\u5386\u53f2\u7248\u672c\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"func (dsc *DaemonSetsController) syncDaemonSet(key string) error {\n    namespace, name, _ := cache.SplitMetaNamespaceKey(key)\n    ds, _ := dsc.dsLister.DaemonSets(namespace).Get(name)\n    dsKey, _ := controller.KeyFunc(ds)\n\n    cur, old, _ := dsc.constructHistory(ds)\n    hash := cur.Labels[apps.DefaultDaemonSetUniqueLabelKey]\n\n    dsc.manage(ds, hash)\n\n    switch ds.Spec.UpdateStrategy.Type {\n    case apps.OnDeleteDaemonSetStrategyType:\n    case apps.RollingUpdateDaemonSetStrategyType:\n        dsc.rollingUpdate(ds, hash)\n    }\n\n    dsc.cleanupHistory(ds, old)\n\n    return dsc.updateDaemonSetStatus(ds, hash, true)\n}\n")),(0,o.kt)("p",null,"\u7136\u540e\u8c03\u7528\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"manage")," \u65b9\u6cd5\u4f1a\u8d1f\u8d23\u7ba1\u7406 DaemonSet \u5728\u8282\u70b9\u4e0a Pod \u7684\u8c03\u5ea6\u548c\u8fd0\u884c\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"rollingUpdate")," \u4f1a\u8d1f\u8d23 DaemonSet \u7684\u6eda\u52a8\u66f4\u65b0\uff1b\u524d\u8005\u4f1a\u5148\u627e\u51fa\u627e\u51fa\u9700\u8981\u8fd0\u884c Pod \u548c\u4e0d\u9700\u8981\u8fd0\u884c Pod \u7684\u8282\u70b9\uff0c\u5e76\u8c03\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"syncNodes")," \u5bf9\u8fd9\u4e9b\u9700\u8981\u521b\u5efa\u548c\u5220\u9664\u7684 Pod \u8fdb\u884c\u540c\u6b65\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func (dsc *DaemonSetsController) syncNodes(ds *apps.DaemonSet, podsToDelete, nodesNeedingDaemonPods []string, hash string) error {\n    dsKey, _ := controller.KeyFunc(ds)\n    generation, err := util.GetTemplateGeneration(ds)\n    template := util.CreatePodTemplate(ds.Spec.Template, generation, hash)\n\n    createDiff := len(nodesNeedingDaemonPods)\n    createWait := sync.WaitGroup{}\n    createWait.Add(createDiff)\n    for i := 0; i < createDiff; i++ {\n        go func(ix int) {\n            defer createWait.Done()\n\n            podTemplate := template.DeepCopy()\n            if utilfeature.DefaultFeatureGate.Enabled(features.ScheduleDaemonSetPods) {\n                podTemplate.Spec.Affinity = util.ReplaceDaemonSetPodNodeNameNodeAffinity(podTemplate.Spec.Affinity, nodesNeedingDaemonPods[ix])\n                dsc.podControl.CreatePodsWithControllerRef(ds.Namespace, podTemplate, ds, metav1.NewControllerRef(ds, controllerKind))\n            } else {\n                podTemplate.Spec.SchedulerName = "kubernetes.io/daemonset-controller"\n                dsc.podControl.CreatePodsOnNode(nodesNeedingDaemonPods[ix], ds.Namespace, podTemplate, ds, metav1.NewControllerRef(ds, controllerKind))\n            }\n\n        }(i)\n    }\n    createWait.Wait()\n')),(0,o.kt)("p",null,"\u83b7\u53d6\u4e86 DaemonSet \u4e2d\u7684\u6a21\u677f\u4e4b\u4e4b\u540e\uff0c\u5c31\u4f1a\u5f00\u59cb\u5e76\u884c\u5730\u4e3a\u8282\u70b9\u521b\u5efa Pod \u526f\u672c\uff0c\u5e76\u53d1\u521b\u5efa\u7684\u8fc7\u7a0b\u4f7f\u7528\u4e86 for \u5faa\u73af\u3001Goroutine \u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"WaitGroup")," \u4fdd\u8bc1\u7a0b\u5e8f\u8fd0\u884c\u7684\u6b63\u786e\uff0c\u7136\u800c\u8fd9\u91cc\u4f7f\u7528\u4e86\u7279\u6027\u5f00\u5173\u6765\u5bf9\u8c03\u5ea6\u65b0 Pod \u7684\u65b9\u5f0f\u8fdb\u884c\u4e86\u63a7\u5236\uff0c\u6211\u4eec\u4f1a\u5728\u63a5\u4e0b\u6765\u7684\u8c03\u5ea6\u4e00\u8282\u4ecb\u7ecd DaemonSet \u8c03\u5ea6\u65b9\u5f0f\u7684\u53d8\u8fc1\u548c\u5177\u4f53\u7684\u6267\u884c\u8fc7\u7a0b\u3002"),(0,o.kt)("p",null,"\u5f53 Kubernetes \u521b\u5efa\u4e86\u9700\u8981\u521b\u5efa\u7684 Pod \u4e4b\u540e\uff0c\u5c31\u9700\u8981\u5220\u9664\u6240\u6709\u8282\u70b9\u4e0a\u4e0d\u5fc5\u8981\u7684 Pod \u4e86\uff0c\u8fd9\u91cc\u4f7f\u7528\u540c\u6837\u5730\u65b9\u5f0f\u5e76\u53d1\u5730\u5bf9 Pod \u8fdb\u884c\u5220\u9664\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"    deleteDiff := len(podsToDelete)\n    deleteWait := sync.WaitGroup{}\n    deleteWait.Add(deleteDiff)\n    for i := 0; i < deleteDiff; i++ {\n        go func(ix int) {\n            defer deleteWait.Done()\n            dsc.podControl.DeletePod(ds.Namespace, podsToDelete[ix], ds)\n        }(i)\n    }\n    deleteWait.Wait()\n\n    return nil\n}\n")),(0,o.kt)("p",null,"\u5230\u4e86\u8fd9\u91cc\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u8282\u70b9\u4e0a Pod \u7684\u8c03\u5ea6\u548c\u8fd0\u884c\uff0c\u4e3a\u4e00\u4e9b\u8282\u70b9\u521b\u5efa Pod \u526f\u672c\u7684\u540c\u65f6\u5220\u9664\u53e6\u4e00\u90e8\u5206\u8282\u70b9\u4e0a\u7684\u526f\u672c\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"manage")," \u65b9\u6cd5\u6267\u884c\u5b8c\u6210\u4e4b\u540e\u5c31\u4f1a\u8c03\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"rollingUpdate")," \u65b9\u6cd5\u5bf9 DaemonSet \u7684\u8282\u70b9\u8fdb\u884c\u6eda\u52a8\u66f4\u65b0\u5e76\u5bf9\u63a7\u5236\u5668\u7248\u672c\u8fdb\u884c\u6e05\u7406\u5e76\u66f4\u65b0 DaemonSet \u7684\u72b6\u6001\uff0c\u6587\u7ae0\u540e\u9762\u7684\u90e8\u5206\u4f1a\u4ecb\u7ecd\u6eda\u52a8\u66f4\u65b0\u7684\u8fc7\u7a0b\u548c\u5b9e\u73b0\u3002"),(0,o.kt)("h3",{id:"2\u8c03\u5ea6"},"2\u3001\u8c03\u5ea6"),(0,o.kt)("p",null,"\u5728\u65e9\u671f\u7684 Kubernetes \u7248\u672c\u4e2d\uff0c\u6240\u6709 DaemonSet Pod \u7684\u521b\u5efa\u90fd\u662f\u7531 ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u8d1f\u8d23\u7684\uff0c\u800c\u5176\u4ed6\u7684\u8d44\u6e90\u90fd\u662f\u7531 kube-scheduler \u8fdb\u884c\u8c03\u5ea6\uff0c\u8fd9\u5c31\u5bfc\u81f4\u4e86\u5982\u4e0b\u7684\u4e00\u4e9b\u95ee\u9898\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"DaemonSetsController")," \u6ca1\u6709\u529e\u6cd5\u5728\u8282\u70b9\u8d44\u6e90\u53d8\u66f4\u65f6\u6536\u5230\u901a\u77e5 (",(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/46935"},"#46935"),", ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/58868"},"#58868"),")\uff1b"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"DaemonSetsController")," \u6ca1\u6709\u529e\u6cd5\u9075\u5faa Pod \u7684\u4eb2\u548c\u6027\u548c\u53cd\u4eb2\u548c\u6027\u8bbe\u7f6e (",(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/29276"},"#29276"),")\uff1b"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"DaemonSetsController")," \u53ef\u80fd\u9700\u8981\u4e8c\u6b21\u5b9e\u73b0 Pod \u8c03\u5ea6\u7684\u91cd\u8981\u903b\u8f91\uff0c\u9020\u6210\u4e86\u91cd\u590d\u7684\u4ee3\u7801\u903b\u8f91 (",(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/42028"},"#42028"),")\uff1b"),(0,o.kt)("li",{parentName:"ol"},"\u591a\u4e2a\u7ec4\u4ef6\u8d1f\u8d23\u8c03\u5ea6\u4f1a\u5bfc\u81f4 Debug \u548c\u62a2\u5360\u7b49\u529f\u80fd\u7684\u5b9e\u73b0\u975e\u5e38\u56f0\u96be\uff1b")),(0,o.kt)("p",null,"\u8bbe\u8ba1\u6587\u6863 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/community/blob/master/contributors/design-proposals/scheduling/schedule-DS-pod-by-scheduler.md"},"Schedule DaemonSet Pods by default scheduler, not DaemonSet controller")," \u4e2d\u5305\u542b\u4e86\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u8c03\u5ea6\u65f6\u9047\u5230\u7684\u95ee\u9898\u4ee5\u53ca\u65b0\u8bbe\u8ba1\u7ed9\u51fa\u7684\u89e3\u51b3\u65b9\u6848\u3002"),(0,o.kt)("p",null,"\u5982\u679c\u6211\u4eec\u9009\u62e9\u4f7f\u7528\u8fc7\u53bb\u7684\u8c03\u5ea6\u65b9\u5f0f\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"DeamonSetsController")," \u5c31\u4f1a\u8d1f\u8d23\u5728\u8282\u70b9\u4e0a\u521b\u5efa Pod\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u521b\u5efa\u7684 Pod \u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"schedulerName")," \u90fd\u4f1a\u88ab\u8bbe\u7f6e\u6210 ",(0,o.kt)("inlineCode",{parentName:"p"},"kubernetes.io/daemonset-controller"),"\uff0c\u4f46\u662f\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u5b57\u6bb5\u4e00\u822c\u4e3a ",(0,o.kt)("inlineCode",{parentName:"p"},"default-scheduler"),"\uff0c\u4e5f\u5c31\u662f\u4f7f\u7528 Kubernetes \u9ed8\u8ba4\u7684\u8c03\u5ea6\u5668 kube-scheduler \u8fdb\u884c\u8c03\u5ea6\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func (dsc *DaemonSetsController) syncNodes(ds *apps.DaemonSet, podsToDelete, nodesNeedingDaemonPods []string, hash string) error {\n    // ...\n    for i := 0; i < createDiff; i++ {\n        go func(ix int) {\n            podTemplate := template.DeepCopy()\n            if utilfeature.DefaultFeatureGate.Enabled(features.ScheduleDaemonSetPods) {\n                // ...\n            } else {\n                podTemplate.Spec.SchedulerName = "kubernetes.io/daemonset-controller"\n                dsc.podControl.CreatePodsOnNode(nodesNeedingDaemonPods[ix], ds.Namespace, podTemplate, ds, metav1.NewControllerRef(ds, controllerKind))\n            }\n\n        }(i)\n    }\n    \n    // ...\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u5728\u8c03\u5ea6 Pod \u65f6\u90fd\u4f1a\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"CreatePodsOnNode")," \u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5b9e\u73b0\u975e\u5e38\u7b80\u5355\uff0c\u5b83\u4f1a\u5148\u5bf9 Pod \u6a21\u677f\u8fdb\u884c\u9a8c\u8bc1\uff0c\u968f\u540e\u8c03\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"createPods"),"\u65b9\u6cd5\u901a\u8fc7 Kubernetes \u63d0\u4f9b\u7684 API \u521b\u5efa\u65b0\u7684\u526f\u672c\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func (r RealPodControl) CreatePodsWithControllerRef(namespace string, template *v1.PodTemplateSpec, controllerObject runtime.Object, controllerRef *metav1.OwnerReference) error {\n    if err := validateControllerRef(controllerRef); err != nil {\n        return err\n    }\n    return r.createPods("", namespace, template, controllerObject, controllerRef)\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u901a\u8fc7\u8282\u70b9\u9009\u62e9\u5668\u548c\u8c03\u5ea6\u5668\u7684\u8c13\u8bcd\u5bf9\u8282\u70b9\u8fdb\u884c\u8fc7\u6ee4\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"createPods")," \u4f1a\u76f4\u63a5\u4e3a\u5f53\u524d\u7684 Pod \u8bbe\u7f6e ",(0,o.kt)("inlineCode",{parentName:"p"},"spec.NodeName")," \u5c5e\u6027\uff0c\u6700\u540e\u5f97\u5230\u7684 Pod \u5c31\u4f1a\u88ab\u76ee\u6807\u8282\u70b9\u4e0a\u7684 kubelet \u521b\u5efa\u3002"),(0,o.kt)("p",null,"\u9664\u4e86\u8fd9\u79cd\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u7ba1\u7406\u548c\u8c03\u5ea6 DaemonSet \u7684\u65b9\u6cd5\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 Kubernetes \u9ed8\u8ba4\u7684\u65b9\u5f0f kube-scheduler \u521b\u5efa\u65b0\u7684 Pod \u526f\u672c\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"func (dsc *DaemonSetsController) syncNodes(ds *apps.DaemonSet, podsToDelete, nodesNeedingDaemonPods []string, hash string) error {\n    // ...\n    for i := 0; i < createDiff; i++ {\n        go func(ix int) {\n            podTemplate := template.DeepCopy()\n            if utilfeature.DefaultFeatureGate.Enabled(features.ScheduleDaemonSetPods) {\n                podTemplate.Spec.Affinity = util.ReplaceDaemonSetPodNodeNameNodeAffinity(podTemplate.Spec.Affinity, nodesNeedingDaemonPods[ix])\n                dsc.podControl.CreatePodsWithControllerRef(ds.Namespace, podTemplate, ds, metav1.NewControllerRef(ds, controllerKind))\n            } else {\n                // ...\n            }\n\n        }(i)\n    }\n    \n    // ...\n}\n")),(0,o.kt)("p",null,"\u8fd9\u79cd\u60c5\u51b5\u4f1a\u4f7f\u7528 NodeAffinity \u7279\u6027\u6765\u907f\u514d\u53d1\u751f\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u4e2d\u7684\u8c03\u5ea6\uff1a"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"DaemonSetsController")," \u4f1a\u5728 ",(0,o.kt)("inlineCode",{parentName:"li"},"podsShouldBeOnNode")," \u65b9\u6cd5\u4e2d\u6839\u636e\u8282\u70b9\u9009\u62e9\u5668\u8fc7\u6ee4\u6240\u6709\u7684\u8282\u70b9\uff1b"),(0,o.kt)("li",{parentName:"ol"},"\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8282\u70b9\uff0c\u63a7\u5236\u5668\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u9075\u5faa\u4ee5\u4e0b\u8282\u70b9\u4eb2\u548c\u7684 Pod\uff1b")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"nodeAffinity:\n  requiredDuringSchedulingIgnoredDuringExecution:\n  - nodeSelectorTerms:\n      matchExpressions:\n      - key: kubernetes.io/hostname\n        operator: in\n        values:\n        - dest_hostname\n")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"\u5f53\u8282\u70b9\u8fdb\u884c\u540c\u6b65\u65f6\uff0cDaemonSetsController \u4f1a\u6839\u636e\u8282\u70b9\u4eb2\u548c\u7684\u8bbe\u7f6e\u6765\u9a8c\u8bc1\u8282\u70b9\u548c Pod \u7684\u5173\u7cfb\uff1b"),(0,o.kt)("li",{parentName:"ol"},"\u5982\u679c\u8c03\u5ea6\u7684\u8c13\u8bcd\u5931\u8d25\u4e86\uff0cDaemonSet \u6301\u6709\u7684 Pod \u5c31\u4f1a\u4fdd\u6301\u5728 Pending \u7684\u72b6\u6001\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 Pod \u7684\u4f18\u5148\u7ea7\u548c\u62a2\u5360\u4fdd\u8bc1\u96c6\u7fa4\u5728\u9ad8\u8d1f\u8f7d\u4e0b\u4e5f\u80fd\u6b63\u5e38\u8fd0\u884c DaemonSet \u7684\u526f\u672c\uff1b")),(0,o.kt)("p",null,"Pod \u7684\u4f18\u5148\u7ea7\u548c\u62a2\u5360\u529f\u80fd\u5728 Kubernetes 1.8 \u7248\u672c\u5f15\u5165\uff0c1.11 \u65f6\u8f6c\u53d8\u6210 beta \u7248\u672c\uff0c\u5728\u76ee\u524d\u6700\u65b0\u7684 1.13 \u4e2d\u4f9d\u7136\u662f beta \u7248\u672c\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u9605\u8bfb ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/"},"Pod Priority and Preemption")," \u6587\u6863\u4e86\u89e3\u76f8\u5173\u7684\u5185\u5bb9\u3002"),(0,o.kt)("h3",{id:"3\u6eda\u52a8\u66f4\u65b0"},"3\u3001\u6eda\u52a8\u66f4\u65b0"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"DaemonSetsController")," \u5bf9\u6eda\u52a8\u66f4\u65b0\u7684\u5b9e\u73b0\u5176\u5b9e\u6bd4\u8f83\u7b80\u5355\uff0c\u5b83\u5176\u5b9e\u5c31\u662f\u6839\u636e DaemonSet \u89c4\u683c\u4e2d\u7684\u914d\u7f6e\uff0c\u5220\u9664\u96c6\u7fa4\u4e2d\u7684 Pod \u5e76\u4fdd\u8bc1\u540c\u65f6\u4e0d\u53ef\u7528\u7684\u526f\u672c\u6570\u4e0d\u4f1a\u8d85\u8fc7 ",(0,o.kt)("inlineCode",{parentName:"p"},"spec.updateStrategy.rollingUpdate.maxUnavailable"),"\uff0c\u8fd9\u4e2a\u53c2\u6570\u4e5f\u662f DaemonSet \u6eda\u52a8\u66f4\u65b0\u53ef\u4ee5\u914d\u7f6e\u7684\u552f\u4e00\u53c2\u6570\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"func (dsc *DaemonSetsController) rollingUpdate(ds *apps.DaemonSet, hash string) error {\n    nodeToDaemonPods, err := dsc.getNodesToDaemonPods(ds)\n\n    _, oldPods := dsc.getAllDaemonSetPods(ds, nodeToDaemonPods, hash)\n    maxUnavailable, numUnavailable, err := dsc.getUnavailableNumbers(ds, nodeToDaemonPods)\n    oldAvailablePods, oldUnavailablePods := util.SplitByAvailablePods(ds.Spec.MinReadySeconds, oldPods)\n\n    var oldPodsToDelete []string\n    for _, pod := range oldUnavailablePods {\n        if pod.DeletionTimestamp != nil {\n            continue\n        }\n        oldPodsToDelete = append(oldPodsToDelete, pod.Name)\n    }\n\n    for _, pod := range oldAvailablePods {\n        if numUnavailable >= maxUnavailable {\n            break\n        }\n        oldPodsToDelete = append(oldPodsToDelete, pod.Name)\n        numUnavailable++\n    }\n    return dsc.syncNodes(ds, oldPodsToDelete, []string{}, hash)\n}\n")),(0,o.kt)("p",null,"\u5220\u9664 Pod \u7684\u987a\u5e8f\u5176\u5b9e\u4e5f\u975e\u5e38\u7b80\u5355\u5e76\u4e14\u7b26\u5408\u76f4\u89c9\uff0c\u4e0a\u8ff0\u4ee3\u7801\u4f1a\u5c06\u4e0d\u53ef\u7528\u7684 Pod \u5148\u52a0\u5165\u5230\u5f85\u5220\u9664\u7684\u6570\u7ec4\u4e2d\uff0c\u968f\u540e\u5c06\u5386\u53f2\u7248\u672c\u7684\u53ef\u7528 Pod \u52a0\u5165\u5f85\u5220\u9664\u6570\u7ec4 ",(0,o.kt)("inlineCode",{parentName:"p"},"oldPodsToDelete"),"\uff0c\u6700\u540e\u8c03\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"syncNodes")," \u5b8c\u6210\u5bf9\u526f\u672c\u7684\u5220\u9664\u3002"),(0,o.kt)("h3",{id:"4\u5220\u9664"},"4\u3001\u5220\u9664"),(0,o.kt)("p",null,"\u4e0e ",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-deployment"},"Deployment"),"\u3001",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-replicaset"},"ReplicaSet")," \u548c ",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-statefulset"},"StatefulSet")," \u4e00\u6837\uff0cDaemonSet \u7684\u5220\u9664\u4e5f\u4f1a\u5bfc\u81f4\u5b83\u6301\u6709\u7684 Pod \u7684\u5220\u9664\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u5982\u4e0b\u7684\u547d\u4ee4\u5220\u9664\u8be5\u5bf9\u8c61\uff0c\u6211\u4eec\u80fd\u89c2\u5bdf\u5230\u5982\u4e0b\u7684\u73b0\u8c61\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ kubectl delete daemonsets.apps fluentd-elasticsearch --namespace kube-system\ndaemonset.apps "fluentd-elasticsearch" deleted\n\n$ kubectl get pods --watch --namespace kube-system\nfluentd-elasticsearch-wvffx   1/1   Terminating   0     14s\n')),(0,o.kt)("p",null,"\u8fd9\u90e8\u5206\u7684\u5de5\u4f5c\u5c31\u90fd\u662f\u7531 Kubernetes \u4e2d\u7684\u5783\u573e\u6536\u96c6\u5668\u5b8c\u6210\u7684\uff0c\u8bfb\u8005\u53ef\u4ee5\u9605\u8bfb ",(0,o.kt)("a",{parentName:"p",href:"https://draveness.me/kubernetes-garbage-collector"},"\u5783\u573e\u6536\u96c6\u5668")," \u4e00\u6587\u4e86\u89e3\u96c6\u7fa4\u4e2d\u7684\u4e0d\u540c\u5bf9\u8c61\u662f\u5982\u4f55\u8fdb\u884c\u5173\u8054\u7684\u4ee5\u53ca\u5728\u5220\u9664\u5355\u4e00\u5bf9\u8c61\u65f6\u5982\u4f55\u89e6\u53d1\u7ea7\u8054\u5220\u9664\u7684\u539f\u7406\u3002"),(0,o.kt)("h2",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,o.kt)("p",null,"DaemonSet \u5176\u5b9e\u5c31\u662f Kubernetes \u4e2d\u7684\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5b83\u4f1a\u5728\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e0a\u521b\u5efa\u80fd\u591f\u63d0\u4f9b\u670d\u52a1\u7684\u526f\u672c\uff0c\u5f88\u591a\u4e91\u670d\u52a1\u5546\u90fd\u4f1a\u4f7f\u7528 DaemonSet \u5728\u6240\u6709\u7684\u8282\u70b9\u4e0a\u5185\u7f6e\u4e00\u4e9b\u7528\u4e8e\u63d0\u4f9b\u65e5\u5fd7\u6536\u96c6\u3001\u7edf\u8ba1\u5206\u6790\u548c\u5b89\u5168\u7b56\u7565\u7684\u670d\u52a1\u3002"),(0,o.kt)("p",null,"\u5728\u7814\u7a76 DaemonSet \u7684\u8c03\u5ea6\u7b56\u7565\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5176\u5b9e\u80fd\u591f\u901a\u8fc7\u4e00\u4e9b\u5386\u53f2\u7684 issue \u548c PR \u4e86\u89e3\u5230 DaemonSet \u8c03\u5ea6\u7b56\u7565\u6539\u52a8\u7684\u539f\u56e0\uff0c\u4e5f\u80fd\u8ba9\u6211\u4eec\u5bf9\u4e8e Kubernetes \u7684\u6f14\u8fdb\u8fc7\u7a0b\u548c\u8bbe\u8ba1\u51b3\u7b56\u6709\u4e00\u4e2a\u6bd4\u8f83\u6e05\u695a\u7684\u8ba4\u8bc6\u3002"),(0,o.kt)("h2",{id:"referenece"},"Referenece"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/"},"DaemonSet \xb7 Kubernetes")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/"},"Perform a Rolling Update on a DaemonSet")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/tasks/manage-daemon/rollback-daemon-set/"},"Perform a Rollback on a DaemonSet")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/community/blob/master/contributors/design-proposals/scheduling/schedule-DS-pod-by-scheduler.md"},"Schedule DaemonSet Pods by default scheduler, not DaemonSet controller")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/46935"},"DaemonsetController can\u2019t feel it when node has more resources, e.g. other Pod exits")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/45628"},"DaemonsetController can\u2019t feel it when node recovered from outofdisk state")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/42002"},"DaemonSet pods should be scheduled by default scheduler, not DaemonSet controller")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/42001"},"NodeController should add NoSchedule taints and we should get rid of getNodeConditionPredicate()")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/issues/29276"},"DaemonSet should respect Pod Affinity and Pod AntiAffinity")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/kubernetes/kubernetes/pull/42028"},"Make DaemonSet respect critical pods annotation when scheduling"))))}p.isMDXComponent=!0},36061:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,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"},19739:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,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"}}]);