"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[59020],{3905:(e,n,t)=>{t.d(n,{Zo:()=>o,kt:()=>s});var i=t(67294);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,i,p=function(e,n){if(null==e)return{};var t,i,p={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(p[t]=e[t]);return p}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var k=i.createContext({}),m=function(e){var n=i.useContext(k),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},o=function(e){var n=m(e.components);return i.createElement(k.Provider,{value:n},e.children)},d="mdxType",N={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var t=e.components,p=e.mdxType,l=e.originalType,k=e.parentName,o=r(e,["components","mdxType","originalType","parentName"]),d=m(t),u=p,s=d["".concat(k,".").concat(u)]||d[u]||N[u]||l;return t?i.createElement(s,a(a({ref:n},o),{},{components:t})):i.createElement(s,a({ref:n},o))}));function s(e,n){var t=arguments,p=n&&n.mdxType;if("string"==typeof e||p){var l=t.length,a=new Array(l);a[0]=u;var r={};for(var k in n)hasOwnProperty.call(n,k)&&(r[k]=n[k]);r.originalType=e,r[d]="string"==typeof e?e:p,a[1]=r;for(var m=2;m<l;m++)a[m]=t[m];return i.createElement.apply(null,a)}return i.createElement.apply(null,t)}u.displayName="MDXCreateElement"},32675:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>k,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>m});var i=t(87462),p=(t(67294),t(3905));const l={},a="\u80a1\u7968\u95ee\u9898",r={unversionedId:"Algorithm/\u52a8\u6001\u89c4\u5212/\u80a1\u7968\u95ee\u9898",id:"Algorithm/\u52a8\u6001\u89c4\u5212/\u80a1\u7968\u95ee\u9898",title:"\u80a1\u7968\u95ee\u9898",description:"\u53c2\u8003\uff1aMost consistent ways of dealing with the series of stock problems",source:"@site/docs/Algorithm/3-\u52a8\u6001\u89c4\u5212/09-\u80a1\u7968\u95ee\u9898.md",sourceDirName:"Algorithm/3-\u52a8\u6001\u89c4\u5212",slug:"/Algorithm/\u52a8\u6001\u89c4\u5212/\u80a1\u7968\u95ee\u9898",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u80a1\u7968\u95ee\u9898",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{},sidebar:"algorithmSidebar",previous:{title:"\u6570\u4f4d DP",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u6570\u4f4dDP"},next:{title:"\u7a7a\u95f4\u538b\u7f29\u7684\u65b9\u5f0f",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u7a7a\u95f4\u538b\u7f29\u7684\u65b9\u5f0f"}},k={},m=[{value:"\u4e00\u3001\u901a\u7528\u60c5\u51b5",id:"\u4e00\u901a\u7528\u60c5\u51b5",level:2},{value:"\u521d\u6b65\u5206\u6790",id:"\u521d\u6b65\u5206\u6790",level:3},{value:"\u901a\u89e3",id:"\u901a\u89e3",level:3},{value:"\u4e8c\u3001\u5b9e\u9645\u60c5\u51b5\u5206\u7c7b",id:"\u4e8c\u5b9e\u9645\u60c5\u51b5\u5206\u7c7b",level:2},{value:"1\u3001\u6700\u591a\u8fdb\u884c\u4e00\u7b14\u4ea4\u6613",id:"1\u6700\u591a\u8fdb\u884c\u4e00\u7b14\u4ea4\u6613",level:3},{value:"2\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236",id:"2\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236",level:3},{value:"3\u3001\u6700\u591a\u8fdb\u884c\u4e24\u7b14\u4ea4\u6613",id:"3\u6700\u591a\u8fdb\u884c\u4e24\u7b14\u4ea4\u6613",level:3},{value:"4\u3001\u6307\u5b9a\u4ea4\u6613\u7b14\u6570",id:"4\u6307\u5b9a\u4ea4\u6613\u7b14\u6570",level:3},{value:"5\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u4f46\u662f\u6709\u4ea4\u6613CD",id:"5\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\u4f46\u662f\u6709\u4ea4\u6613cd",level:3},{value:"6\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u4f46\u662f\u6709\u4ea4\u6613\u624b\u7eed\u8d39",id:"6\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\u4f46\u662f\u6709\u4ea4\u6613\u624b\u7eed\u8d39",level:3}],o={toc:m};function d(e){let{components:n,...l}=e;return(0,p.kt)("wrapper",(0,i.Z)({},o,l,{components:n,mdxType:"MDXLayout"}),(0,p.kt)("h1",{id:"\u80a1\u7968\u95ee\u9898"},"\u80a1\u7968\u95ee\u9898"),(0,p.kt)("p",null,"\u53c2\u8003\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/discuss/108870/Most-consistent-ways-of-dealing-with-the-series-of-stock-problems"},"Most consistent ways of dealing with the series of stock problems")),(0,p.kt)("p",null,"\u53c2\u8003\u7ffb\u8bd1\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/circle/article/qiAgHn/"},"\u80a1\u7968\u95ee\u9898\u7cfb\u5217\u901a\u89e3\uff08\u8f6c\u8f7d\u7ffb\u8bd1\uff09")),(0,p.kt)("p",null,"\u80a1\u7968\u95ee\u9898\u4e00\u5171\u6709\u516d\u9053\u9898\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/"},"121. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/"},"122. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a II")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/"},"123. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a III")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/"},"188. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a IV")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/"},"309. \u6700\u4f73\u4e70\u5356\u80a1\u7968\u65f6\u673a\u542b\u51b7\u51bb\u671f")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("a",{parentName:"li",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/"},"714. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39"))),(0,p.kt)("h2",{id:"\u4e00\u901a\u7528\u60c5\u51b5"},"\u4e00\u3001\u901a\u7528\u60c5\u51b5"),(0,p.kt)("p",null,"\u80a1\u7968\u95ee\u9898\u672c\u8d28\u4e0a\u662f\u300c",(0,p.kt)("strong",{parentName:"p"},"\u72b6\u6001\u673aDP"),"\u300d"),(0,p.kt)("p",null,"\u9996\u5148\u4ecb\u7ecd\u4e00\u4e9b\u7b26\u53f7\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"n")," \u8868\u793a\u80a1\u7968\u4ef7\u683c\u6570\u7ec4\u7684\u957f\u5ea6\uff1b"),(0,p.kt)("li",{parentName:"ul"},"\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u8868\u793a\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u5929\uff08",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u7684\u53d6\u503c\u8303\u56f4\u662f ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u5230 ",(0,p.kt)("inlineCode",{parentName:"li"},"n - 1"),"\uff09\uff1b"),(0,p.kt)("li",{parentName:"ul"},"\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"maxK")," \u8868\u793a\u5141\u8bb8\u7684\u6700\u5927\u4ea4\u6613\u6b21\u6570\uff1b")),(0,p.kt)("h3",{id:"\u521d\u6b65\u5206\u6790"},"\u521d\u6b65\u5206\u6790"),(0,p.kt)("p",null,"\u5047\u8bbe\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k]")," \u8868\u793a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7ed3\u675f\u65f6\uff0c\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u7b14\u4ea4\u6613\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\u3002\u8bb0\u5f55\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"[0, i]")," \u8303\u56f4\u7684\u6700\u4f18\u89e3\u3002"),(0,p.kt)("p",null,"\u57fa\u7840\u60c5\u51b5\u4e3a  ",(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][0] = 0"),"\uff0c\u8868\u793a\u6ca1\u6709\u8fdb\u884c\u80a1\u7968\u4ea4\u6613\u65f6\u6ca1\u6709\u6536\u76ca"),(0,p.kt)("p",null,"\u5982\u4f55\u8fdb\u884c",(0,p.kt)("strong",{parentName:"p"},"\u72b6\u6001\u8f6c\u79fb"),"\uff1a\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u53ef\u80fd\u7684\u64cd\u4f5c\u6709\u4e09\u4e2a\uff1a",(0,p.kt)("strong",{parentName:"p"},"\u4e70\u5165"),"\u3001",(0,p.kt)("strong",{parentName:"p"},"\u5356\u51fa"),"\u3001",(0,p.kt)("strong",{parentName:"p"},"\u4f11\u606f"),"\uff0c\u901a\u8fc7\u8ba1\u7b97\u5f97\u5230\u9009\u62e9\u6bcf\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u5f97\u5230\u7684\u6700\u5927\u6536\u76ca"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u548c\u53c2\u8003\u4e2d\u7684\u5b9a\u4e49\u4e0d\u540c\uff0c\u53c2\u8003\u4e2d\u5b9a\u4e49\u7b2c\u4e8c\u7ef4\u5ea6\u4e3a\u300c\u6700\u591a\u300d\u8fdb\u884c k \u7b14\u4ea4\u6613\uff0c\u4e2a\u4eba\u611f\u89c9\u76f4\u63a5\u5b9a\u4e49\u4e3a\u8fdb\u884c k \u7b14\u4ea4\u6613\u6e05\u695a\u4e9b"),(0,p.kt)("p",{parentName:"blockquote"},"\u7b2c\u4e8c\u7ef4\u5ea6\u5b9a\u4e49\u7684\u4e0d\u540c\uff0c\u4f1a\u5f15\u8d77\u521d\u59cb\u5316\u548c\u7b54\u6848\u8fd4\u56de\u7684\u4e0d\u540c\uff0c\u4e00\u5b9a\u8981\u7406\u89e3\u548c\u6ce8\u610f")),(0,p.kt)("h3",{id:"\u901a\u89e3"},"\u901a\u89e3"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u4f46\u662f\u9898\u76ee\u6216\u8005\u73b0\u5b9e\u4e16\u754c\u662f\u6709\u9650\u5236\u6761\u4ef6\u7684\uff0c\u8981\u7b26\u5408\u903b\u8f91")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u89c4\u5b9a\u4e0d\u80fd\u540c\u65f6\u8fdb\u884c\u591a\u6b21\u4ea4\u6613\uff0c\u56e0\u6b64\u5982\u679c\u51b3\u5b9a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u5929\u4e70\u5165\uff0c\u5728\u4e70\u5165\u4e4b\u524d\u5fc5\u987b\u6301\u6709 ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u4efd\u80a1\u7968\uff0c"),(0,p.kt)("li",{parentName:"ul"},"\u5982\u679c\u51b3\u5b9a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u5929\u5356\u51fa\uff0c\u5728\u5356\u51fa\u4e4b\u524d\u5fc5\u987b\u6070\u597d\u6301\u6709 ",(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u4efd\u80a1\u7968\u3002")),(0,p.kt)("p",null,"\u56e0\u6b64\u7528\u300c",(0,p.kt)("strong",{parentName:"p"},"\u7b2c i \u5929"),"\u300d\u548c\u300c",(0,p.kt)("strong",{parentName:"p"},"\u5f53\u5929\u7ed3\u675f\u540e\u8fdb\u884c\u4e86 k \u6b21\u4ea4\u6613"),"\u300d\u4e24\u4e2a\u7ef4\u5ea6\u63cf\u8ff0\u4e00\u4e2a\u72b6\u6001\u662f\u4e0d\u5b8c\u6574\u7684"),(0,p.kt)("p",null,"\u300c",(0,p.kt)("strong",{parentName:"p"},"\u5f53\u5929\u7ed3\u675f\u540e\u6301\u6709\u80a1\u7968\u7684\u6570\u91cf"),"\u300d\u662f\u7b2c\u4e09\u4e2a\u5173\u952e\u7ef4\u5ea6\uff0c",(0,p.kt)("strong",{parentName:"p"},"\u8be5\u56e0\u7d20\u5f71\u54cd\u7b2c i \u5929\u53ef\u4ee5\u8fdb\u884c\u7684\u64cd\u4f5c\uff0c\u8fdb\u800c\u5f71\u54cd\u6700\u5927\u6536\u76ca"),"\u3002"),(0,p.kt)("p",null,"\u56e0\u6b64\u5bf9\u72b6\u6001 ",(0,p.kt)("inlineCode",{parentName:"p"},"dp")," \u7528\u4e09\u4e2a\u7ef4\u5ea6\u91cd\u65b0",(0,p.kt)("strong",{parentName:"p"},"\u72b6\u6001\u5b9a\u4e49"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][k][0]")," \u8868\u793a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u5929\u7ed3\u675f\u65f6\uff0c\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u7b14\u4ea4\u6613\u4e14\u5728\u8fdb\u884c\u64cd\u4f5c\u540e\u6301\u6709 ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u4efd\u80a1\u7968\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][k][1]")," \u8868\u793a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i")," \u5929\u7ed3\u675f\u65f6\uff0c\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u7b14\u4ea4\u6613\u4e14\u5728\u8fdb\u884c\u64cd\u4f5c\u540e\u6301\u6709 ",(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u4efd\u80a1\u7968\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\u3002")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u6bcf\u6b21\uff08\u7b14\uff09\u4ea4\u6613\u5305\u542b\u6210\u5bf9\u7684\u64cd\u4f5c\uff1a\u300c\u4e70\u5165\u300d\u548c\u300c\u5356\u51fa\u300d\uff0c\u4ec5\u5f53\u300c\u4e70\u5165\u300d\u65f6\u4f1a\u589e\u52a0\u4ea4\u6613\u6b21\u6570\uff0c\u4e00\u7b14\u4ea4\u6613\u5e94\u8be5\u88ab\u7406\u89e3\u4e3a\u4e00\u6b21\u300c\u4ea4\u6613\u5468\u671f\u300d\uff0c\u4e70\u5165\u4f1a\u589e\u52a0\u4e00\u6b21\u4ea4\u6613\u5468\u671f\uff0c\u800c\u300c\u5356\u51fa\u300d\u53ea\u662f\u5c06\u8fd9\u6b21\u4ea4\u6613\u5468\u671f\u300c\u95ed\u73af\u300d\uff0c\u5b9e\u9645\u4e0d\u4f1a\u589e\u52a0\u4ea4\u6613\u5468\u671f\u7684\u6b21\u6570")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b"),"\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i])\ndp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - prices[i])\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k][0]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"0")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u5356\u51fa\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][k][0]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u5356\u51fa\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][k][1] + prices[i]"),"\uff0c\u80a1\u7968\u6301\u6709\u6570\u4ece\u524d\u4e00\u5929\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u51cf\u5c11\u5230\u5f53\u524d\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u7531\u4e8e\u662f\u5356\u51fa\u64cd\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u5230\u4ea4\u6613\u5468\u671f\u7684\u6b21\u6570\uff0c\u56e0\u6b64 ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u4e0d\u53d8\uff0c\u6700\u540e\u6536\u76ca\u589e\u52a0 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]")))),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k][1]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"1")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u4e70\u5165\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][k][1]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4e70\u5165\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][k - 1][0] - prices[i]"),"\uff0c\u80a1\u7968\u6301\u6709\u6570\u4ece\u524d\u4e00\u5929\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u589e\u52a0\u5230\u5f53\u524d\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"1"),"\uff0c\u7531\u4e8e\u662f\u4e70\u5165\u64cd\u4f5c\u4ea4\u6613\u5468\u671f\u6570\u4ece\u524d\u4e00\u5929\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"k-1")," \u6b21\u589e\u52a0\u5230\u5f53\u524d\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u7b14\uff0c\u6700\u540e\u6536\u76ca\u51cf\u5c11 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]"))))),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"base case\uff1a\u521d\u59cb\u5316\u7b2c 0 \u5929\u7684\u60c5\u51b5")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][0][0] = 0"),"\uff0c\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u5929\u6ca1\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u6536\u76ca\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][1][1] = -prices[0]"),"\uff0c\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u5929\u4e70\u4e86\u80a1\u7968\uff0c\u6536\u76ca\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"-prices[0]")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][k][j] = INT_MIN >> 1"),"\uff0c\u7c7b\u4f3c\u8fd9\u79cd\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u5929\u4e70\u4e86 ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u6b21\u80a1\u7968\uff0c\u4e0d\u53ef\u80fd\u53d1\u751f\u7684\u4e8b\uff0c\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"INT_MIN >> 1")," \u6807\u8bb0")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},(0,p.kt)("inlineCode",{parentName:"p"},"INT_MIN")," \u9664\u4ee52\uff0c\u662f\u56e0\u4e3a\u5728\u904d\u5386\u7684\u8fc7\u7a0b\u4e2d\uff0cdp\u8bb0\u5f55\u7684\u503c\u4f1a\u53d8\u5f97\u66f4\u5c0f")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u83b7\u53d6\u7b54\u6848"),"\uff1a"),(0,p.kt)("p",null,"\u7531\u4e8e\u6211\u4eec\u5c06 ",(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k][j]")," \u5b9a\u4e49\u4e3a\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7ed3\u675f\u65f6\uff0c\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u7b14\u4ea4\u6613\u540e\uff0c\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\uff1b"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u9996\u5148\uff0c\u4e00\u5b9a\u662f\u6301\u6709\u7684\u80a1\u7968\u6570\u6e05 ",(0,p.kt)("inlineCode",{parentName:"li"},"j = 0")," \u540e\u7684\u624d\u80fd\u83b7\u5f97\u6700\u5927\u6536\u76ca"),(0,p.kt)("li",{parentName:"ul"},"\u5176\u6b21\uff0c\u6700\u540e\u4e00\u5929\u7684\u6700\u5927\u6536\u76ca\uff0c\u4f4d\u4e8e\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"li"},"k")," \u7b14\u4ea4\u6613\u72b6\u6001\u4e2d\u7684\u6700\u5927\u4e00\u4e2a")),(0,p.kt)("p",null,"\u6240\u4ee5\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"max{dp[n-1][k][0]...}")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u6700\u540e\uff0c\u7531\u4e8e\u521d\u59cb\u5316\u7684\u65f6\u5019\u5f15\u5165\u4e86\u65e0\u7a77\u5c0f\uff0c\u7ed3\u679c\u53ef\u80fd\u662f\u300c\u8d1f\u7684\u300d\uff0c\u4ee3\u8868\u4e00\u987f\u64cd\u4f5c\u4e0d\u5982\u4e0d\u4e70\uff0c\u8fd9\u79cd\u60c5\u51b5\u8fd4\u56de ",(0,p.kt)("inlineCode",{parentName:"li"},"0"))),(0,p.kt)("h2",{id:"\u4e8c\u5b9e\u9645\u60c5\u51b5\u5206\u7c7b"},"\u4e8c\u3001\u5b9e\u9645\u60c5\u51b5\u5206\u7c7b"),(0,p.kt)("p",null,"\u4e0a\u8ff0\u516d\u4e2a\u80a1\u7968\u95ee\u9898\u662f\u6839\u636e ",(0,p.kt)("inlineCode",{parentName:"p"},"maxK")," \u7684\u503c\u8fdb\u884c\u5206\u7c7b\u7684\uff0c\u5176\u4e2d ",(0,p.kt)("inlineCode",{parentName:"p"},"maxK")," \u662f\u5141\u8bb8\u7684\u6700\u5927\u4ea4\u6613\u6b21\u6570\u3002\u6700\u540e\u4e24\u4e2a\u95ee\u9898\u6709\u9644\u52a0\u9650\u5236\uff0c\u5305\u62ec\u300c\u51b7\u51bb\u671f\u300d\u548c\u300c\u624b\u7eed\u8d39\u300d\u3002\u901a\u89e3\u53ef\u4ee5\u5e94\u7528\u4e8e\u6bcf\u4e2a\u80a1\u7968\u95ee\u9898\u3002"),(0,p.kt)("h3",{id:"1\u6700\u591a\u8fdb\u884c\u4e00\u7b14\u4ea4\u6613"},"1\u3001\u6700\u591a\u8fdb\u884c\u4e00\u7b14\u4ea4\u6613"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/"},"121. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a")),(0,p.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices")," \uff0c\u5b83\u7684\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u4e2a\u5143\u7d20 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices[i]")," \u8868\u793a\u4e00\u652f\u7ed9\u5b9a\u80a1\u7968\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7684\u4ef7\u683c\u3002"),(0,p.kt)("p",null,"\u4f60\u53ea\u80fd\u9009\u62e9 ",(0,p.kt)("strong",{parentName:"p"},"\u67d0\u4e00\u5929")," \u4e70\u5165\u8fd9\u53ea\u80a1\u7968\uff0c\u5e76\u9009\u62e9\u5728 ",(0,p.kt)("strong",{parentName:"p"},"\u672a\u6765\u7684\u67d0\u4e00\u4e2a\u4e0d\u540c\u7684\u65e5\u5b50")," \u5356\u51fa\u8be5\u80a1\u7968\u3002\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u6765\u8ba1\u7b97\u4f60\u6240\u80fd\u83b7\u53d6\u7684\u6700\u5927\u5229\u6da6\u3002"),(0,p.kt)("p",null,"\u8fd4\u56de\u4f60\u53ef\u4ee5\u4ece\u8fd9\u7b14\u4ea4\u6613\u4e2d\u83b7\u53d6\u7684\u6700\u5927\u5229\u6da6\u3002\u5982\u679c\u4f60\u4e0d\u80fd\u83b7\u53d6\u4efb\u4f55\u5229\u6da6\uff0c\u8fd4\u56de ",(0,p.kt)("inlineCode",{parentName:"p"},"0")," \u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165\uff1a[7,1,5,3,6,4]\n\u8f93\u51fa\uff1a5\n\u89e3\u91ca\uff1a\u5728\u7b2c 2 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 1\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 5 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 6\uff09\u7684\u65f6\u5019\u5356\u51fa\uff0c\u6700\u5927\u5229\u6da6 = 6-1 = 5 \u3002\n     \u6ce8\u610f\u5229\u6da6\u4e0d\u80fd\u662f 7-1 = 6, \u56e0\u4e3a\u5356\u51fa\u4ef7\u683c\u9700\u8981\u5927\u4e8e\u4e70\u5165\u4ef7\u683c\uff1b\u540c\u65f6\uff0c\u4f60\u4e0d\u80fd\u5728\u4e70\u5165\u524d\u5356\u51fa\u80a1\u7968\u3002\n\n\u8f93\u5165\uff1aprices = [7,6,4,3,1]\n\u8f93\u51fa\uff1a0\n\u89e3\u91ca\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b, \u6ca1\u6709\u4ea4\u6613\u5b8c\u6210, \u6240\u4ee5\u6700\u5927\u5229\u6da6\u4e3a 0\u3002\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices.length <= 10^5")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices[i] <= 10^4"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u9650\u5236\u4e86\u6700\u591a 1 \u7b14\u4ea4\u6613\uff0c\u4ec5\u6709 ",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][0][0]")," \u662f\u6709\u610f\u4e49\u7684\uff0c\u5176\u4ed6\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][0][j]")," \u90fd\u65e0\u610f\u4e49\uff08\u4ed4\u7ec6\u8003\u8651\u4e0b\uff09"),(0,p.kt)("li",{parentName:"ul"},"\u56e0\u6b64\uff0c\u53bb\u6389\u7b2c\u4e8c\u4e2a\u7ef4\u5ea6\uff0c\u7528 0 \u66ff\u4ee3 ",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][0][0]")),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u5b9a\u4e49\u72b6\u6001")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][0]")," \u7b2c i \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff08",(0,p.kt)("inlineCode",{parentName:"li"},"[0, i]")," \u8303\u56f4\u7684\u6700\u4f18\u89e3\uff09"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][1]")," \u7b2c i \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 1 \u7684\u6700\u5927\u5229\u6da6\uff08",(0,p.kt)("inlineCode",{parentName:"li"},"[0, i]")," \u8303\u56f4\u7684\u6700\u4f18\u89e3\uff09")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i])\ndp[i][1] = max(dp[i - 1][1], 0 - prices[i])\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][0]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"0")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u5356\u51fa\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][0]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u5356\u51fa\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1] + prices[i]"),"\uff0c\u80a1\u7968\u6301\u6709\u6570\u4ece\u524d\u4e00\u5929\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u51cf\u5c11\u5230\u5f53\u524d\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u6700\u540e\u6536\u76ca\u589e\u52a0 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]")))),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][1]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"1")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u4e70\u5165\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4e70\u5165\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"0 - prices[i]"),"\uff0c\u6536\u76ca\u51cf\u5c11 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]"))))),(0,p.kt)("p",null,"\u95ee\uff1a\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u662f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"0")," \u51cf\u800c\u4e0d\u662f ",(0,p.kt)("inlineCode",{parentName:"p"},"dp[i-1][0]")," ?"),(0,p.kt)("p",null,"\u7b54\uff1a\u672c\u9898\u76ee\u8981\u6c42\uff0c\u53ea\u80fd\u8fdb\u884c\u4e00\u6b21\u4ea4\u6613\u5468\u671f"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u56e0\u6b64\u5728\u5f53\u5929\u4e70\u5165\u524d\u4e0d\u80fd\u8fdb\u884c\u4ea4\u6613\uff0c\u524d\u4e00\u5929\u7684\u6700\u5927\u6536\u76ca\u5fc5\u7136\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i-1][0]")," \u4ee3\u8868\u4e86\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i - 1")," \u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u524d\u9762\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"i-1")," \u5929\u53ef\u80fd\u8fdb\u884c\u8fc7\u4ea4\u6613\uff0c\u540e\u6765\u53c8\u5356\u51fa\u7684\u60c5\u51b5"),(0,p.kt)("li",{parentName:"ul"},"\u5982\u679c\u771f\u8981\u7528\u72b6\u6001\u6765\u8ba1\u7b97\u7684\u8bdd\uff0c\u5e94\u8be5\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i-1][0][0]"),"\uff0c\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i - 1")," \u5929\u6700\u5927\u7684\u4ea4\u6613\u6b21\u6570\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u6b21\uff08\u4e0d\u80fd\u4ea4\u6613\uff09\u4e14\u6301\u6709\u80a1\u7968\u6570\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0")),(0,p.kt)("li",{parentName:"ul"},"\u800c\u4ea4\u6613\u6b21\u6570\u8fd9\u4e2a\u7ef4\u5ea6\u5df2\u7ecf\u88ab\u6d88\u9664\u6389\u4e86\uff0c\u6545\u76f4\u63a5\u7528 0 \u8868\u793a\u524d\u9762\u90a3\u4e9b\u5929\u4e0d\u80fd\u4ea4\u6613\u7684\u6700\u5927\u6536\u76ca")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u521d\u59cb\u5316")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4f11\u606f\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][0] = 0")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4e70\u5165\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][1] = -prices[i]")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4. \u8f93\u51fa")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[n-1][0]")," \u7b2c n-1 \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff08\u80af\u5b9a\u6bd4\u6700\u540e\u4e00\u5929\u624b\u4e0a\u8fd8\u6709\u80a1\u7968\u7684\u60c5\u51b5\u597d\uff09"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u4ec5\u548c\u524d\u4e00\u5929\u6709\u5173\uff0c\u53ef\u4f18\u5316"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(1)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        vector<vector<int>> dp(n, vector<int>(2, 0));\n\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n\n        for (int i = 1; i < n; i++) {\n            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i]);  // \u5f53\u5929 \u4f11\u606f \u6216 \u5356\n            dp[i][1] = max(dp[i - 1][1], -prices[i]);                // \u5f53\u5929 \u4f11\u606f \u6216 \u4e70\n        }\n        return dp[n - 1][0];\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n\n        int pre_zero = 0;\n        int pre_one = -prices[0];\n\n        for (int i = 1; i < n; i++) {\n            int cur_zero = max(pre_zero, pre_one + prices[i]);  // \u5f53\u5929 \u4f11\u606f \u6216 \u5356\n            int cur_one = max(pre_one, -prices[i]);             // \u5f53\u5929 \u4f11\u606f \u6216 \u4e70\n            pre_zero = cur_zero;\n            pre_one = cur_one;\n        }\n        return pre_zero;\n    }\n};\n")),(0,p.kt)("p",null,"\u8fd8\u6709\u4e2a\u6a21\u62df\u7684\u7b97\u6cd5\uff1a"),(0,p.kt)("p",null,"\u63d0\u524d\u7b97\u51fa\u5f53\u5929\u524d\u9762\u90a3\u4e9b\u5929\u7684\u6700\u4f4e\u80a1\u7968"),(0,p.kt)("p",null,"\u53bb\u6a21\u62df\uff0c\u524d\u9762\u6700\u4f4e\u7684\u65f6\u5019\u4e70\uff0c\u5f53\u524d\u5356\uff0c\u8bb0\u5f55\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u7684\u6700\u5927\u503c"),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        if (n == 1) return 0;\n        // memo[i] \u7b2ci\u4e2a\u5143\u7d20\u524d\u6700\u4f4e\u7684\u80a1\u7968\u4ef7\u683c\uff0c\u4e0d\u5305\u62ecprices[i]\n        vector<int> memo(n, 0);\n        memo[0] = INT_MAX;\n\n        for (int i = 1; i < n; i++) {\n            memo[i] = min(memo[i-1], prices[i-1]);\n        }\n        int ans = 0;\n        for (int i = 1; i < n; i++) {\n            if (prices[i] > memo[i]) {\n                ans = max(ans, prices[i] - memo[i]);\n            }\n        }\n        return ans;\n    }\n};\n")),(0,p.kt)("h3",{id:"2\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236"},"2\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/"},"122. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a II")),(0,p.kt)("p",null,"\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices")," \uff0c\u5176\u4e2d ",(0,p.kt)("inlineCode",{parentName:"p"},"prices[i]")," \u8868\u793a\u67d0\u652f\u80a1\u7968\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7684\u4ef7\u683c\u3002"),(0,p.kt)("p",null,"\u5728\u6bcf\u4e00\u5929\uff0c\u4f60\u53ef\u4ee5\u51b3\u5b9a\u662f\u5426\u8d2d\u4e70\u548c/\u6216\u51fa\u552e\u80a1\u7968\u3002\u4f60\u5728\u4efb\u4f55\u65f6\u5019 ",(0,p.kt)("strong",{parentName:"p"},"\u6700\u591a")," \u53ea\u80fd\u6301\u6709 ",(0,p.kt)("strong",{parentName:"p"},"\u4e00\u80a1")," \u80a1\u7968\u3002\u4f60\u4e5f\u53ef\u4ee5\u5148\u8d2d\u4e70\uff0c\u7136\u540e\u5728 ",(0,p.kt)("strong",{parentName:"p"},"\u540c\u4e00\u5929")," \u51fa\u552e\u3002"),(0,p.kt)("p",null,"\u8fd4\u56de ",(0,p.kt)("em",{parentName:"p"},"\u4f60\u80fd\u83b7\u5f97\u7684 ",(0,p.kt)("strong",{parentName:"em"},"\u6700\u5927")," \u5229\u6da6")," \u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165\uff1aprices = [7,1,5,3,6,4]\n\u8f93\u51fa\uff1a7\n\u89e3\u91ca\uff1a\u5728\u7b2c 2 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 1\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 3 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 5\uff09\u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 5 - 1 = 4 \u3002\n\xa0    \u968f\u540e\uff0c\u5728\u7b2c 4 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 3\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 5 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 6\uff09\u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 6 - 3 = 3 \u3002\n     \u603b\u5229\u6da6\u4e3a 4 + 3 = 7 \u3002\n\n\u8f93\u5165\uff1aprices = [1,2,3,4,5]\n\u8f93\u51fa\uff1a4\n\u89e3\u91ca\uff1a\u5728\u7b2c 1 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 1\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 5 \u5929 \uff08\u80a1\u7968\u4ef7\u683c = 5\uff09\u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 5 - 1 = 4 \u3002\n\xa0    \u603b\u5229\u6da6\u4e3a 4 \u3002\n\n\u8f93\u5165\uff1aprices = [7,6,4,3,1]\n\u8f93\u51fa\uff1a0\n\u89e3\u91ca\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b, \u4ea4\u6613\u65e0\u6cd5\u83b7\u5f97\u6b63\u5229\u6da6\uff0c\u6240\u4ee5\u4e0d\u53c2\u4e0e\u4ea4\u6613\u53ef\u4ee5\u83b7\u5f97\u6700\u5927\u5229\u6da6\uff0c\u6700\u5927\u5229\u6da6\u4e3a 0 \u3002\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices.length <= 3 * 104")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices[i] <= 104"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u9898\u76ee\u6ca1\u6709\u9650\u5236\u5f53\u5929\u7684\u4ea4\u6613\u6b21\u6570\uff0c\u6bcf\u5929\u53ef\u8fdb\u884c\u65e0\u9650\u6b21\u4ea4\u6613\uff0c\u7b2c\u4e8c\u4e2a\u7ef4\u5ea6\uff08\u5f53\u5929\u4ea4\u6613\u7684\u6b21\u6570\uff09\u5c31\u6ca1\u4e86\u610f\u4e49\uff0c\u4e0d\u7528\u4e86"),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u5b9a\u4e49\u72b6\u6001")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][0]")," \u7b2c i \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff08",(0,p.kt)("inlineCode",{parentName:"li"},"[0, i]")," \u8303\u56f4\u7684\u6700\u4f18\u89e3\uff09"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i][1]")," \u7b2c i \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 1 \u7684\u6700\u5927\u5229\u6da6\uff08",(0,p.kt)("inlineCode",{parentName:"li"},"[0, i]")," \u8303\u56f4\u7684\u6700\u4f18\u89e3\uff09")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i])\ndp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i])\n")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][0]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"0")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u5356\u51fa\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][0]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u5356\u51fa\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1] + prices[i]"),"\uff0c\u80a1\u7968\u6301\u6709\u6570\u4ece\u524d\u4e00\u5929\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u51cf\u5c11\u5230\u5f53\u524d\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u6700\u540e\u6536\u76ca\u589e\u52a0 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]")))),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("p",{parentName:"li"},(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][1]"),"\uff0c\u5f53\u524d\u7ed3\u675f\u540e\u6301\u6709\u7684\u80a1\u7968\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"1")," \u4e2a\uff0c\u56e0\u6b64\u5f53\u5929\u4ec5\u53ef\u8fdb\u884c\u300c\u4f11\u606f\u300d\u548c\u300c\u4e70\u5165\u300d\u64cd\u4f5c\uff0c\u53d6\u4e24\u79cd\u64cd\u4f5c\u7684\u6700\u5927\u503c"),(0,p.kt)("ul",{parentName:"li"},(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4f11\u606f\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1]")),(0,p.kt)("li",{parentName:"ul"},"\u5f53\u5929\u300c\u4e70\u5165\u300d\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][0] - prices[i]"),"\uff0c\u6536\u76ca\u51cf\u5c11 ",(0,p.kt)("inlineCode",{parentName:"li"},"prices[i]"))))),(0,p.kt)("p",null,"\u95ee\uff1a\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u53c8\u53ef\u4ee5\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"dp[i-1][0]")," ?"),(0,p.kt)("p",null,"\u7b54\uff1a\u672c\u9898\u76ee\u6574\u4f53\u4e0a\u6ca1\u6709\u9650\u5236\u4ea4\u6613\u6b21\u6570\uff0c\u53ea\u8981\u786e\u4fdd\u624b\u4e0a\u6700\u591a\u53ea\u6709\u4e00\u4e2a\u80a1\u7968\u5c31\u884c"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[i-1][0]")," \u4ee3\u8868\u4e86\u7b2c ",(0,p.kt)("inlineCode",{parentName:"li"},"i - 1")," \u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a ",(0,p.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u4e14\u5305\u542b\u4e86\u524d\u9762\u7684 ",(0,p.kt)("inlineCode",{parentName:"li"},"i-1")," \u5929\u53ef\u80fd\u8fdb\u884c\u8fc7\u4ea4\u6613\uff0c\u540e\u6765\u53c8\u5356\u51fa\u7684\u60c5\u51b5"),(0,p.kt)("li",{parentName:"ul"},"\u8ba1\u7b97\u5f53\u5929\u7684\u6700\u5927\u6536\u76ca\uff0c\u5c31\u5f97\u4ece\u524d\u4e00\u5929\u5408\u7406\uff08\u80a1\u7968\u6e05\u96f6\uff09\u7684\u6700\u5927\u6536\u76ca\u8f6c\u79fb\u8fc7\u6765")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u521d\u59cb\u5316")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4f11\u606f\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][0] = 0")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4e70\u5165\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][1] = -prices[i]")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4. \u8f93\u51fa")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[n-1][0]")," \u7b2c n-1 \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff08\u80af\u5b9a\u6bd4\u6700\u540e\u4e00\u5929\u624b\u4e0a\u8fd8\u6709\u80a1\u7968\u7684\u60c5\u51b5\u597d\uff09"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u4ec5\u548c\u524d\u4e00\u5929\u6709\u5173\uff0c\u53ef\u4f18\u5316"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(1)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n\n        vector<vector<int>> dp(n, vector<int>(2, 0));\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n        \n        for (int i = 1; i < n; i++) {\n            dp[i][0] = max(dp[i-1][0], dp[i-1][1] + prices[i]);\n            dp[i][1] = max(dp[i-1][1], dp[i-1][0] - prices[i]);\n        }\n        return dp[n-1][0];\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n\n        int pre_zero = 0;\n        int pre_one = -prices[0];\n\n        for (int i = 1; i < n; i++) {\n            int cur_zero = max(pre_zero, pre_one + prices[i]);\n            int cur_one = max(pre_one, pre_zero - prices[i]);\n            pre_zero = cur_zero;\n            pre_one = cur_one;\n        }\n        return pre_zero;\n    }\n};\n")),(0,p.kt)("p",null,"\u8fd8\u6709\u4e2a\u8d2a\u5fc3\u7684\u505a\u6cd5\uff1a"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u8d2a\u5fc3\u7b97\u6cd5\u7684\u76f4\u89c9"),"\uff1a\u7531\u4e8e\u4e0d\u9650\u5236\u4ea4\u6613\u6b21\u6570\uff0c\u53ea\u8981\u4eca\u5929\u80a1\u4ef7\u6bd4\u6628\u5929\u9ad8\uff0c\u5c31\u4ea4\u6613"),(0,p.kt)("p",null,"\u8be5\u7b97\u6cd5\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8ba1\u7b97\uff0c\u4f46 ",(0,p.kt)("strong",{parentName:"p"},"\u8ba1\u7b97\u7684\u8fc7\u7a0b\u5e76\u4e0d\u662f\u771f\u6b63\u4ea4\u6613\u7684\u8fc7\u7a0b")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int res = 0;\n        for (int i = 1; i < prices.size(); i++) {\n            if (prices[i] > prices[i - 1]) {\n                res += prices[i] - prices[i - 1];\n            }\n        }\n        return res;\n    }\n};\n")),(0,p.kt)("h3",{id:"3\u6700\u591a\u8fdb\u884c\u4e24\u7b14\u4ea4\u6613"},"3\u3001\u6700\u591a\u8fdb\u884c\u4e24\u7b14\u4ea4\u6613"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/"},"123. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a III")),(0,p.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b83\u7684\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u4e2a\u5143\u7d20\u662f\u4e00\u652f\u7ed9\u5b9a\u7684\u80a1\u7968\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7684\u4ef7\u683c\u3002"),(0,p.kt)("p",null,"\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u6765\u8ba1\u7b97\u4f60\u6240\u80fd\u83b7\u53d6\u7684\u6700\u5927\u5229\u6da6\u3002\u4f60\u6700\u591a\u53ef\u4ee5\u5b8c\u6210 ",(0,p.kt)("strong",{parentName:"p"},"\u4e24\u7b14")," \u4ea4\u6613\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u4f60\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff08\u4f60\u5fc5\u987b\u5728\u518d\u6b21\u8d2d\u4e70\u524d\u51fa\u552e\u6389\u4e4b\u524d\u7684\u80a1\u7968\uff09\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165\uff1aprices = [3,3,5,0,0,3,1,4]\n\u8f93\u51fa\uff1a6\n\u89e3\u91ca\uff1a\u5728\u7b2c 4 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 0\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 6 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 3\uff09\u7684\u65f6\u5019\u5356\u51fa\uff0c\u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 3-0 = 3 \u3002\n\xa0    \u968f\u540e\uff0c\u5728\u7b2c 7 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 1\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 8 \u5929 \uff08\u80a1\u7968\u4ef7\u683c = 4\uff09\u7684\u65f6\u5019\u5356\u51fa\uff0c\u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 4-1 = 3 \u3002\n\n\u8f93\u5165\uff1aprices = [1,2,3,4,5]\n\u8f93\u51fa\uff1a4\n\u89e3\u91ca\uff1a\u5728\u7b2c 1 \u5929\uff08\u80a1\u7968\u4ef7\u683c = 1\uff09\u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 5 \u5929 \uff08\u80a1\u7968\u4ef7\u683c = 5\uff09\u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 5-1 = 4 \u3002 \xa0 \n\xa0    \u6ce8\u610f\u4f60\u4e0d\u80fd\u5728\u7b2c 1 \u5929\u548c\u7b2c 2 \u5929\u63a5\u8fde\u8d2d\u4e70\u80a1\u7968\uff0c\u4e4b\u540e\u518d\u5c06\u5b83\u4eec\u5356\u51fa\u3002 \xa0 \n\xa0    \u56e0\u4e3a\u8fd9\u6837\u5c5e\u4e8e\u540c\u65f6\u53c2\u4e0e\u4e86\u591a\u7b14\u4ea4\u6613\uff0c\u4f60\u5fc5\u987b\u5728\u518d\u6b21\u8d2d\u4e70\u524d\u51fa\u552e\u6389\u4e4b\u524d\u7684\u80a1\u7968\u3002\n\n\u8f93\u5165\uff1aprices = [7,6,4,3,1] \n\u8f93\u51fa\uff1a0 \n\u89e3\u91ca\uff1a\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b, \u6ca1\u6709\u4ea4\u6613\u5b8c\u6210, \u6240\u4ee5\u6700\u5927\u5229\u6da6\u4e3a 0\u3002\n\n\u8f93\u5165\uff1aprices = [1]\n\u8f93\u51fa\uff1a0\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices.length <= 105")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices[i] <= 105"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u9650\u5236\u4e86\u6700\u591a 2 \u7b14\u4ea4\u6613"),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u72b6\u6001\u5b9a\u4e49"),"\uff1a"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k][j]")," \u8868\u793a\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"[0, i]")," \u533a\u95f4\u91cc\uff08\u72b6\u6001\u5177\u6709\u524d\u7f00\u6027\u8d28\uff09\uff0c\u4ea4\u6613\u8fdb\u884c\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u6b21\uff0c\u624b\u4e0a\u6709 ",(0,p.kt)("inlineCode",{parentName:"p"},"j")," \u4e2a\u80a1\u7968\u65f6\uff0c\u62e5\u6709\u7684\u6700\u5927\u6536\u76ca\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u7684\u542b\u4e49\u5982\u4e0b\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"k = 0")," \u8868\u793a\u6ca1\u6709\u4ea4\u6613\u53d1\u751f\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"k = 1")," \u8868\u793a\u6b64\u65f6\u5df2\u7ecf\u53d1\u751f\u4e86 1 \u6b21\u4e70\u5165\u80a1\u7968\u7684\u884c\u4e3a\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"k = 2")," \u8868\u793a\u6b64\u65f6\u5df2\u7ecf\u53d1\u751f\u4e86 2 \u6b21\u4e70\u5165\u80a1\u7968\u7684\u884c\u4e3a\u3002")),(0,p.kt)("p",null,"\u6ce8\u610f\uff1a\u8bb0\u5f55\u4e00\u6b21\u4ea4\u6613\u4ea7\u751f\u662f\u5728 ",(0,p.kt)("strong",{parentName:"p"},"\u4e70\u5165\u80a1\u7968")," \u7684\u65f6\u5019\u3002\u5356\u51fa\u65f6\u4e0d\u53d8"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u521d\u59cb\u5316\uff08\u91cd\u70b9\uff09")),(0,p.kt)("p",null,"\u4e0b\u6807\u4e3a 0 \u8fd9\u4e00\u5929\uff0c\u4ea4\u6613\u6b21\u6570\u4e3a 0\u30011\u30012 \u5e76\u4e14\u72b6\u6001\u4e3a 0 \u548c 1 \u7684\u521d\u503c\u5e94\u8be5\u5982\u4e0b\u8bbe\u7f6e\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][0][0] = 0"),"\uff1a\u8fd9\u662f\u663e\u7136\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][0][1] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u4e00\u6b21\u4ea4\u6613\u90fd\u6ca1\u6709\u53d1\u751f\uff0c\u4f46\u662f\u6301\u80a1\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][1][0] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86 1 \u6b21\u4ea4\u6613\uff08\u4e70\u5165\uff09\uff0c\u4f46\u662f\u4e0d\u6301\u80a1\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][1][1] = -prices[0]"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86\u4e00\u6b21\u4ea4\u6613\uff0c\u5e76\u4e14\u6301\u80a1\uff0c\u6d88\u8017\u4e86 ",(0,p.kt)("inlineCode",{parentName:"li"},"-prices[0]"),"\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][2][0] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86 2 \u6b21\u4ea4\u6613\uff0c\u4f46\u662f\u4e0d\u6301\u80a1\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][2][1] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86 2 \u6b21\u4ea4\u6613\uff0c\u7b2c\u4e00\u5929\u4e0d\u53ef\u80fd\u53d1\u751f\u4e24\u6b21\u4ea4\u6613\uff1b")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4e00\u5b9a\u8981\u7528\u300c\u65e0\u7a77\u5c0f\u300d\u6807\u8bb0\u4e0d\u53ef\u80fd\u53d1\u751f\u7684\u4e8b\uff0c\u7528 0 \u8bb0\u5f55\u6536\u76ca\u4e3a0\uff0c\u5927\u4e8e 0 \u8bb0\u5f55\u4ea7\u751f\u4e86\u6536\u76ca"),(0,p.kt)("p",{parentName:"blockquote"},"\u901a\u8fc7 max \u5c06\u65e0\u7a77\u5c0f\u7684\u4e0d\u53ef\u80fd\u53d1\u751f\u7684\u72b6\u6001\u8fc7\u6ee4\u6389"),(0,p.kt)("p",{parentName:"blockquote"},"\u4e3a\u4ec0\u4e48\u300c\u65e0\u7a77\u5c0f\u300d\u8fd8\u8981\u9664\u4ee5\u4e8c\uff0c\u5f80\u4e0b\u770b")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b"),"\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][1][0] = max(dp[i - 1][1][0], dp[i - 1][1][1] + prices[i]);  // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u5356\u51fa\ndp[i][1][1] = max(dp[i - 1][1][1], dp[i - 1][0][0] - prices[i]);  // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u4e70\u5165\ndp[i][2][0] = max(dp[i - 1][2][0], dp[i - 1][2][1] + prices[i]);  // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u5356\u51fa\ndp[i][2][1] = max(dp[i - 1][2][1], dp[i - 1][1][0] - prices[i]);  // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u4e70\u5165\n")),(0,p.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u7b2c 2 \u7ef4\u7684 0 \u6ca1\u6709\u610f\u4e49\uff0c\u904d\u5386\u4e2d\u4e0d\u8981\u7b97\u5b83\u7684\u72b6\u6001"),(0,p.kt)("li",{parentName:"ul"},"\u5f53 i = 1\u65f6\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1][0] - prices[i]")," \u4f1a\u8ba9 ",(0,p.kt)("inlineCode",{parentName:"li"},"INT_MIN")," \u51cf\u4e00\u4e2a\u6b63\u6570\uff0c\u4f1a\u62a5\u9519\uff0c\u56e0\u6b64\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u4e00\u5f8b\u9664\u4ee5\u4e8c ",(0,p.kt)("inlineCode",{parentName:"li"},"INT_MIN >> 1"))),(0,p.kt)("p",null,(0,p.kt)("img",{alt:"123",src:t(26779).Z,width:"1112",height:"314"})),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4\u3001\u83b7\u53d6\u7b54\u6848"),"\uff1a"),(0,p.kt)("p",null,"\u5230\u4e86\u6700\u540e\u4e00\u5929 ",(0,p.kt)("inlineCode",{parentName:"p"},"n-1"),"\uff0c\u5df2\u5b8c\u6210\u7684\u4ea4\u6613\u7b14\u6570\u53ef\u80fd\u8fdb\u884c\u4e86 1 \u6b21\uff0c\u4e5f\u53ef\u80fd\u662f 2 \u6b21\uff0c\u4f46\u662f\u4e00\u5b9a\u5f97\u624b\u4e0a\u7684\u80a1\u7968\u6e05\u7a7a"),(0,p.kt)("p",null,"\u8fd4\u56de ",(0,p.kt)("inlineCode",{parentName:"p"},"max(dp[n-1][1][0], dp[n-1][2][0])"),"\uff0c\u4f46\u53ef\u80fd\u5b58\u5728\u8d1f\u503c"),(0,p.kt)("p",null,"\u8868\u793a\u5982\u679c\u4ea4\u6613\u7684\u8bdd\u4e00\u5b9a\u4f1a\u4e8f\u94b1\uff0c\u4e0d\u5982\u4e0d\u4ea4\u6613\uff0c\u8fd4\u56de 0"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(1)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        vector<vector<vector<int>>> dp(n, vector<vector<int>>(3, vector<int>(2, 0)));\n        // \u7b2c 2 \u7ef4\u7684 0 \u6ca1\u6709\u610f\u4e49\uff0c1 \u8868\u793a\u4ea4\u6613\u8fdb\u884c\u4e86 1 \u6b21\uff0c2 \u8868\u793a\u4ea4\u6613\u8fdb\u884c\u4e86 2 \u6b21\n        dp[0][0][0] = 0;\n        dp[0][0][1] = INT_MIN >> 1;\n        dp[0][1][0] = INT_MIN >> 1;\n        dp[0][1][1] = -prices[0];\n        dp[0][2][0] = INT_MIN >> 1;\n        dp[0][2][1] = INT_MIN >> 1;\n\n        for (int i = 1; i < n; i++) {\n            dp[i][1][0] = max(dp[i - 1][1][0], dp[i - 1][1][1] + prices[i]);  // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u5356\u51fa\n            dp[i][1][1] = max(dp[i - 1][1][1], dp[i - 1][0][0] - prices[i]);  // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u4e70\u5165\n            dp[i][2][0] = max(dp[i - 1][2][0], dp[i - 1][2][1] + prices[i]);  // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u5356\u51fa\n            dp[i][2][1] = max(dp[i - 1][2][1], dp[i - 1][1][0] - prices[i]);  // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u4e70\u5165\n        }\n        int ans = max(dp[n - 1][1][0], dp[n - 1][2][0]);\n        return ans > 0 ? ans : 0;\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        vector<vector<vector<int>>> dp(2, vector<vector<int>>(3, vector<int>(2, 0)));\n\n        dp[0][0][0] = 0;\n        dp[0][0][1] = INT_MIN >> 1;\n        dp[0][1][0] = INT_MIN >> 1;\n        dp[0][1][1] = -prices[0];\n        dp[0][2][0] = INT_MIN >> 1;\n        dp[0][2][1] = INT_MIN >> 1;\n\n        for (int i = 1; i < n; i++) {\n            dp[i & 1][1][0] = max(dp[(i - 1) & 1][1][0], dp[(i - 1) & 1][1][1] + prices[i]);\n            dp[i & 1][1][1] = max(dp[(i - 1) & 1][1][1], dp[(i - 1) & 1][0][0] - prices[i]);\n            dp[i & 1][2][0] = max(dp[(i - 1) & 1][2][0], dp[(i - 1) & 1][2][1] + prices[i]);\n            dp[i & 1][2][1] = max(dp[(i - 1) & 1][2][1], dp[(i - 1) & 1][1][0] - prices[i]);\n        }\n        int ans = max(dp[(n - 1) & 1][1][0], dp[(n - 1) & 1][2][0]);\n        return ans > 0 ? ans : 0;\n    }\n};\n")),(0,p.kt)("h3",{id:"4\u6307\u5b9a\u4ea4\u6613\u7b14\u6570"},"4\u3001\u6307\u5b9a\u4ea4\u6613\u7b14\u6570"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/"},"188. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a IV")),(0,p.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices")," \uff0c\u5b83\u7684\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u4e2a\u5143\u7d20 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices[i]")," \u662f\u4e00\u652f\u7ed9\u5b9a\u7684\u80a1\u7968\u5728\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7684\u4ef7\u683c\u3002"),(0,p.kt)("p",null,"\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u6765\u8ba1\u7b97\u4f60\u6240\u80fd\u83b7\u53d6\u7684\u6700\u5927\u5229\u6da6\u3002\u4f60\u6700\u591a\u53ef\u4ee5\u5b8c\u6210 ",(0,p.kt)("strong",{parentName:"p"},"k")," \u7b14\u4ea4\u6613\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u4f60\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff08\u4f60\u5fc5\u987b\u5728\u518d\u6b21\u8d2d\u4e70\u524d\u51fa\u552e\u6389\u4e4b\u524d\u7684\u80a1\u7968\uff09\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165\uff1ak = 2, prices = [2,4,1]\n\u8f93\u51fa\uff1a2\n\u89e3\u91ca\uff1a\u5728\u7b2c 1 \u5929 (\u80a1\u7968\u4ef7\u683c = 2) \u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 2 \u5929 (\u80a1\u7968\u4ef7\u683c = 4) \u7684\u65f6\u5019\u5356\u51fa\uff0c\u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 4-2 = 2 \u3002\n\n\u8f93\u5165\uff1ak = 2, prices = [3,2,6,5,0,3]\n\u8f93\u51fa\uff1a7\n\u89e3\u91ca\uff1a\u5728\u7b2c 2 \u5929 (\u80a1\u7968\u4ef7\u683c = 2) \u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 3 \u5929 (\u80a1\u7968\u4ef7\u683c = 6) \u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 6-2 = 4 \u3002\n     \u968f\u540e\uff0c\u5728\u7b2c 5 \u5929 (\u80a1\u7968\u4ef7\u683c = 0) \u7684\u65f6\u5019\u4e70\u5165\uff0c\u5728\u7b2c 6 \u5929 (\u80a1\u7968\u4ef7\u683c = 3) \u7684\u65f6\u5019\u5356\u51fa, \u8fd9\u7b14\u4ea4\u6613\u6240\u80fd\u83b7\u5f97\u5229\u6da6 = 3-0 = 3 \u3002\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= k <= 100")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices.length <= 1000")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices[i] <= 1000"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u6307\u5b9a\u4e86\u6700\u591a k \u6b21\u4ea4\u6613"),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u72b6\u6001\u5b9a\u4e49"),"\uff1a"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][k][j]")," \u8868\u793a\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"[0, i]")," \u533a\u95f4\u91cc\uff08\u72b6\u6001\u5177\u6709\u524d\u7f00\u6027\u8d28\uff09\uff0c\u4ea4\u6613\u8fdb\u884c\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u6b21\uff0c\u624b\u4e0a\u6709 ",(0,p.kt)("inlineCode",{parentName:"p"},"j")," \u4e2a\u80a1\u7968\u65f6\uff0c\u62e5\u6709\u7684\u6700\u5927\u6536\u76ca\u3002"),(0,p.kt)("p",null,"\u6ce8\u610f\uff1a\u8bb0\u5f55\u4e00\u6b21\u4ea4\u6613\u4ea7\u751f\u662f\u5728 ",(0,p.kt)("strong",{parentName:"p"},"\u4e70\u5165\u80a1\u7968")," \u7684\u65f6\u5019\u3002\u5356\u51fa\u65f6\u4e0d\u53d8"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u521d\u59cb\u5316\uff08\u91cd\u70b9\uff09")),(0,p.kt)("p",null,"\u4e0b\u6807\u4e3a 0 \u8fd9\u4e00\u5929\uff0c\u4ea4\u6613\u6b21\u6570\u4e3a 0\u30011\u30012 \u5e76\u4e14\u72b6\u6001\u4e3a 0 \u548c 1 \u7684\u521d\u503c\u5e94\u8be5\u5982\u4e0b\u8bbe\u7f6e\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][0][0] = 0"),"\uff1a\u8fd9\u662f\u663e\u7136\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][0][1] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u4e00\u6b21\u4ea4\u6613\u90fd\u6ca1\u6709\u53d1\u751f\uff0c\u4f46\u662f\u6301\u80a1\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][1][0] = INT_MIN >> 1"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86 1 \u6b21\u4ea4\u6613\uff08\u4e70\u5165\uff09\uff0c\u4f46\u662f\u4e0d\u6301\u80a1\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][1][1] = -prices[0]"),"\uff1a\u8868\u793a\u53d1\u751f\u4e86\u4e00\u6b21\u4ea4\u6613\uff0c\u5e76\u4e14\u6301\u80a1\uff0c\u6d88\u8017\u4e86 ",(0,p.kt)("inlineCode",{parentName:"li"},"-prices[0]"),"\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][k][0] = INT_MIN >> 1, k>=2"),"\uff1a",(0,p.kt)("strong",{parentName:"li"},"\u7b2c\u4e00\u5929\u4e0d\u53ef\u80fd\u53d1\u751f\u4e24\u6b21\u4ee5\u6b21\u4e0a\u7684\u4ea4\u6613"),"\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"dp[0][k][1] = INT_MIN >> 1, k>=2"),"\uff1a",(0,p.kt)("strong",{parentName:"li"},"\u7b2c\u4e00\u5929\u4e0d\u53ef\u80fd\u53d1\u751f\u4e24\u6b21\u4ee5\u6b21\u4e0a\u7684\u4ea4\u6613"),"\uff1b")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u4e00\u5b9a\u8981\u7528\u300c\u65e0\u7a77\u5c0f\u300d\u6807\u8bb0\u4e0d\u53ef\u80fd\u53d1\u751f\u7684\u4e8b\uff0c\u7528 0 \u8bb0\u5f55\u6536\u76ca\u4e3a0\uff0c\u5927\u4e8e 0 \u8bb0\u5f55\u4ea7\u751f\u4e86\u6536\u76ca"),(0,p.kt)("p",{parentName:"blockquote"},"\u901a\u8fc7 max \u5c06\u65e0\u7a77\u5c0f\u7684\u4e0d\u53ef\u80fd\u53d1\u751f\u7684\u72b6\u6001\u8fc7\u6ee4\u6389")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b"),"\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i]);      // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u5356\u51fa\ndp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - prices[i]);  // \u5f53\u5929 \u4e0d\u64cd\u4f5c\u3001\u4e70\u5165\n")),(0,p.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u7b2c 2 \u7ef4\u7684 0 \u6ca1\u6709\u610f\u4e49\uff0c\u904d\u5386\u4e2d\u4e0d\u8981\u7b97\u5b83\u7684\u72b6\u6001"),(0,p.kt)("li",{parentName:"ul"},"\u5f53 i = 1\u65f6\uff0c",(0,p.kt)("inlineCode",{parentName:"li"},"dp[i - 1][1][0] - prices[i]")," \u4f1a\u8ba9 ",(0,p.kt)("inlineCode",{parentName:"li"},"INT_MIN")," \u51cf\u4e00\u4e2a\u6b63\u6570\uff0c\u4f1a\u62a5\u9519\uff0c\u56e0\u6b64\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u4e00\u5f8b\u9664\u4ee5\u4e8c ",(0,p.kt)("inlineCode",{parentName:"li"},"INT_MIN >> 1")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"n")," \u5929\u7684\u80a1\u7968\uff0c\u6700\u591a\u8fdb\u884c ",(0,p.kt)("inlineCode",{parentName:"li"},"n / 2")," \u6b21\u4ea4\u6613\uff0c\u5f53\u6307\u5b9a\u7684\u6700\u591a\u4ea4\u6613\u6b21\u6570 ",(0,p.kt)("inlineCode",{parentName:"li"},"maxK")," \u5927\u4e8e ",(0,p.kt)("inlineCode",{parentName:"li"},"n / 2"),"\uff0c\u610f\u5473\u7740\u4ea4\u6613\u6b21\u6570\u4e0d\u53d7\u9650\uff0c\u5e94\u8be5\u8f6c\u5316\u4e3a\u300c\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\u7684\u505a\u6cd5\u300d122 \u9898\uff0c\u5982\u679c\u8be5\u6309\u7167\u672c\u9898\u7684\u505a\u6cd5\u5c31\u4f1a\u6709\u9519")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4\u3001\u83b7\u53d6\u7b54\u6848"),"\uff1a"),(0,p.kt)("p",null,"\u5230\u4e86\u6700\u540e\u4e00\u5929 ",(0,p.kt)("inlineCode",{parentName:"p"},"n-1"),"\uff0c\u5df2\u5b8c\u6210\u7684\u4ea4\u6613\u7b14\u6570\u53ef\u80fd\u8fdb\u884c\u4e86 ",(0,p.kt)("inlineCode",{parentName:"p"},"k")," \u6b21\uff0c\u4f46\u662f\u4e00\u5b9a\u5f97\u624b\u4e0a\u7684\u80a1\u7968\u6e05\u7a7a"),(0,p.kt)("p",null,"\u8fd4\u56de ",(0,p.kt)("inlineCode",{parentName:"p"},"max{dp[n-1][k][0]..}"),"\uff0c\u4f46\u53ef\u80fd\u5b58\u5728\u8d1f\u503c"),(0,p.kt)("p",null,"\u8868\u793a\u5982\u679c\u4ea4\u6613\u7684\u8bdd\u4e00\u5b9a\u4f1a\u4e8f\u94b1\uff0c\u4e0d\u5982\u4e0d\u4ea4\u6613\uff0c\u8fd4\u56de 0"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(nk)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(nk)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(k)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int MIN = INT_MIN >> 1;\n\n    int specProfit(vector<int>& prices) {\n        int res = 0;\n        for (int i = 1; i < prices.size(); i++) {\n            if (prices[i] > prices[i - 1]) {\n                res += prices[i] - prices[i - 1];\n            }\n        }\n        return res;\n    }\n\n    int maxProfit(int k, vector<int>& prices) {\n        int maxK = k;\n        int n = prices.size();\n        if (maxK == 0) return 0;\n        if (maxK >= (n >> 1)) return specProfit(prices);\n\n        vector<vector<vector<int>>> dp(n, vector<vector<int>>(maxK + 1, vector<int>(2, 0)));\n\n        dp[0][0][0] = 0;\n        dp[0][0][1] = MIN;\n        dp[0][1][0] = MIN;\n        dp[0][1][1] = -prices[0];\n        for (int k = 2; k <= maxK; k++) {\n            dp[0][k][0] = MIN;\n            dp[0][k][1] = MIN;\n        }\n\n        for (int i = 1; i < n; i++) {\n            for (int k = 1; k <= maxK; k++) {\n                dp[i][k][0] = max(dp[i - 1][k][0], dp[i - 1][k][1] + prices[i]);      // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u5356\u51fa\n                dp[i][k][1] = max(dp[i - 1][k][1], dp[i - 1][k - 1][0] - prices[i]);  // \u5f53\u5929\u4e0d\u64cd\u4f5c\uff0c\u4e70\u5165\n            }\n        }\n\n        int ans = 0;\n        for (int k = 0; k <= maxK; k++) {\n            ans = max(ans, dp[n - 1][k][0]);\n        }\n        return ans;\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int MIN = INT_MIN >> 1;\n\n    int specProfit(vector<int>& prices) {\n        int res = 0;\n        for (int i = 1; i < prices.size(); i++) {\n            if (prices[i] > prices[i - 1]) {\n                res += prices[i] - prices[i - 1];\n            }\n        }\n        return res;\n    }\n\n    int maxProfit(int k, vector<int>& prices) {\n        int maxK = k;\n        int n = prices.size();\n        if (maxK == 0) return 0;\n        if (maxK >= (n >> 1)) return specProfit(prices);\n\n        vector<vector<vector<int>>> dp(2, vector<vector<int>>(maxK + 1, vector<int>(2, 0)));\n\n        dp[0][0][0] = 0;\n        dp[0][0][1] = MIN;\n        dp[0][1][0] = MIN;\n        dp[0][1][1] = -prices[0];\n        for (int k = 2; k <= maxK; k++) {\n            dp[0][k][0] = MIN;\n            dp[0][k][1] = MIN;\n        }\n\n        for (int i = 1; i < n; i++) {\n            for (int k = 1; k <= maxK; k++) {\n                dp[i & 1][k][0] = max(dp[(i - 1) & 1][k][0], dp[(i - 1) & 1][k][1] + prices[i]);\n                dp[i & 1][k][1] = max(dp[(i - 1) & 1][k][1], dp[(i - 1) & 1][k - 1][0] - prices[i]);\n            }\n        }\n\n        int ans = 0;\n        for (int k = 0; k <= maxK; k++) {\n            ans = max(ans, dp[(n - 1) & 1][k][0]);\n        }\n        return ans;\n    }\n};\n")),(0,p.kt)("h3",{id:"5\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\u4f46\u662f\u6709\u4ea4\u6613cd"},"5\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u4f46\u662f\u6709\u4ea4\u6613CD"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/"},"309. \u6700\u4f73\u4e70\u5356\u80a1\u7968\u65f6\u673a\u542b\u51b7\u51bb\u671f")),(0,p.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4",(0,p.kt)("inlineCode",{parentName:"p"},"prices"),"\uff0c\u5176\u4e2d\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"prices[i]")," \u8868\u793a\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"*i*")," \u5929\u7684\u80a1\u7968\u4ef7\u683c \u3002"),(0,p.kt)("p",null,"\u8bbe\u8ba1\u4e00\u4e2a\u7b97\u6cd5\u8ba1\u7b97\u51fa\u6700\u5927\u5229\u6da6\u3002\u5728\u6ee1\u8db3\u4ee5\u4e0b\u7ea6\u675f\u6761\u4ef6\u4e0b\uff0c\u4f60\u53ef\u4ee5\u5c3d\u53ef\u80fd\u5730\u5b8c\u6210\u66f4\u591a\u7684\u4ea4\u6613\uff08\u591a\u6b21\u4e70\u5356\u4e00\u652f\u80a1\u7968\uff09:"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5356\u51fa\u80a1\u7968\u540e\uff0c\u4f60\u65e0\u6cd5\u5728\u7b2c\u4e8c\u5929\u4e70\u5165\u80a1\u7968 (\u5373\u51b7\u51bb\u671f\u4e3a 1 \u5929)\u3002")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u4f60\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff08\u4f60\u5fc5\u987b\u5728\u518d\u6b21\u8d2d\u4e70\u524d\u51fa\u552e\u6389\u4e4b\u524d\u7684\u80a1\u7968\uff09\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165: prices = [1,2,3,0,2]\n\u8f93\u51fa: 3 \n\u89e3\u91ca: \u5bf9\u5e94\u7684\u4ea4\u6613\u72b6\u6001\u4e3a: [\u4e70\u5165, \u5356\u51fa, \u51b7\u51bb\u671f, \u4e70\u5165, \u5356\u51fa]\n\n\u8f93\u5165: prices = [1]\n\u8f93\u51fa: 0\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices.length <= 5000")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= prices[i] <= 1000"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u4ea4\u6613\u6b21\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u7c7b\u4f3c\u60c5\u51b5 2\uff0c\u4e0d\u7528\u4ea4\u6613\u6b21\u6570\u7ef4\u5ea6"),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968"),(0,p.kt)("li",{parentName:"ul"},"\u5356\u51fa\u80a1\u7968\u4f1a\u6709\u51b7\u51bb\u671f\uff0c\u6240\u4ee5\u5f53\u5929\u8981\u4e70\u5165\u7684\u8bdd\uff0c\u5f97\u4ece\u524d\u4e00\u5929\u6ca1\u6709\u5356\u51fa\u7684\u72b6\u6001\u8f6c\u79fb\u8fc7\u6765")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u5b9a\u4e49\u72b6\u6001")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][j]")," \u8868\u793a ",(0,p.kt)("inlineCode",{parentName:"p"},"[0, i]")," \u533a\u95f4\u5185\uff0c\u5728\u4e0b\u6807\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u8fd9\u4e00\u5929\u72b6\u6001\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"j")," \u65f6\uff0c\u6211\u4eec\u624b\u4e0a\u62e5\u6709\u7684\u91d1\u94b1\u6570\u3002"),(0,p.kt)("p",null,"\u8fd9\u91cc ",(0,p.kt)("inlineCode",{parentName:"p"},"j")," \u53ef\u4ee5\u53d6 3 \u4e2a\u503c\uff08",(0,p.kt)("strong",{parentName:"p"},"\u4e0b\u9762\u7684\u5b9a\u4e49\u975e\u5e38\u91cd\u8981"),"\uff09\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0")," \u8868\u793a\uff1a\u4eca\u5929 ",(0,p.kt)("strong",{parentName:"li"},"\u4e0d\u662f")," \u5356\u51fa\u4e86\u80a1\u7968\u7684\u4e0d\u6301\u80a1\u72b6\u6001\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1")," \u8868\u793a\uff1a\u6301\u80a1\uff1b"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"2")," \u8868\u793a\uff1a\u4eca\u5929\u7531\u4e8e\u5356\u51fa\u4e86\u80a1\u7968\u7684\u4e0d\u6301\u80a1\u72b6\u6001\uff1b")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u72b6\u6001\u8f6c\u79fb")),(0,p.kt)("p",null,"\u6839\u636e\u9898\u610f\uff0c\u4ece\u6628\u5929\u5230\u4eca\u5929\u53ef\u80fd\u7684\u72b6\u6001\u53d8\u5316\u5206\u6790\u5982\u4e0b\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"0 \u7684\u8f6c\u79fb")),(0,p.kt)("table",null,(0,p.kt)("thead",{parentName:"table"},(0,p.kt)("tr",{parentName:"thead"},(0,p.kt)("th",{parentName:"tr",align:null},"\u6628\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u4eca\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u5206\u6790\u662f\u5426\u53ef\u4ee5\u8f6c\u79fb\uff0c\u53ef\u4ee5\u8f6c\u79fb\u7684\u60c5\u51b5\u4e0b\u4eca\u5929\u7684\u64cd\u4f5c"))),(0,p.kt)("tbody",{parentName:"table"},(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8f6c\u79fb\uff0c\u4eca\u5929\u4ec0\u4e48\u90fd\u4e0d\u505a")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8f6c\u79fb\uff0c\u4eca\u5929\u4e70\u5165\u80a1\u7968")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"\u4e0d\u53ef\u4ee5\u8f6c\u79fb\uff0c\u4e0d\u6301\u80a1\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u5356\u51fa\u80a1\u7968")))),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"1 \u7684\u8f6c\u79fb")),(0,p.kt)("table",null,(0,p.kt)("thead",{parentName:"table"},(0,p.kt)("tr",{parentName:"thead"},(0,p.kt)("th",{parentName:"tr",align:null},"\u6628\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u4eca\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u5206\u6790\u662f\u5426\u53ef\u4ee5\u8f6c\u79fb\uff0c\u53ef\u4ee5\u8f6c\u79fb\u7684\u60c5\u51b5\u4e0b\u4eca\u5929\u7684\u64cd\u4f5c"))),(0,p.kt)("tbody",{parentName:"table"},(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"\u4e0d\u53ef\u4ee5\u8f6c\u79fb\uff0c\u6839\u636e\u9898\u610f\uff0c\u53ea\u80fd\u8f6c\u79fb\u5230 2")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8f6c\u79fb\uff0c\u4eca\u5929\u4ec0\u4e48\u90fd\u4e0d\u64cd\u4f5c")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8f6c\u79fb\uff0c\u5f53\u5929\u5356\u51fa\u540e\u8f6c\u4e3a\u300c\u5356\u51fa\u4e0d\u6301\u80a1\u72b6\u6001\u300d")))),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"2 \u7684\u8f6c\u79fb")),(0,p.kt)("table",null,(0,p.kt)("thead",{parentName:"table"},(0,p.kt)("tr",{parentName:"thead"},(0,p.kt)("th",{parentName:"tr",align:null},"\u6628\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u4eca\u5929"),(0,p.kt)("th",{parentName:"tr",align:null},"\u5206\u6790\u662f\u5426\u53ef\u4ee5\u8f6c\u79fb\uff0c\u53ef\u4ee5\u8f6c\u79fb\u7684\u60c5\u51b5\u4e0b\u4eca\u5929\u7684\u64cd\u4f5c"))),(0,p.kt)("tbody",{parentName:"table"},(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"0"),(0,p.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u8f6c\u79fb\uff0c\u6628\u5929\u4e3a\u300c\u5356\u51fa\u4e0d\u6301\u80a1\u72b6\u6001\u300d\uff0c\u4eca\u5929\u7ed3\u675f\u540e\u51b7\u5374\u671f\u8fc7\u53bb\u4e86")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"1"),(0,p.kt)("td",{parentName:"tr",align:null},"\u4e0d\u53ef\u4ee5\u8f6c\u79fb\uff0c\u6628\u5929\u4e3a\u300c\u5356\u51fa\u4e0d\u6301\u80a1\u72b6\u6001\u300d\uff0c\u4eca\u5929\u4e0d\u80fd\u4e70\u5165")),(0,p.kt)("tr",{parentName:"tbody"},(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"2"),(0,p.kt)("td",{parentName:"tr",align:null},"\u4e0d\u53ef\u4ee5\u8f6c\u79fb\uff0c\u4e0d\u5408\u903b\u8f91")))),(0,p.kt)("p",null,"\u53ef\u4ee5\u753b\u51fa\u72b6\u6001\u8f6c\u79fb\u7684\u56fe\u5982\u4e0b\uff1a"),(0,p.kt)("p",null,(0,p.kt)("img",{alt:"309",src:t(85689).Z,width:"1346",height:"834"})),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u521d\u59cb\u5316")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4f11\u606f\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][0] = 0")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4e70\u5165\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][1] = -prices[i]")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u51b7\u5374\u671f\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][2] = 0"),"\uff0c\u8fd9\u91cc\u5176\u5b9e\u4e5f\u53ef\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"INT_MIN >> 1")," \uff0c\u4f46\u6700\u540e\u5f97\u5224\u65ad\u4e0b\u6b63\u8d1f"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4. \u8f93\u51fa")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"max(dp[n-1][0], dp[n-1][2])")),(0,p.kt)("p",null,"\u7b2c n-1 \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff0c\u53ef\u80fd\u662f\u65e9\u90fd\u5356\u4e86\uff0c\u4e5f\u53ef\u80fd\u521a\u5356\u8fdb\u5165cd"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u4ec5\u548c\u524d\u4e00\u5929\u6709\u5173\uff0c\u53ef\u4f18\u5316\uff0c\u6eda\u52a8\u6570\u7ec4"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(1)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        vector<vector<int>> dp(n, vector<int>(3, 0));\n\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n        dp[0][2] = 0;\n\n        for (int i = 1; i < n; i++) {\n            dp[i][0] = max(dp[i - 1][0], dp[i - 1][2]);\n            dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i]);\n            dp[i][2] = dp[i - 1][1] + prices[i];\n        }\n        return max(dp[n - 1][0], dp[n - 1][2]);\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices) {\n        int n = prices.size();\n        vector<vector<int>> dp(2, vector<int>(3, 0));\n\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n        dp[0][2] = 0;\n\n        for (int i = 1; i < n; i++) {\n            dp[i & 1][0] = max(dp[(i - 1) & 1][0], dp[(i - 1) & 1][2]);\n            dp[i & 1][1] = max(dp[(i - 1) & 1][1], dp[(i - 1) & 1][0] - prices[i]);\n            dp[i & 1][2] = dp[(i - 1) & 1][1] + prices[i];\n        }\n        return max(dp[(n - 1) & 1][0], dp[(n - 1) & 1][2]);\n    }\n};\n")),(0,p.kt)("h3",{id:"6\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\u4f46\u662f\u6709\u4ea4\u6613\u624b\u7eed\u8d39"},"6\u3001\u4ea4\u6613\u7b14\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u4f46\u662f\u6709\u4ea4\u6613\u624b\u7eed\u8d39"),(0,p.kt)("p",null,"\u9898\u76ee\uff1a",(0,p.kt)("a",{parentName:"p",href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/"},"714. \u4e70\u5356\u80a1\u7968\u7684\u6700\u4f73\u65f6\u673a\u542b\u624b\u7eed\u8d39")),(0,p.kt)("p",null,"\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4 ",(0,p.kt)("inlineCode",{parentName:"p"},"prices"),"\uff0c\u5176\u4e2d ",(0,p.kt)("inlineCode",{parentName:"p"},"prices[i]"),"\u8868\u793a\u7b2c ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u5929\u7684\u80a1\u7968\u4ef7\u683c \uff1b\u6574\u6570 ",(0,p.kt)("inlineCode",{parentName:"p"},"fee")," \u4ee3\u8868\u4e86\u4ea4\u6613\u80a1\u7968\u7684\u624b\u7eed\u8d39\u7528\u3002"),(0,p.kt)("p",null,"\u4f60\u53ef\u4ee5\u65e0\u9650\u6b21\u5730\u5b8c\u6210\u4ea4\u6613\uff0c\u4f46\u662f\u4f60\u6bcf\u7b14\u4ea4\u6613\u90fd\u9700\u8981\u4ed8\u624b\u7eed\u8d39\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u8d2d\u4e70\u4e86\u4e00\u4e2a\u80a1\u7968\uff0c\u5728\u5356\u51fa\u5b83\u4e4b\u524d\u4f60\u5c31\u4e0d\u80fd\u518d\u7ee7\u7eed\u8d2d\u4e70\u80a1\u7968\u4e86\u3002"),(0,p.kt)("p",null,"\u8fd4\u56de\u83b7\u5f97\u5229\u6da6\u7684\u6700\u5927\u503c\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a"),"\u8fd9\u91cc\u7684\u4e00\u7b14\u4ea4\u6613\u6307\u4e70\u5165\u6301\u6709\u5e76\u5356\u51fa\u80a1\u7968\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u6bcf\u7b14\u4ea4\u6613\u4f60\u53ea\u9700\u8981\u4e3a\u652f\u4ed8\u4e00\u6b21\u624b\u7eed\u8d39\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"\u8f93\u5165\uff1aprices = [1, 3, 2, 8, 4, 9], fee = 2\n\u8f93\u51fa\uff1a8\n\u89e3\u91ca\uff1a\u80fd\u591f\u8fbe\u5230\u7684\u6700\u5927\u5229\u6da6:  \n\u5728\u6b64\u5904\u4e70\u5165\xa0prices[0] = 1\n\u5728\u6b64\u5904\u5356\u51fa prices[3] = 8\n\u5728\u6b64\u5904\u4e70\u5165 prices[4] = 4\n\u5728\u6b64\u5904\u5356\u51fa prices[5] = 9\n\u603b\u5229\u6da6:\xa0((8 - 1) - 2) + ((9 - 4) - 2) = 8\n\n\u8f93\u5165\uff1aprices = [1,3,7,5,10,3], fee = 3\n\u8f93\u51fa\uff1a6\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u63d0\u793a\uff1a")),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices.length <= 5 * 10^4")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"1 <= prices[i] < 5 * 10^4")),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"0 <= fee < 5 * 104"))),(0,p.kt)("hr",null),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"0. \u5206\u6790\u9898\u76ee\u8981\u6c42"),"\uff1a"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u4ea4\u6613\u6b21\u6570\u4e0d\u53d7\u9650\u5236\uff0c\u7c7b\u4f3c\u60c5\u51b5 2\uff0c\u4e0d\u7528\u4ea4\u6613\u6b21\u6570\u7ef4\u5ea6"),(0,p.kt)("li",{parentName:"ul"},"\u4e0d\u80fd\u540c\u65f6\u53c2\u4e0e\u591a\u7b14\u4ea4\u6613\uff0c\u624b\u4e0a\u53ef\u80fd\u5b58\u5728 0 \u6216 1 \u652f\u80a1\u7968"),(0,p.kt)("li",{parentName:"ul"},"\u5356\u51fa\u80a1\u7968\u4f1a\u624b\u7eed\u8d39")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"1. \u5b9a\u4e49\u72b6\u6001")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[i][j]")," \u8868\u793a ",(0,p.kt)("inlineCode",{parentName:"p"},"[0, i]")," \u533a\u95f4\u5185\uff0c\u5728\u4e0b\u6807\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"i")," \u8fd9\u4e00\u5929\u72b6\u6001\u4e3a ",(0,p.kt)("inlineCode",{parentName:"p"},"j")," \u65f6\uff0c\u6211\u4eec\u624b\u4e0a\u62e5\u6709\u7684\u91d1\u94b1\u6570\u3002"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"2. \u72b6\u6001\u8f6c\u79fb")),(0,p.kt)("p",null,"\u4e0e\u60c5\u51b5 2 \u4e0d\u540c\u7684\u60c5\u51b5\u5728\u4e8e\uff0c\u5356\u51fa\u7684\u65f6\u5019\u53eb\u4e0a\u624b\u7eed\u8d39"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee);\ndp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i]);\n")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"3. \u521d\u59cb\u5316")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4f11\u606f\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][0] = 0")),(0,p.kt)("p",null,"\u7b2c 0 \u5929\u7684\u65f6\u5019\u4e70\u5165\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"dp[0][1] = -prices[i]")),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"4. \u8f93\u51fa")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"dp[n-1][0]")," \u7b2c n-1 \u5929\uff0c\u5f53\u5929\u7ed3\u675f\u540e\uff0c\u6301\u6709\u80a1\u7968\u6570\u4e3a 0 \u7684\u6700\u5927\u5229\u6da6\uff08\u80af\u5b9a\u6bd4\u6700\u540e\u4e00\u5929\u624b\u4e0a\u8fd8\u6709\u80a1\u7968\u7684\u60c5\u51b5\u597d\uff09"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u7a7a\u95f4\u4f18\u5316")),(0,p.kt)("p",null,"\u4ec5\u548c\u524d\u4e00\u5929\u6709\u5173\uff0c\u53ef\u4f18\u5316"),(0,p.kt)("p",null,(0,p.kt)("strong",{parentName:"p"},"\u590d\u6742\u5ea6\u5206\u6790")),(0,p.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,p.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,p.kt)("inlineCode",{parentName:"p"},"O(n)")," \u6216 ",(0,p.kt)("inlineCode",{parentName:"p"},"O(1)")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices, int fee) {\n        int n = prices.size();\n\n        vector<vector<int>> dp(n, vector<int>(2, 0));\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n\n        for (int i = 1; i < n; i++) {\n            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee);\n            dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - prices[i]);\n        }\n        return dp[n - 1][0];\n    }\n};\n")),(0,p.kt)("p",null,"\u6eda\u52a8\u6570\u7ec4\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxProfit(vector<int>& prices, int fee) {\n        int n = prices.size();\n\n        vector<vector<int>> dp(2, vector<int>(2, 0));\n        dp[0][0] = 0;\n        dp[0][1] = -prices[0];\n\n        for (int i = 1; i < n; i++) {\n            dp[i & 1][0] = max(dp[(i - 1) & 1][0], dp[(i - 1) & 1][1] + prices[i] - fee);\n            dp[i & 1][1] = max(dp[(i - 1) & 1][1], dp[(i - 1) & 1][0] - prices[i]);\n        }\n        return dp[(n - 1) & 1][0];\n    }\n};\n")))}d.isMDXComponent=!0},26779:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/123-7389968c2195252f1615440c4eb77b63.png"},85689:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/309-f3c94b12741872e22444d77a27268b65.png"}}]);