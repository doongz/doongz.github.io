"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[55521],{3905:(e,r,t)=>{t.d(r,{Zo:()=>d,kt:()=>m});var n=t(67294);function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function i(e,r){if(null==e)return{};var t,n,l=function(e,r){if(null==e)return{};var t,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(l[t]=e[t]);return l}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var c=n.createContext({}),p=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},d=function(e){var r=p(e.components);return n.createElement(c.Provider,{value:r},e.children)},k="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},s=n.forwardRef((function(e,r){var t=e.components,l=e.mdxType,o=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),k=p(t),s=l,m=k["".concat(c,".").concat(s)]||k[s]||u[s]||o;return t?n.createElement(m,a(a({ref:r},d),{},{components:t})):n.createElement(m,a({ref:r},d))}));function m(e,r){var t=arguments,l=r&&r.mdxType;if("string"==typeof e||l){var o=t.length,a=new Array(o);a[0]=s;var i={};for(var c in r)hasOwnProperty.call(r,c)&&(i[c]=r[c]);i.originalType=e,i[k]="string"==typeof e?e:l,a[1]=i;for(var p=2;p<o;p++)a[p]=t[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,t)}s.displayName="MDXCreateElement"},92151:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>k,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=t(87462),l=(t(67294),t(3905));const o={},a="docker CLI",i={unversionedId:"Skill/\u5e38\u7528CLI/docker-CLI",id:"Skill/\u5e38\u7528CLI/docker-CLI",title:"docker CLI",description:"1\u3001\u767b\u9646\u8fdc\u7aefdocker\u5e93",source:"@site/docs/Skill/\u5e38\u7528CLI/1-docker-CLI.md",sourceDirName:"Skill/\u5e38\u7528CLI",slug:"/Skill/\u5e38\u7528CLI/docker-CLI",permalink:"/docs/Skill/\u5e38\u7528CLI/docker-CLI",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"docsSidebar",previous:{title:"GNU make",permalink:"/docs/Skill/\u5de5\u5177\u94fe/make"},next:{title:"k8s CLI",permalink:"/docs/Skill/\u5e38\u7528CLI/k8s-CLI"}},c={},p=[{value:"1\u3001\u767b\u9646\u8fdc\u7aefdocker\u5e93",id:"1\u767b\u9646\u8fdc\u7aefdocker\u5e93",level:2},{value:"2\u3001\u62c9\u955c\u50cf",id:"2\u62c9\u955c\u50cf",level:2},{value:"3\u3001\u5236\u4f5c\u955c\u50cf",id:"3\u5236\u4f5c\u955c\u50cf",level:2},{value:"4\u3001\u542f\u52a8\u5bb9\u5668",id:"4\u542f\u52a8\u5bb9\u5668",level:2},{value:"5\u3001\u8fdb\u5165\u5bb9\u5668",id:"5\u8fdb\u5165\u5bb9\u5668",level:2},{value:"7\u3001\u5220\u9664\u5bb9\u5668",id:"7\u5220\u9664\u5bb9\u5668",level:2},{value:"8\u3001\u505c\u6b62\u5bb9\u5668",id:"8\u505c\u6b62\u5bb9\u5668",level:2},{value:"9\u3001\u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668",id:"9\u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668",level:2},{value:"10\u3001\u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668",id:"10\u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668",level:2},{value:"11\u3001\u67e5\u770b\u6240\u6709\u955c\u50cf",id:"11\u67e5\u770b\u6240\u6709\u955c\u50cf",level:2},{value:"12\u3001\u5220\u9664\u955c\u50cf",id:"12\u5220\u9664\u955c\u50cf",level:2},{value:"13\u3001\u6539\u6807\u7b7e",id:"13\u6539\u6807\u7b7e",level:2},{value:"14\u3001\u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u6587\u4ef6\u5230\u5bb9\u5668\u91cc",id:"14\u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u6587\u4ef6\u5230\u5bb9\u5668\u91cc",level:2},{value:"15\u3001\u4ece\u5bb9\u5668\u91cc\u62f7\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a",id:"15\u4ece\u5bb9\u5668\u91cc\u62f7\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a",level:2},{value:"16\u3001\u63a8\u9001\u955c\u50cf",id:"16\u63a8\u9001\u955c\u50cf",level:2},{value:"17\u3001\u5bfc\u51fa\u5bb9\u5668",id:"17\u5bfc\u51fa\u5bb9\u5668",level:2},{value:"18\u3001\u5bfc\u5165\u5bb9\u5668\u5feb\u7167",id:"18\u5bfc\u5165\u5bb9\u5668\u5feb\u7167",level:2}],d={toc:p};function k(e){let{components:r,...t}=e;return(0,l.kt)("wrapper",(0,n.Z)({},d,t,{components:r,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"docker-cli"},"docker CLI"),(0,l.kt)("h2",{id:"1\u767b\u9646\u8fdc\u7aefdocker\u5e93"},"1\u3001\u767b\u9646\u8fdc\u7aefdocker\u5e93"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"docker login <docker\u5e93\u5730\u5740>\n")),(0,l.kt)("p",null,"\u62a5\u9519\uff1aError response from daemon: Get http: server gave HTTP response to HTTPS client"),(0,l.kt)("p",null,"\u62a5\u9519\uff1aError response from daemon: Get x509: certificate signed by unknown authority"),(0,l.kt)("p",null,"\u89e3\u51b3\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"vim /etc/docker/daemon.json")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n  "storage-driver": "overlay2",\n  "insecure-registries": ["<docker\u5e93\u5730\u57401>", "<docker\u5e93\u5730\u57402>", "<docker\u5e93\u5730\u57403>"]\n}\n')),(0,l.kt)("p",null,"\u91cd\u542f\u670d\u52a1\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"systemctl restart docker")),(0,l.kt)("h2",{id:"2\u62c9\u955c\u50cf"},"2\u3001\u62c9\u955c\u50cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker pull ubuntu\n")),(0,l.kt)("h2",{id:"3\u5236\u4f5c\u955c\u50cf"},"3\u3001\u5236\u4f5c\u955c\u50cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker build -t <\u955c\u50cf\u540d>:<\u955c\u50cf\u7248\u672c> .\n")),(0,l.kt)("p",null,"Dockerfile \u81ea\u884c\u6539\u5199"),(0,l.kt)("p",null,"\u4e0d\u60f3\u8ba9\u5bb9\u5668\u9000\u51fa\uff0c\u5728 Dockerfile \u540e\u9762\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"p"},'ENTRYPOINT ["tail","-f","/dev/null"]')),(0,l.kt)("h2",{id:"4\u542f\u52a8\u5bb9\u5668"},"4\u3001\u542f\u52a8\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker run -itd \\\n--name <\u5bb9\u5668\u540d> \\\n-p 8888:8888 \\\n-v /root/configs/Server:/root/configs \\\n-v /root/logs/Server:/root/logs \\\n-v /usr/share/zoneinfo:/usr/share/zoneinfo \\\n<\u955c\u50cf\u540d>:<\u955c\u50cf\u7248\u672c>\n")),(0,l.kt)("h2",{id:"5\u8fdb\u5165\u5bb9\u5668"},"5\u3001\u8fdb\u5165\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker exec -it <\u5bb9\u5668\u540d\u6216\u5bb9\u5668ID> /bin/bash\n")),(0,l.kt)("p",null,"-u \u7528\u6237\u540d\uff0c\u53ef\u6307\u5b9a\u8fdb\u5165\u65f6\u7684\u7528\u6237"),(0,l.kt)("h2",{id:"7\u5220\u9664\u5bb9\u5668"},"7\u3001\u5220\u9664\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker rm -f <\u5bb9\u5668\u540d\u6216\u5bb9\u5668ID>\n")),(0,l.kt)("h2",{id:"8\u505c\u6b62\u5bb9\u5668"},"8\u3001\u505c\u6b62\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker stop <\u5bb9\u5668\u540d\u6216\u5bb9\u5668ID>\n")),(0,l.kt)("h2",{id:"9\u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668"},"9\u3001\u542f\u52a8\u5df2\u505c\u6b62\u7684\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker start <\u5bb9\u5668\u540d\u6216\u5bb9\u5668ID>\n")),(0,l.kt)("h2",{id:"10\u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668"},"10\u3001\u67e5\u770b\u6240\u6709\u7684\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker ps -a \n")),(0,l.kt)("h2",{id:"11\u67e5\u770b\u6240\u6709\u955c\u50cf"},"11\u3001\u67e5\u770b\u6240\u6709\u955c\u50cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker images\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"REPOSITORY\uff1a\u8868\u793a\u955c\u50cf\u7684\u4ed3\u5e93\u6e90"),(0,l.kt)("li",{parentName:"ul"},"TAG\uff1a\u955c\u50cf\u7684\u6807\u7b7e"),(0,l.kt)("li",{parentName:"ul"},"IMAGE ID\uff1a\u955c\u50cfID"),(0,l.kt)("li",{parentName:"ul"},"CREATED\uff1a\u955c\u50cf\u521b\u5efa\u65f6\u95f4"),(0,l.kt)("li",{parentName:"ul"},"SIZE\uff1a\u955c\u50cf\u5927\u5c0f")),(0,l.kt)("h2",{id:"12\u5220\u9664\u955c\u50cf"},"12\u3001\u5220\u9664\u955c\u50cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker rmi <\u955c\u50cf\u540d>\n")),(0,l.kt)("h2",{id:"13\u6539\u6807\u7b7e"},"13\u3001\u6539\u6807\u7b7e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker tag <\u5bb9\u5668ID> <docker\u5e93\u5730\u5740>/<\u955c\u50cf\u540d>:<\u955c\u50cf\u7248\u672c>\n")),(0,l.kt)("h2",{id:"14\u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u6587\u4ef6\u5230\u5bb9\u5668\u91cc"},"14\u3001\u4ece\u5bbf\u4e3b\u673a\u62f7\u8d1d\u6587\u4ef6\u5230\u5bb9\u5668\u91cc"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker cp <\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84> <\u5bb9\u5668\u540d>:<\u5bb9\u5668\u91cc\u9762\u5bf9\u5e94\u7684\u8def\u5f84>\n")),(0,l.kt)("h2",{id:"15\u4ece\u5bb9\u5668\u91cc\u62f7\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a"},"15\u3001\u4ece\u5bb9\u5668\u91cc\u62f7\u6587\u4ef6\u5230\u5bbf\u4e3b\u673a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker cp <\u5bb9\u5668\u540d>:<\u5bb9\u5668\u91cc\u9762\u5bf9\u5e94\u7684\u8def\u5f84> <\u5bbf\u4e3b\u673a\u6587\u4ef6\u8def\u5f84>\n")),(0,l.kt)("h2",{id:"16\u63a8\u9001\u955c\u50cf"},"16\u3001\u63a8\u9001\u955c\u50cf"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker push <docker\u5e93\u5730\u5740>/<\u955c\u50cf\u540d>:<\u955c\u50cf\u7248\u672c>\n")),(0,l.kt)("h2",{id:"17\u5bfc\u51fa\u5bb9\u5668"},"17\u3001\u5bfc\u51fa\u5bb9\u5668"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker export 1e560fca3906 > ubuntu.tar\n")),(0,l.kt)("h2",{id:"18\u5bfc\u5165\u5bb9\u5668\u5feb\u7167"},"18\u3001\u5bfc\u5165\u5bb9\u5668\u5feb\u7167"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"docker import ubuntu.tar <\u5bb9\u5668\u540d>\n")))}k.isMDXComponent=!0}}]);