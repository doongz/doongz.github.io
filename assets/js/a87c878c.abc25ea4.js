"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[56178],{3905:(n,e,t)=>{t.d(e,{Zo:()=>u,kt:()=>f});var r=t(67294);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},l=Object.keys(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var p=r.createContext({}),s=function(n){var e=r.useContext(p),t=e;return n&&(t="function"==typeof n?n(e):a(a({},e),n)),t},u=function(n){var e=s(n.components);return r.createElement(p.Provider,{value:e},n.children)},c="mdxType",m={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var t=n.components,i=n.mdxType,l=n.originalType,p=n.parentName,u=o(n,["components","mdxType","originalType","parentName"]),c=s(t),d=i,f=c["".concat(p,".").concat(d)]||c[d]||m[d]||l;return t?r.createElement(f,a(a({ref:e},u),{},{components:t})):r.createElement(f,a({ref:e},u))}));function f(n,e){var t=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var l=t.length,a=new Array(l);a[0]=d;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=n,o[c]="string"==typeof n?n:i,a[1]=o;for(var s=2;s<l;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},81167:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var r=t(87462),i=(t(67294),t(3905));const l={},a=void 0,o={unversionedId:"Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",id:"Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",title:"<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",description:"\u9898\u76ee\uff1a354. \u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",source:"@site/docs/Algorithm/3-\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/354-<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898.md",sourceDirName:"Algorithm/3-\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP",slug:"/Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<\u4e8c\u7ef4LIS-\u6811\u72b6\u6570\u7ec4>-\u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898",draft:!1,tags:[],version:"current",sidebarPosition:354,frontMatter:{},sidebar:"algorithmSidebar",previous:{title:"<\u5b9a\u957fLIS>-\u9012\u589e\u7684\u4e09\u5143\u5b50\u5e8f\u5217",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<\u5b9a\u957fLIS>-\u9012\u589e\u7684\u4e09\u5143\u5b50\u5e8f\u5217"},next:{title:"<LIS\u5e94\u7528>-\u6700\u5927\u6574\u9664\u5b50\u96c6",permalink:"/docs/Algorithm/\u52a8\u6001\u89c4\u5212/\u4f8b\u9898-\u5e8f\u5217DP/<LIS\u5e94\u7528>-\u6700\u5927\u6574\u9664\u5b50\u96c6"}},p={},s=[{value:"\u65b9\u6cd5\u4e00\uff1a\u52a8\u6001\u89c4\u5212\uff08\u8d85\u65f6\uff09",id:"\u65b9\u6cd5\u4e00\u52a8\u6001\u89c4\u5212\u8d85\u65f6",level:2},{value:"\u65b9\u6cd5\u4e8c\uff1a\u4e8c\u5206+\u8d2a\u5fc3",id:"\u65b9\u6cd5\u4e8c\u4e8c\u5206\u8d2a\u5fc3",level:2},{value:"\u65b9\u6cd5\u4e09\uff1a\u6811\u72b6\u6570\u7ec4 + \u52a8\u6001\u89c4\u5212",id:"\u65b9\u6cd5\u4e09\u6811\u72b6\u6570\u7ec4--\u52a8\u6001\u89c4\u5212",level:2}],u={toc:s};function c(n){let{components:e,...l}=n;return(0,i.kt)("wrapper",(0,r.Z)({},u,l,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u9898\u76ee\uff1a",(0,i.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/russian-doll-envelopes/"},"354. \u4fc4\u7f57\u65af\u5957\u5a03\u4fe1\u5c01\u95ee\u9898")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e00\u52a8\u6001\u89c4\u5212\u8d85\u65f6"},"\u65b9\u6cd5\u4e00\uff1a\u52a8\u6001\u89c4\u5212\uff08\u8d85\u65f6\uff09"),(0,i.kt)("p",null,"\u4e8c\u7ef4 LIS"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"85 / 87")," \u4e2a\u901a\u8fc7\u6d4b\u8bd5\u7528\u4f8b"),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(n^2)")),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxEnvelopes(vector<vector<int>>& envelopes) {\n        int n = envelopes.size();\n        sort(envelopes.begin(), envelopes.end());\n        // dp[i] \u8868\u793a\u4ee5 i \u7ed3\u5c3e\u7684\u6700\u957f\u4e0a\u5347\u5b50\u4e32\u7684\u957f\u5ea6\n        vector<int> dp(n, 1);\n        for (int i = 1; i < n; i++) {\n            for (int j = 0; j < i; j++) {\n                if (envelopes[i][0] > envelopes[j][0] && envelopes[i][1] > envelopes[j][1]) {\n                    dp[i] = max(dp[i], dp[j] + 1);\n                }\n            }\n        }\n        return *max_element(dp.begin(), dp.end());\n    }\n};\n")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e8c\u4e8c\u5206\u8d2a\u5fc3"},"\u65b9\u6cd5\u4e8c\uff1a\u4e8c\u5206+\u8d2a\u5fc3"),(0,i.kt)("p",null,"\u4fe1\u5c01\u53ef\u53d8\u6362\u4f4d\u7f6e\uff0c\u6240\u4ee5\u8981\u6392\u5e8f"),(0,i.kt)("p",null,"\u9898\u76ee\u6761\u4ef6\uff1a",(0,i.kt)("strong",{parentName:"p"},"\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u90fd\u6bd4\u5927"),"\uff0c\u624d\u80fd\u5d4c\u5957"),(0,i.kt)("p",null,"\u6570\u636e\u9884\u5904\u7406\uff0c",(0,i.kt)("strong",{parentName:"p"},"\u5bbd\u5ea6 w \u5347\u5e8f\uff0c\u9ad8\u5ea6 h \u964d\u5e8f")),(0,i.kt)("p",null,(0,i.kt)("img",{src:t(6257).Z,width:"438",height:"922"})),(0,i.kt)("p",null,"\u5982\u6b64\u64cd\u4f5c\u7684\u5408\u7406\u6027\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5bbd\u5ea6 w \u5347\u5e8f\uff0c\u4fdd\u969c\u4e86\u4e4b\u540e\u65e0\u8bba\u9ad8\u5ea6 h \u600e\u4e48\u9009\uff0c\u7ed3\u679c\u4e2d\u7684 w \u90fd\u5c06\u662f\u300c\u4ece\u5c0f\u5230\u5927\u300d"),(0,i.kt)("li",{parentName:"ul"},"\u9ad8\u5ea6 h \u964d\u5e8f\uff0c\u662f\u56e0\u4e3a\u8981\u6ee1\u8db3\u9898\u76ee\u6761\u4ef6\u300c\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u90fd\u6bd4\u5927\u300d\uff0c\u8fd9\u610f\u5473\u7740",(0,i.kt)("strong",{parentName:"li"},"\u5bbd\u5ea6\u76f8\u540c\u65f6\uff0c\u9ad8\u5ea6\u53ea\u80fd\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"w \u76f8\u540c\uff0c\u6700\u9ad8\u7684 h \u6392\u5728\u524d\u9762\uff0c\u53ef\u4ee5\u4fdd\u969c\u6700\u9ad8\u7684 h \u5b8c\u6210 tail \u6570\u7ec4\u7684\u6269\u5145\uff0c\u800c\u4e0d\u662f\u90a3\u4e9b\u7565\u4f4e\u7684 h"),"\uff0c\u8fd9\u91cc\u5176\u5b9e\u4e5f\u300c\u8d2a\u5fc3\u300d\u4e86"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u7406\u89e3\u8fd9\u53e5\u8bdd\uff0c\u9700\u8981\u5148\u660e\u767d tail \u6570\u7ec4\u662f\u5982\u4f55\u66f4\u65b0\u7684")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"\u82e5\u9ad8\u5ea6 h \u964d\u5e8f\uff0c\u5982 [5,2] [6,7] [6,4]\n\u7b2c\u4e00\u8f6e  [2]\n\u7b2c\u4e8c\u8f6e  [2,7]\n\u7b2c\u4e09\u8f6e  [4,7]\n\u6700\u540e\u957f\u5ea6\u4e3a 2\n\n\u82e5\u9ad8\u5ea6 h \u5347\u5e8f\uff0c\u5982 [5,2] [6,4] [6,7]\n\u7b2c\u4e00\u8f6e  [2]\n\u7b2c\u4e8c\u8f6e  [2,4]\n\u7b2c\u4e09\u8f6e  [2,4,7]\n\u6700\u540e\u957f\u5ea6\u4e3a 3\uff0c[6,4] [6,7] \u91cd\u590d\u4f7f\u7528\n")),(0,i.kt)("p",null,"\u4ee3\u7801\u5b9e\u73b0\u7684\u65f6\u5019\uff0c\u5c06 envelopes \u6392\u5b8c\u5e8f\u540e\uff0c\u628a\u9ad8\u5ea6 h \u5355\u72ec\u62f7\u8d1d\u51fa\u6765\uff0c\u8fdb\u884c LIS \u6c42\u89e3\u5373\u53ef"),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(nlogn)")),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"class Solution {\npublic:\n    int maxEnvelopes(vector<vector<int>> &envelopes) {\n        int n = envelopes.size();\n\n        auto cmp = [&](const auto &a, const auto &b) {\n            if (a[0] != b[0]) {\n                return a[0] < b[0];\n            }\n            return a[1] > b[1];\n        };\n        sort(envelopes.begin(), envelopes.end(), cmp);\n\n        vector<int> arr_h;\n        for (auto e : envelopes) {\n            arr_h.push_back(e[1]);\n        }\n\n        vector<int> tail = {arr_h[0]};\n        for (int i = 1; i < n; i++) {\n            int cur = arr_h[i];\n            int end = *tail.rbegin();\n            if (arr_h[i] > end) {\n                tail.push_back(cur);\n            } else if (cur == end) {\n                continue;\n            } else if (cur < end) {\n                auto it = lower_bound(tail.begin(), tail.end(), cur);\n                *it = cur;\n            }\n        }\n        return tail.size();\n    }\n};\n")),(0,i.kt)("h2",{id:"\u65b9\u6cd5\u4e09\u6811\u72b6\u6570\u7ec4--\u52a8\u6001\u89c4\u5212"},"\u65b9\u6cd5\u4e09\uff1a\u6811\u72b6\u6570\u7ec4 + \u52a8\u6001\u89c4\u5212"),(0,i.kt)("p",null,"\u8fd9\u79cd\u95ee\u9898\u8fd8\u53ef\u4ee5\u62d3\u5c55\u5230\u4e09\u7ef4\uff0c\u6bd4\u5982\u8bf4\u73b0\u5728\u4e0d\u662f\u8ba9\u4f60\u5d4c\u5957\u4fe1\u5c01\uff0c\u800c\u662f\u5d4c\u5957\u7bb1\u5b50\uff0c\u6bcf\u4e2a\u7bb1\u5b50\u6709\u957f\u5bbd\u9ad8\u4e09\u4e2a\u7ef4\u5ea6\uff0c\u8bf7\u4f60\u7b97\u7b97\u6700\u591a\u80fd\u5d4c\u5957\u51e0\u4e2a\u7bb1\u5b50\uff1f"),(0,i.kt)("p",null,"\u6211\u4eec\u53ef\u80fd\u4f1a\u8fd9\u6837\u60f3\uff0c\u5148\u628a\u524d\u4e24\u4e2a\u7ef4\u5ea6\uff08\u957f\u548c\u5bbd\uff09\u6309\u4fe1\u5c01\u5d4c\u5957\u7684\u601d\u8def\u6c42\u4e00\u4e2a\u5d4c\u5957\u5e8f\u5217\uff0c\u6700\u540e\u5728\u8fd9\u4e2a\u5e8f\u5217\u7684\u7b2c\u4e09\u4e2a\u7ef4\u5ea6\uff08\u9ad8\u5ea6\uff09\u627e\u4e00\u4e0b LIS\uff0c\u5e94\u8be5\u80fd\u7b97\u51fa\u7b54\u6848\u3002"),(0,i.kt)("p",null,"\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e2a\u601d\u8def\u662f\u9519\u8bef\u7684\u3002\u8fd9\u7c7b\u95ee\u9898\u53eb\u505a\u300c\u504f\u5e8f\u95ee\u9898\u300d\uff0c\u4e0a\u5347\u5230\u4e09\u7ef4\u4f1a\u4f7f\u96be\u5ea6\u5de8\u5e45\u63d0\u5347\uff0c\u9700\u8981\u501f\u52a9\u4e00\u79cd\u9ad8\u7ea7\u6570\u636e\u7ed3\u6784\u300c\u6811\u72b6\u6570\u7ec4\u300d"),(0,i.kt)("p",null,"\u9996\u5148\u4ecd\u7136\u662f\u5bf9 w \u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u4f7f\u7528\u300c\u6811\u72b6\u6570\u7ec4\u300d\u6765\u7ef4\u62a4 h \u7ef4\u5ea6\u7684\u524d\u7f00\u6700\u5927\u503c\u3002"),(0,i.kt)("p",null,"\u5bf9\u4e8e h \u7684\u9ad8\u5ea6\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u591a\u4e2a\u4fe1\u5c01\u4e4b\u95f4\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u800c\u4e0d\u5173\u5fc3\u5177\u4f53\u76f8\u5dee\u591a\u5c11\uff0c\u6211\u4eec\u9700\u8981\u5bf9 h \u8fdb\u884c\u79bb\u6563\u5316\u3002"),(0,i.kt)("p",null,"\u901a\u5e38\u4f7f\u7528\u300c\u6811\u72b6\u6570\u7ec4\u300d\u90fd\u9700\u8981\u8fdb\u884c\u79bb\u6563\u5316\uff0c\u5c24\u5176\u662f\u8fd9\u91cc\u6211\u4eec\u672c\u8eab\u5c31\u8981\u4f7f\u7528 O(n) \u7684\u7a7a\u95f4\u6765\u5b58\u50a8 dp \u503c\u3002"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"TODO \u6811\u72b6\u6570\u7ec4\u65b9\u6cd5\uff0c\u4e4b\u540e\u518d\u590d\u4e60")),(0,i.kt)("p",null,"\u65f6\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(nlogn)")),(0,i.kt)("p",null,"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"O(n)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"class Solution {\n    int[] tree;\n    int lowbit(int x) {\n        return x & -x;\n    }\n\n    public int maxEnvelopes(int[][] es) {\n        int n = es.length;\n        if (n == 0) return n;\n\n        // \u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u4e86 g \u8bb0\u5f55\u9ad8\u5ea6\uff0c\u56e0\u6b64\u8fd9\u91cc\u53ea\u9700\u5c06 w \u4ece\u5c0f\u5230\u8fbe\u6392\u5e8f\u5373\u53ef\n        Arrays.sort(es, (a, b)->a[0] - b[0]);\n\n        // \u5148\u5c06\u6240\u6709\u7684 h \u8fdb\u884c\u79bb\u6563\u5316\n        Set<Integer> set = new HashSet<>();\n        for (int i = 0; i < n; i++) set.add(es[i][1]);\n        int cnt = set.size();\n        int[] hs = new int[cnt];\n        int idx = 0;\n        for (int i : set) hs[idx++] = i;\n        Arrays.sort(hs);\n        for (int i = 0; i < n; i++) es[i][1] = Arrays.binarySearch(hs, es[i][1]) + 1;\n\n        // \u521b\u5efa\u6811\u72b6\u6570\u7ec4\n        tree = new int[cnt + 1];\n\n        // f(i) \u4e3a\u8003\u8651\u524d i \u4e2a\u7269\u54c1\uff0c\u5e76\u4ee5\u7b2c i \u4e2a\u7269\u54c1\u4e3a\u7ed3\u5c3e\u7684\u6700\u5927\u503c\n        int[] f = new int[n]; \n        int ans = 1;\n        for (int i = 0, j = 0; i < n; i++) {\n            // \u5bf9\u4e8e w \u76f8\u540c\u7684\u6570\u636e\uff0c\u4e0d\u66f4\u65b0 tree \u6570\u7ec4\n            if (es[i][0] != es[j][0]) {\n                // \u9650\u5236 j \u4e0d\u80fd\u8d8a\u8fc7 i\uff0c\u786e\u4fdd tree \u6570\u7ec4\u4e2d\u53ea\u4f1a\u51fa\u73b0\u7b2c i \u4e2a\u4fe1\u5c01\u524d\u7684\u300c\u5386\u53f2\u4fe1\u5c01\u300d\n                while (j < i) {\n                    for (int u = es[j][1]; u <= cnt; u += lowbit(u)) {\n                        tree[u] = Math.max(tree[u], f[j]);\n                    }\n                    j++;\n                }\n            }\n            f[i] = 1;\n            for (int u = es[i][1] - 1; u > 0; u -= lowbit(u)) {\n                f[i] = Math.max(f[i], tree[u] + 1);\n            }\n            ans = Math.max(ans, f[i]);\n        }\n        return ans;\n    }\n}\n")))}c.isMDXComponent=!0},6257:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/354-66784ee0d11fc7a97c852339497b45d2.png"}}]);