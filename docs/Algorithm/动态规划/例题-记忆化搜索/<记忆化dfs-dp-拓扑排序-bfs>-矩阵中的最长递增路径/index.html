<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Algorithm/动态规划/例题-记忆化搜索/<记忆化dfs-dp-拓扑排序-bfs>-矩阵中的最长递增路径">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径 | Doongz&#x27;s Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doongz.github.io/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径 | Doongz&#x27;s Site"><meta data-rh="true" name="description" content="题目：329. 矩阵中的最长递增路径"><meta data-rh="true" property="og:description" content="题目：329. 矩阵中的最长递增路径"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doongz.github.io/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径" hreflang="en"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Doongz&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Doongz&#39;s Site Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bbae31c2.css">
<link rel="preload" href="/assets/js/runtime~main.a61035f3.js" as="script">
<link rel="preload" href="/assets/js/main.7aad8990.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home page</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/catalogue-algo">Algorithm</a><a class="navbar__item navbar__link" href="/docs/catalogue-skill">Skill</a><a class="navbar__item navbar__link" href="/docs/catalogue-knowledge">Knowledge</a><a class="navbar__item navbar__link" href="/community/support">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Courses</a><ul class="dropdown__menu"><li><a href="https://github.com/doongz/mlc-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Machine Learning Compilation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs229" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stanford CS229: Machine Learning<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/aics" target="_blank" rel="noopener noreferrer" class="dropdown__link">中国科学院 智能计算系统<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs50-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Harvard CS50’s Introduction to AI with Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.824" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.824 Distributed Systems<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/os-workbench" target="_blank" rel="noopener noreferrer" class="dropdown__link">南京大学 操作系统：设计与实现<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.s081" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.S081 Operating Systems Engineering<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/doongz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/catalogue-algo">Catalogue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/前述/面试时做题技巧">前述</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/数据结构/基本概念">数据结构</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/算法基础/排序">算法基础</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Algorithm/动态规划/基础">动态规划</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/基础">动态规划基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/记忆化搜索">记忆化搜索</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/线性DP">线性 DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/背包DP">背包问题概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/序列DP">序列 DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/区间DP">区间DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/树形DP">树形 DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/状态压缩DP">状态压缩 DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/数位DP">数位 DP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/股票问题">股票问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/空间压缩的方式">空间压缩的方式</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-区间DP/&lt;回文问题&gt;-最长回文子串">例题-区间DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-序列DP/&lt;匹配问题&gt;-正则表达式匹配">例题-序列DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-数位DP/&lt;数学思路&gt;-统计各位数字都不同的数字个数">例题-数位DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-树形DP/&lt;多源bfs-树形DP-换根dp&gt;-最小高度树">例题-树形DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-状态压缩DP/&lt;dfs-状态压缩&gt;-优美的排列">例题-状态压缩DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-线性DP/&lt;找上一个位置&gt;-最长有效括号">例题-线性DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-股票问题/买卖股票的最佳时机">例题-股票问题</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-背包DP/&lt;完全背包-经典题&gt;-完全平方数">例题-背包DP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;a转化b&gt;-编辑距离">例题-记忆化搜索</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;a转化b&gt;-编辑距离">&lt;a转化b&gt;-编辑距离</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;经典题-dfs-记忆化-dp&gt;-不同的子序列">&lt;经典题-dfs-记忆化-dp&gt;-不同的子序列</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs&gt;-单词拆分">&lt;记忆化dfs&gt;-单词拆分</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;模版题-记忆化dfs&gt;-单词拆分II">&lt;模版题-记忆化dfs&gt;-单词拆分II</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径">&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-位运算+贪心&gt;-整数替换">&lt;记忆化dfs-位运算+贪心&gt;-整数替换</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;模版题-描述子问题&gt;-青蛙过河">&lt;模版题-描述子问题&gt;-青蛙过河</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-dp&gt;-自由之路">&lt;记忆化dfs-dp&gt;-自由之路</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化-动态规划&gt;-学生出勤记录II">&lt;记忆化-动态规划&gt;-学生出勤记录II</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;模版题-剪枝-记忆化-dp&gt;-出界的路径数">&lt;模版题-剪枝-记忆化-dp&gt;-出界的路径数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化搜索&gt;-骑士在棋盘上的概率">&lt;记忆化搜索&gt;-骑士在棋盘上的概率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;倒叙dp&gt;-解决智力问题">&lt;倒叙dp&gt;-解决智力问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Algorithm/动态规划/例题-记忆化搜索/LCP-07-&lt;简单题&gt;-传递信息">LCP-07-&lt;简单题&gt;-传递信息</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Algorithm/动态规划/例题-路径问题/不同路径">例题-路径问题</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/图论/理论基础">图论</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/数学/数学运算/num和arr互转">数学</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/系列题目/括号问题/">系列题目</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">动态规划</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">例题-记忆化搜索</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>&lt;记忆化dfs-dp-拓扑排序-bfs&gt;-矩阵中的最长递增路径</h1></header><p>题目：<a href="https://leetcode.cn/problems/longest-increasing-path-in-a-matrix/" target="_blank" rel="noopener noreferrer">329. 矩阵中的最长递增路径</a></p><p>题解：<a href="https://leetcode.cn/problems/longest-increasing-path-in-a-matrix/solution/tong-ge-lai-shua-ti-la-yi-ti-si-jie-bfs-agawl/" target="_blank" rel="noopener noreferrer">https://leetcode.cn/problems/longest-increasing-path-in-a-matrix/solution/tong-ge-lai-shua-ti-la-yi-ti-si-jie-bfs-agawl/</a></p><p>给定一个 <code>m x n</code> 整数矩阵 <code>matrix</code> ，找出其中 <strong>最长递增路径</strong> 的长度。</p><p>对于每个单元格，你可以往上，下，左，右四个方向移动。 你 <strong>不能</strong> 在 <strong>对角线</strong> 方向上移动或移动到 <strong>边界外</strong>（即不允许环绕）。</p><p><strong>示例 1：</strong></p><p><img loading="lazy" alt="img" src="data:image/jpeg;base64,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" width="242" height="242" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">输入：matrix = [[9,9,4],[6,6,8],[2,1,1]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">输出：4 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解释：最长递增路径为 [1, 2, 6, 9]。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>示例 2：</strong></p><p><img loading="lazy" alt="img" src="data:image/jpeg;base64,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" width="253" height="253" class="img_ev3q"></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">输入：matrix = [[3,4,5],[3,2,6],[2,2,1]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">输出：4 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">解释：最长递增路径是 [3, 4, 5, 6]。注意不允许在对角线方向上移动。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>示例 3：</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">输入：matrix = [[1]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">输出：1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>提示：</p><p>m == matrix.length
n == matrix<!-- -->[i]<!-- -->.length
1 &lt;= m, n &lt;= 200
<code>0 &lt;= matrix[i][j] &lt;= 231 - 1</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="方法一记忆化-dfs">方法一：记忆化 dfs<a class="hash-link" href="#方法一记忆化-dfs" title="Direct link to heading">​</a></h2><p>dfs 返回从 <!-- -->[r,c]<!-- --> 出发的最长递增路径长度</p><p>时间复杂度：<code>O(mn)</code></p><p>空间复杂度：<code>O(mn)</code></p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Solution</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> cols</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pair</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> directions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 返回从 [r,c] 出发的最长递增路径长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">auto</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">dr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> directions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> nr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> nc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dc</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> nr </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> nr </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rows </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> nc </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> nc </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">longestIncreasingPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cols </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">resize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">vector</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">int</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> INT_MIN</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> r</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> cols</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> c</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ans</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ans</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Solution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">longestIncreasingPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cols </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 记录从[r][c]开始走的最长距离</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 如果下次又走到了[r][c]，直接用它的结果</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> col</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> dr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                nr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                nc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> col </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain">nr</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">rows </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain">nc</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cols </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">col</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;-inf&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> c </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ans</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ans</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="方法二拓扑排序">方法二：拓扑排序<a class="hash-link" href="#方法二拓扑排序" title="Direct link to heading">​</a></h2><p>拓扑排序：288 ms 19.6 MB</p><p>时间复杂度：<code>O(mn)</code></p><p>空间复杂度：O(mn)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Solution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">longestIncreasingPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cols </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        adj_list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">defaultdict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 邻接表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        in_degrees </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># 入度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> c </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> dr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    nr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    nc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> nr </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rows </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> nc </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> cols</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic"># 因为要入度，所以要小于</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            in_degrees</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic"># 方向为从小指向大，所以要大于</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            adj_list</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># print(adj_list)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># print(in_degrees)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 从入度为0开始找，才能找到最长的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        queue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deque</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> c </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> in_degrees</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># print(queue)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># 这个跟课程表I那个题不一样，需要一层一层的出列，而不是一个一个的出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sz </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">queue</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sz</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">popleft</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> adj_list</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    in_degrees</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> in_degrees</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic"># 入度为0的才能入队列，因为不为0的可能会被其他的走出最长距离</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic"># 难点在于课程表那题明确告知了依赖关系，这道题需要想明白为什么沿着入度为0的走</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            step </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> step</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="方法三bfs">方法三：bfs<a class="hash-link" href="#方法三bfs" title="Direct link to heading">​</a></h2><p><strong>bfs memo记录 走到<!-- -->[r][c]<!-- -->用了几步</strong></p><p><strong>dfs memo记录 从<!-- -->[r][c]<!-- -->开始走到终点的最长距离</strong></p><p>记忆化bfs: 1720 ms 15.6 MB</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Solution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">longestIncreasingPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">List</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cols </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 记录上次走到[r][c]的时候用了几步，如果这次又走到[r][c]，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 这次走到[r][c]的步数比上次还要少，那就没必要再走了，</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># 如果这次走的步数多，就更新</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> col</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            queue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">deque</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> col</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> step </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">popleft</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> dr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dc </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    nr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    nc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> dc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain">nr</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">rows </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain">nc</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cols </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> step</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        queue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> step</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        memo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nr</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">nc</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> step </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> step</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;-inf&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> c </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ans </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ans</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bfs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ans</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;模版题-记忆化dfs&gt;-单词拆分II"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">&lt;模版题-记忆化dfs&gt;-单词拆分II</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Algorithm/动态规划/例题-记忆化搜索/&lt;记忆化dfs-位运算+贪心&gt;-整数替换"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">&lt;记忆化dfs-位运算+贪心&gt;-整数替换</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#方法一记忆化-dfs" class="table-of-contents__link toc-highlight">方法一：记忆化 dfs</a></li><li><a href="#方法二拓扑排序" class="table-of-contents__link toc-highlight">方法二：拓扑排序</a></li><li><a href="#方法三bfs" class="table-of-contents__link toc-highlight">方法三：bfs</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Doongz Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a61035f3.js"></script>
<script src="/assets/js/main.7aad8990.js"></script>
</body>
</html>