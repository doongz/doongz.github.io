<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Skill/C++/面向对象/类和对象">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">类和对象 | Doongz&#x27;s Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doongz.github.io/docs/Skill/C++/面向对象/类和对象"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="类和对象 | Doongz&#x27;s Site"><meta data-rh="true" name="description" content="来源：http://c.biancheng.net/cplus/class/"><meta data-rh="true" property="og:description" content="来源：http://c.biancheng.net/cplus/class/"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doongz.github.io/docs/Skill/C++/面向对象/类和对象"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Skill/C++/面向对象/类和对象" hreflang="en"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Skill/C++/面向对象/类和对象" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Doongz&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Doongz&#39;s Site Atom Feed"><link rel="stylesheet" href="/assets/css/styles.99c6e2a1.css">
<link rel="preload" href="/assets/js/runtime~main.f9aa80d1.js" as="script">
<link rel="preload" href="/assets/js/main.0ded408c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home page</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Notes</a><a class="navbar__item navbar__link" href="/community/support">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Courses</a><ul class="dropdown__menu"><li><a href="https://github.com/doongz/mlc-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Machine Learning Compilation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs229" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stanford CS229: Machine Learning<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/aics" target="_blank" rel="noopener noreferrer" class="dropdown__link">中国科学院 智能计算系统<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs50-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Harvard CS50’s Introduction to AI with Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.824" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.824 Distributed Systems<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/os-workbench" target="_blank" rel="noopener noreferrer" class="dropdown__link">南京大学 操作系统：设计与实现<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.s081" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.S081 Operating Systems Engineering<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/doongz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Tutorial Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Algorithm/前述/面试时做题技巧">Algorithm</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Competition/比赛">Competition</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Course/CMU-15-213">Course</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/IC/IC">Knowledge</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Math/微积分/极限">Math</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Skill/ASM/RISC-V/汇编语言格式及ABI">Skill</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/ASM/RISC-V/汇编语言格式及ABI">ASM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/Android/Android概述">Android</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/C/基础知识/数据类型">C</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Skill/C++/基础知识/基本数据类型">C++</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/基础知识/基本数据类型">基础知识</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Skill/C++/面向对象/类和对象">面向对象</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Skill/C++/面向对象/类和对象">类和对象</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/继承与派生">继承与派生</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/多态与虚函数">多态与虚函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/运算符重载">运算符重载</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/模板和泛型">模板和泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/C++虚函数详解">C++ 虚函数详解</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/标准模板库/">STL 概述</a><button aria-label="Toggle the collapsible sidebar category &#x27;STL 概述&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/扩充知识/符号Symbol">扩充知识</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/常用函数">常用函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/Golang/基础知识/条件判断">Golang</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Skill/LaTeX/">LaTex</a><button aria-label="Toggle the collapsible sidebar category &#x27;LaTex&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/Linux/POSIX">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Skill/Markdown/">README</a><button aria-label="Toggle the collapsible sidebar category &#x27;README&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/Mermaid/">mermaid</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/Python/运算符">Python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/SQL/数据库理论">SQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/工具链/工具&amp;网站">工具链</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/常用CLI/docker-CLI">常用CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/设计模式/多态和多态性">设计模式</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Skill</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">面向对象</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">类和对象</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>类和对象</h1><p>来源：<a href="http://c.biancheng.net/cplus/class/" target="_blank" rel="noopener noreferrer">http://c.biancheng.net/cplus/class/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="一基本知识">一、基本知识<a class="hash-link" href="#一基本知识" title="Direct link to heading">​</a></h2><p>类是创建对象的模板，一个类可以创建多个对象，每个对象都是类类型的一个变量；</p><p>创建对象的过程也叫「类的实例化」；</p><p>每个对象都是类的一个具体「实例」，拥有类的「成员变量」和「成员函数」；</p><ul><li>类的成员变量，也称为类的属性（Property）</li><li>类的成员函数，也称为类的方法（Method）</li></ul><p>根据访问权限有：public、protected、private</p><p>根据使用方式有：普通、static、const、friend</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Box {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int length;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 成员函数声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int get(void);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void set(int l, int w, int h);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 成员函数定义</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Box::get(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return length * width * height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Box::set(int l, int w, int h) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length = l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width = w;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height = h;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box box1;  // 声明 box1，类型为 Box</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box box2;  // 声明 box2，类型为 Box</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box1.height = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box1.length = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box1.width = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box2.set(2, 3, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; box1.get() &lt;&lt; endl;  // 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; box2.get() &lt;&lt; endl;  // 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二使用对象指针">二、使用对象指针<a class="hash-link" href="#二使用对象指针" title="Direct link to heading">​</a></h2><p>普通创建的对象 box 在「栈」上分配内存，需要使用 <code>&amp;</code> 获取它的地址</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Box box;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Box *ptr = &amp;box;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可用 <code>new</code> 在「堆」上创建对象</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Box *ptr = new Box;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在栈上创建出来的对象都有一个名字，比如 box，使用指针指向它不是必须的。但是通过 new 创建出来的对象就不一样了，它在堆上分配内存，没有名字，只能得到一个指向它的指针，所以必须使用一个指针变量来接收这个指针，否则以后再也无法找到这个对象了，更没有办法使用它。也就是说，<strong>使用 new 在堆上创建出来的对象是匿名的，没法直接使用，必须要用一个指针指向它，再借助指针来访问它的成员变量或成员函数</strong></p><p><strong>栈内存是程序自动管理的</strong>，不能使用 delete 删除在栈上创建的对象；堆内存由程序员管理，对象使用完毕后可以通过 delete 删除。在实际开发中，new 和 delete 往往成对出现，以保证及时删除不再使用的对象，防止无用内存堆积。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Box {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int length;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 成员函数声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int get(void);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void set(int l, int w, int h);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 成员函数定义</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Box::get(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return length * width * height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Box::set(int l, int w, int h) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length = l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width = w;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height = h;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box box1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box *ptr1 = &amp;box1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ptr1-&gt;set(1, 2, 3);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box *ptr2 = new Box;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ptr2-&gt;length = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ptr2-&gt;width = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ptr2-&gt;height = 4;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; ptr1-&gt;get() &lt;&lt; endl;  // 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; ptr2-&gt;get() &lt;&lt; endl;  // 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>有了对象指针后，通过箭头<code>-&gt;</code>来访问对象的成员变量和成员函数</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三成员变量和成员函数">三、成员变量和成员函数<a class="hash-link" href="#三成员变量和成员函数" title="Direct link to heading">​</a></h2><p>类的成员变量和普通变量一样，也有数据类型和名称，占用固定长度的内存。但是，在定义类的时候不能对成员变量赋值（可以给个初始值），因为类只是一种数据类型或者说是一种模板，本身不占用内存空间，而变量的值则需要内存来存储。</p><p>类的成员函数也和普通函数一样，都有返回值和参数列表，它与一般函数的区别是：成员函数是一个类的成员，出现在类体中，它的作用范围由类来决定；而普通函数是独立的，作用范围是全局的，或位于某个命名空间内。</p><p>在类体中和类体外定义成员函数是有区别的：<strong>在类体中定义的成员函数会自动成为内联函数，在类体外定义的不会</strong></p><p>所以一般来说，都在类体外定义。在函数名前面加上类名予以限定，<code>::</code>被称为域解析符（也称作用域运算符或作用域限定符），用来连接类名和函数名，指明当前函数属于哪个类。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Box {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int length = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int width = 2;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int height = 3;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show(void) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cout &lt;&lt; length * width * height &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void set(int l, int w, int h);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Box::set(int l, int w, int h) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    length = l;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width = w;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height = h;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Box box;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box.show();  // 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box.set(2, 3, 4);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    box.show();  // 24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="四访问权限">四、访问权限<a class="hash-link" href="#四访问权限" title="Direct link to heading">​</a></h2><p>通过「成员访问限定符」来控制成员变量和成员函数的访问权限：</p><ul><li>public 公有的</li><li>protected 受保护的</li><li>private私有的</li></ul><p>在类的内部，无论成员被声明为 public、protected 还是 private，都是可以互相访问的，没有访问权限的限制。</p><p>在类的外部，只能通过对象访问成员，并且通过对象只能访问 public 属性的成员，不能访问 private、protected 属性的成员。</p><p>但在派生类内部，protected 属性的成员可以访问。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//类的声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:  //私有的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:  //共有的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setname(string name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setage(int age);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//成员函数的定义</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::setname(string name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::setage(int age) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //在栈上创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.setname(&quot;dodo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.setage(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();  // dodo 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //在堆上创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;setname(&quot;keke&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;setage(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;show();  // keke 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="五封装">五、封装<a class="hash-link" href="#五封装" title="Direct link to heading">​</a></h2><p>根据C++软件设计规范，实际项目开发中的成员变量以及只在类内部使用的成员函数（只被成员函数调用的成员函数）都建议声明为 private，而只将允许通过对象调用的成员函数声明为 public。</p><p>对于不可访问的成员变量，可以额外添加两个 public 属性的成员函数，一个用来设置（set）成员变量的值，一个用来获取（get）成员变量的值</p><p><strong>这种将成员变量声明为 private、将部分成员函数声明为 public 的做法体现了类的封装性。所谓封装，是指尽量隐藏类的内部实现，只向用户提供有用的成员函数</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="六构造函数">六、构造函数<a class="hash-link" href="#六构造函数" title="Direct link to heading">​</a></h2><p>构造函数（Constructor），在创建对象时自动执行。构造函数的名字和类名相同，创建对象时要将对象名后面加上 <code>(arg1, ...)</code> ，表示构造函数被调用。</p><ul><li>构造函数必须是 public 属性</li><li>无论声明、定义，函数名前面都不能出现返回值类型，包括 void</li><li>函数体中不能有 return 语句</li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float m_score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //声明构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string name, int age, float score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //声明普通成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//定义构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, int age, float score) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_score = score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//定义普通成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_age &lt;&lt; &quot; &quot; &lt;&lt; m_score &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //创建对象时向构造函数传参</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;doo&quot;, 15, 92.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();  // doo 15 92.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //创建对象时向构造函数传参</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student(&quot;kee&quot;, 16, 96);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;show();  // kee 16 96</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="构造函数的重载">构造函数的重载<a class="hash-link" href="#构造函数的重载" title="Direct link to heading">​</a></h3><p>和普通成员函数一样，构造函数是允许重载的。<strong>一个类可以有多个重载的构造函数，创建对象时根据传递的实参来判断调用哪一个构造函数</strong></p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 声明两个构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string, int);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();  // 声明成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = &quot;doo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, int age) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu1.show();  // doo 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student(&quot;kee&quot;, 20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;show();  // kee 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始化列表">初始化列表<a class="hash-link" href="#初始化列表" title="Direct link to heading">​</a></h3><p>使用构造函数初始化列表并没有效率上的优势，仅仅是书写方便，尤其是成员变量较多时，这种写法非常简单明了。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string, int);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//采用初始化列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, int age) : m_name(name), m_age(age) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // TODO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;doo&quot;, 10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();  // doo 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="初始化-const-成员变量">初始化 const 成员变量<a class="hash-link" href="#初始化-const-成员变量" title="Direct link to heading">​</a></h3><p>初始化 const 成员变量的唯一方法就是使用初始化列表。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const int m_idx;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string, int, int);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// const 成员变量，必须采用初始化列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, int age, int idx) : m_idx(idx) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_age &lt;&lt; &quot; &quot; &lt;&lt; m_idx &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;doo&quot;, 10, 9999);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();  // doo 10 9999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="七析构函数">七、析构函数<a class="hash-link" href="#七析构函数" title="Direct link to heading">​</a></h2><p>析构函数（Destructor），销毁对象时系统会自动调用这个函数来进行清理工作，例如释放分配的内存、关闭打开的文件等。析构函数的名字是在类名前面加一个 <code>~</code> 符号</p><ul><li>没有参数</li><li>不能被重载，因此一个类只能有一个析构函数</li><li>不需要程序员显式调用（程序员也没法显式调用）</li></ul><p><strong>new 和 delete 与C语言中 malloc()、free() 最大的一个不同之处在于：用 new 分配内存时会调用构造函数，用 delete 释放内存时会调用析构函数</strong>。构造函数和析构函数对于类来说是不可或缺的，所以在C++中我们非常鼓励使用 new 和 delete。</p><p>例子：用 VLA 类来模拟变长数组，它使用一个构造函数为数组分配内存，使用一个析构函数在数组被销毁后，释放已经分配的内存</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class VAL {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VAL(int len);  // 构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ~VAL();        // 析构函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void input();  // 从控制台输入数组元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();   // 显示数组元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const int m_len;  // 数组长度，常量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int *m_arr;       // 数组指针</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int *m_p;         // 指向数组的第i个元素的指针</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int *at(int i);  // 获取第i个元素的指针</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VAL::VAL(int len) : m_len(len) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (len &gt; 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_arr = new int[len];  // 分配内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        m_arr = NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VAL::~VAL() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delete[] m_arr;  // 释放内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void VAL::input() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;Input array element: &quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; m_p = at(i); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cin &gt;&gt; *at(i);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void VAL::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; m_p = at(i); i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (i == m_len - 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cout &lt;&lt; *at(i) &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cout &lt;&lt; *at(i) &lt;&lt; &quot;, &quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int *VAL::at(int i) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (!m_arr || i &lt; 0 || i &gt;= m_len) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return NULL;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return m_arr + i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;Input array length: &quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cin &gt;&gt; n;  // 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 在堆区创建对象，调用构造函数分配数组内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    VAL *parr = new VAL(n);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parr-&gt;input();  // 输入数组元素 1 2 3 4 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    parr-&gt;show();   // 显示数组元素 1, 2, 3, 4, 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    delete parr;  // 删除对象，调用构造函数释放数组内存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="析构函数的执行时机">析构函数的执行时机<a class="hash-link" href="#析构函数的执行时机" title="Direct link to heading">​</a></h3><p>析构函数在对象被销毁时调用，而对象的销毁时机与它所在的内存区域有关</p><ul><li><p>在所有函数之外创建的对象是全局对象，它和全局变量类似，位于内存分区中的全局数据区，程序在结束执行时会调用这些对象的析构函数。</p></li><li><p>在函数内部创建的对象是局部对象，它和局部变量类似，位于栈区，函数执行结束时会调用这些对象的析构函数。</p></li><li><p>new 创建的对象位于堆区，通过 delete 删除时才会调用析构函数；如果没有 delete，析构函数就不会被执行。</p></li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;string&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Demo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Demo(string s);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ~Demo();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_s;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Demo::Demo(string s) : m_s(s) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Demo::~Demo() { cout &lt;&lt; m_s &lt;&lt; endl; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void func() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //局部对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Demo obj1(&quot;1&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//全局对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Demo obj2(&quot;2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //局部对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Demo obj3(&quot;3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // new创建的对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Demo *pobj4 = new Demo(&quot;4&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;main&quot; &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="八this-指针">八、this 指针<a class="hash-link" href="#八this-指针" title="Direct link to heading">​</a></h2><p>this 是 C++ 中的一个关键字，也是一个 const 指针，它指向当前对象，通过它可以访问当前对象的所有成员。<strong>this 是一个指针，要用 <code>-&gt;</code> 来访问成员变量或成员函数</strong></p><ul><li>this 只能在成员函数内部使用，可以访问类的所有成员，包括 private、protected、public 属性的。</li><li>this 是 const 指针，它的值是不能被修改的，一切 企图修改该指针的操作，如赋值、递增、递减等都是不允许的。</li><li>只有当对象被创建后 this 才有意义，因此不能在 static 成员函数中使用（后续会讲到 static 成员）</li></ul><p>this 实际上是成员函数的一个形参，在调用成员函数时将对象的地址作为实参传递给 this。不过 this 这个形参是隐式的，它并不出现在代码中，而是在编译阶段由编译器默默地将它添加到参数列表中。感觉和 python 的 self 挺像的。</p><p>本例中成员函数的参数和成员变量重名，通过 this 区分。</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void showAge();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 声明两个构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this-&gt;name = &quot;doo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this-&gt;age = 10;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; this-&gt;name &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this-&gt;showAge();  // 成员函数内部调用成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::showAge() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; this-&gt;age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="九static-静态成员变量">九、static 静态成员变量<a class="hash-link" href="#九static-静态成员变量" title="Direct link to heading">​</a></h2><p>对象的内存中包含了成员变量，不同的对象占用不同的内存，这使得不同对象的成员变量相互独立。可是有时候我们希望<strong>在多个对象之间共享数据</strong>，对象 a 改变了某份数据后对象 b 可以检测到，共享数据的典型使用场景是计数。</p><p>在C++ 中，我们可以<strong>使用静态成员变量来实现多个对象共享数据的目标</strong>。静态成员变量是一种特殊的成员变量，它被关键字 <code>static</code> 修饰。</p><ul><li>静态成员变量在初始化时不能再加 static，但必须要有数据类型。被 private、protected、public 修饰的静态成员变量都可以用这种方式初始化</li><li>静态成员变量既可以通过对象名访问，也可以通过类名访问，但要遵循 private、protected 和 public 关键字的访问权限限制。当通过对象名访问时，对于不同的对象，访问的是同一份内存。</li><li>static 成员变量的内存既不是在声明类时分配，也不是在创建对象时分配，而是在（类外）初始化时分配。反过来说，没有在类外初始化的 static 成员变量不能使用。</li><li>static 成员变量不占用对象的内存，而是在所有对象之外开辟内存，即使不创建对象也可以访问。</li><li>static 成员变量和普通 static 变量一样，都在内存分区中的全局数据区分配内存，到程序结束时才释放。这就意味着，static 成员变量不随对象的创建而分配内存，也不随对象的销毁而释放内存。而普通成员变量在对象创建时分配内存，在对象销毁时释放内存。</li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static int total;  // 静态成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Student::total = 0;  // 初始化 静态成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this-&gt;name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    total++;  // this-&gt;total++; 也行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; this-&gt;name &lt;&lt; &quot; &quot; &lt;&lt; total &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu1(&quot;doo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu1.show();  // doo 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu2(&quot;guu&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu2.show();  // guu 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu3(&quot;kee&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu3.show();  // kee 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十static-静态成员函数">十、static 静态成员函数<a class="hash-link" href="#十static-静态成员函数" title="Direct link to heading">​</a></h2><p>在类中，static 除了可以声明<a href="http://c.biancheng.net/view/2227.html" target="_blank" rel="noopener noreferrer">静态成员变量</a>，还可以声明静态成员函数。普通成员函数可以访问所有成员（包括成员变量和成员函数），静态成员函数只能访问静态成员。</p><p>编译器在编译一个普通成员函数时，会隐式地增加一个形参 this，并把当前对象的地址赋值给 this，所以普通成员函数只能在创建对象后通过对象来调用，因为它需要当前对象的地址。而静态成员函数可以通过类来直接调用，编译器不会为它增加形参 this，它不需要当前对象的地址，所以不管有没有创建对象，都可以调用静态成员函数。</p><p><strong>静态成员函数与普通成员函数的根本区别在于：普通成员函数有 this 指针，可以访问类中的任意成员；而静态成员函数没有 this 指针，只能访问静态成员（包括静态成员变量和静态成员函数</strong>）</p><ul><li>静态成员函数在声明时要加 static，在定义时不能加 static</li><li>静态成员函数可以通过类来调用（一般都是这样做），也可以通过对象来调用</li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string name, float score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //声明静态成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static int getTotal();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static float getPoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float m_score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 声明静态成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static int m_total;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static float m_points;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 初始化静态成员变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Student::m_total = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float Student::m_points = 0.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, float score) : m_name(name), m_score(score) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_total++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_points += score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; &quot; &lt;&lt; m_score &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//定义静态成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Student::getTotal() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return m_total;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float Student::getPoints() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return m_points;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu1(&quot;doo&quot;, 10.0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu1.show();  // doo 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu2(&quot;guu&quot;, 20.0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu2.show();  // guu 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu3(&quot;kee&quot;, 30.0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu3.show();  // kee 30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int total = Student::getTotal();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float points = Student::getPoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;total: &quot; &lt;&lt; total &lt;&lt; &quot; &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &lt;&lt; &quot;points: &quot; &lt;&lt; points &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // total: 3 points: 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十一const-成员变量和成员函数">十一、const 成员变量和成员函数<a class="hash-link" href="#十一const-成员变量和成员函数" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="const-成员变量">const 成员变量<a class="hash-link" href="#const-成员变量" title="Direct link to heading">​</a></h3><p>const 成员变量的用法和普通 const 变量的用法相似，只需要在声明时加上 const 关键字。初始化 const 成员变量只有一种方法，就是通过构造函数的初始化列表。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="const-成员函数">const 成员函数<a class="hash-link" href="#const-成员函数" title="Direct link to heading">​</a></h3><p><strong>const 成员函数可以使用类中的所有成员变量，但是不能修改它们的值，这种措施主要还是为了保护数据而设置的。const 成员函数也称为常成员函数</strong>。</p><p>我们通常将 get 函数设置为常成员函数。读取成员变量的函数的名字通常以<code>get</code>开头，后跟成员变量的名字，所以通常将它们称为 get 函数。</p><ul><li>常成员函数需要在声明和定义的时候在 <strong>函数头部的结尾加上 const 关键字</strong></li><li>必须在成员函数的声明和定义处同时加上 const 关键字</li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //声明常成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string getname() const;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name) : m_name(name) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//定义常成员函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string Student::getname() const {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;dodo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name = stu.getname();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; name &lt;&lt; endl;  // dodo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="区分下-const-的位置">区分下 const 的位置<a class="hash-link" href="#区分下-const-的位置" title="Direct link to heading">​</a></h3><ul><li><strong>函数开头的</strong> const 用来修饰函数的返回值，<strong>表示返回值是 const 类型</strong>，也就是不能被修改，例如 <code>const char * getname()</code></li><li><strong>函数头部的结尾</strong>加上 const 表示常成员函数，<strong>这种函数只能读取成员变量的值</strong>，而不能修改成员变量的值，例如 <code>char * getname() const</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十二const-成员对象">十二、const 成员对象<a class="hash-link" href="#十二const-成员对象" title="Direct link to heading">​</a></h2><p>const 也可以用来修饰对象，称为常对象。<strong>一旦将对象定义为常对象之后，就只能调用类的 const 成员（包括 const 成员变量和 const 成员函数）</strong></p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(int age);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int getage() const;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(int age) : m_age(age) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;show: &quot; &lt;&lt; m_age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int Student::getage() const {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const Student stu1(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // stu1.show();  // error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; stu1.getage() &lt;&lt; endl;  // 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu2(20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu2.show();    // 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu2.getage();  // 无输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十三friend-友元函数和友元类">十三、<strong>friend</strong> 友元函数和友元类<a class="hash-link" href="#十三friend-友元函数和友元类" title="Direct link to heading">​</a></h2><p>借助友元（friend），可以使得其他类中的成员函数以及全局范围内的函数访问当前类的 private 成员。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="friend-友元函数"><strong>friend</strong> 友元函数<a class="hash-link" href="#friend-友元函数" title="Direct link to heading">​</a></h3><p>友元函数可以访问当前类中的所有成员，包括 public、protected、private 属性的</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1将非成员函数声明为友元函数">1、将非成员函数声明为友元函数<a class="hash-link" href="#1将非成员函数声明为友元函数" title="Direct link to heading">​</a></h4><p><strong>将外部的非成员函数通过 friend 字段，在类内声明为友元函数</strong></p><p>友元函数不同于类的成员函数，在友元函数中不能直接访问类的成员，必须要借助对象</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string name, int age);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    friend void show(Student *pstu);  //将show()声明为友元函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string name, int age) : m_name(name), m_age(age) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//非成员函数，不属于任何类，但可以使用类这的私有成员</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void show(Student *pstu) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; pstu-&gt;m_name &lt;&lt; &quot; &quot; &lt;&lt; pstu-&gt;m_age &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;doo&quot;, 10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student(&quot;kee&quot;, 20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //调用友元函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    show(&amp;stu);  // doo 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    show(pstu);  // kee 20</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2将其他类的成员函数声明为友元函数">2、将其他类的成员函数声明为友元函数<a class="hash-link" href="#2将其他类的成员函数声明为友元函数" title="Direct link to heading">​</a></h4><p>friend 函数不仅可以是全局函数（非成员函数），还可以是另外一个类的成员函数。请看下面的例子：</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Address;  // 提前声明Address类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 声明Student类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(char *name, int age, float score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show(Address *addr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char *m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float m_score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 声明Address类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Address {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char *m_province;  //省份</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char *m_city;      //城市</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char *m_district;  //区（市区）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Address(char *province, char *city, char *district);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //将Student类中的成员函数show()声明为友元函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    friend void Student::show(Address *addr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现Student类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(char *name, int age, float score) : m_name(name), m_age(age), m_score(score) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show(Address *addr) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot; age:&quot; &lt;&lt; m_age &lt;&lt; &quot; score:&quot; &lt;&lt; m_score &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; &quot;addr: &quot; &lt;&lt; addr-&gt;m_province &lt;&lt; &quot;(prov)&quot; &lt;&lt; addr-&gt;m_city &lt;&lt; &quot;(city)&quot; &lt;&lt; addr-&gt;m_district &lt;&lt; &quot;(dist)&quot; &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现Address类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address::Address(char *province, char *city, char *district) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_province = province;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_city = city;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_district = district;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;Xiao&quot;, 16, 95.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Address addr(&quot;shanghai&quot;, &quot;pudong&quot;, &quot;jinqiao&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show(&amp;addr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student(&quot;Diao&quot;, 16, 80.5);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Address *paddr = new Address(&quot;shanxi&quot;, &quot;yuncheng&quot;, &quot;yongji&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pstu-&gt;show(paddr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Xiao age:16 score:95.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// addr: shanghai(prov)pudong(city)jinqiao(dist)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Diao age:16 score:80.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// addr: shanxi(prov)yuncheng(city)yongji(dist)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>本例定义了两个类 Student 和 Address，程序第 27 行将 Student 类的成员函数 show() 声明为 Address 类的友元函数，由此，show() 就可以访问 Address 类的 private 成员变量了。</p><p>几点注意：
① 程序第 4 行对 Address 类进行了提前声明，是因为在 Address 类定义之前、在 Student 类中使用到了它，如果不提前声明，编译器会报错，提示<code>&#x27;Address&#x27; has not been declared</code>。类的提前声明和函数的提前声明是一个道理。</p><p>② 程序将 Student 类的声明和实现分开了，而将 Address 类的声明放在了中间，这是因为编译器从上到下编译代码，show() 函数体中用到了 Address 的成员 province、city、district，如果提前不知道 Address 的具体声明内容，就不能确定 Address 是否拥有该成员（类的声明中指明了类有哪些成员）。</p><blockquote><p>这里简单介绍一下类的提前声明。一般情况下，类必须在正式声明之后才能使用；但是某些情况下（如上例所示），只要做好提前声明，也可以先使用。</p></blockquote><p>③ 一个函数可以被多个类声明为友元函数，这样就可以访问多个类中的 private 成员。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="friend-友元类">friend 友元类<a class="hash-link" href="#friend-友元类" title="Direct link to heading">​</a></h3><p>友元类中的所有成员函数都是另外一个类的友元函数，包括 public、protected、private 属性的。</p><p>除非有必要，一般不建议把整个类声明为友元类，而只将某些成员函数声明为友元函数，这样更安全一些。</p><p><a href="http://c.biancheng.net/view/2233.html" target="_blank" rel="noopener noreferrer">示例</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十四class-和-struct-区别">十四、class 和 struct 区别<a class="hash-link" href="#十四class-和-struct-区别" title="Direct link to heading">​</a></h2><p>在C语言中，struct 只能包含成员变量，不能包含成员函数。</p><p>在C++中，struct 类似于 class 基本通用，既可以包含成员变量，又可以包含成员函数。</p><p>C++中的 struct 和 class 几个细节不同：</p><ul><li>使用 class 时，类中的成员默认都是 private 属性的；而使用 struct 时，结构体中的成员默认都是 public 属性的</li><li>class 继承默认是 private 继承，而 struct 继承默认是 public 继承、</li><li>class 可以使用模板，而 struct 不能</li></ul><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 换成 class 会报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    string name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student(string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Student::Student(string n) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name = n;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; name &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu(&quot;doo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stu.show();  // doo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="十五c对象的内存模型">十五、C++对象的内存模型<a class="hash-link" href="#十五c对象的内存模型" title="Direct link to heading">​</a></h2><p>类是创建对象的模板，不占用内存空间，不存在于编译后的可执行文件中；而对象是实实在在的数据，需要内存来存储。对象被创建时会在栈区或者堆区分配内存。</p><p>不同对象的成员变量的值可能不同，需要单独分配内存来存储。但是不同对象的成员函数的代码是一样的，上面的内存模型保存了 10 份相同的代码片段，浪费了不少空间，可以将这些代码片段压缩成一份。</p><p><img loading="lazy" alt="class-1" src="/assets/images/class-1-80ef67cf76b6126e16dbf70686a65edd.png" width="381" height="170" class="img_ev3q"></p><p>事实上编译器也是这样做的，编译器会将成员变量和成员函数分开存储：分别为每个对象的成员变量分配内存，但是所有对象都共享同一段函数代码。如下图所示：</p><p><img loading="lazy" alt="class-2" src="/assets/images/class-2-ee189e296ef4430a81cacf3ab187489f.png" width="361" height="115" class="img_ev3q"></p><p>成员变量在堆区或栈区分配内存，成员函数在代码区分配内存。</p><p>【示例】使用 sizeof 获取对象所占内存的大小：</p><div class="language-c++ codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c++ codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#include &lt;iostream&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using namespace std;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class Student {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    char *m_name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int m_age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    float m_score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setname(char *name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setage(int age);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void setscore(float score);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::setname(char *name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::setage(int age) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_age = age;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::setscore(float score) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m_score = score;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void Student::show() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; m_name &lt;&lt; &quot;的年龄是&quot; &lt;&lt; m_age &lt;&lt; &quot;，成绩是&quot; &lt;&lt; m_score &lt;&lt; endl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //在栈上创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student stu;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; sizeof(stu) &lt;&lt; endl;  // 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //在堆上创建对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Student *pstu = new Student();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; sizeof(*pstu) &lt;&lt; endl;  // 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //类的大小</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout &lt;&lt; sizeof(Student) &lt;&lt; endl;  // 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Skill/C++/基础知识/GCC"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GCC</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Skill/C++/面向对象/继承与派生"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">继承与派生</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一基本知识" class="table-of-contents__link toc-highlight">一、基本知识</a></li><li><a href="#二使用对象指针" class="table-of-contents__link toc-highlight">二、使用对象指针</a></li><li><a href="#三成员变量和成员函数" class="table-of-contents__link toc-highlight">三、成员变量和成员函数</a></li><li><a href="#四访问权限" class="table-of-contents__link toc-highlight">四、访问权限</a></li><li><a href="#五封装" class="table-of-contents__link toc-highlight">五、封装</a></li><li><a href="#六构造函数" class="table-of-contents__link toc-highlight">六、构造函数</a><ul><li><a href="#构造函数的重载" class="table-of-contents__link toc-highlight">构造函数的重载</a></li><li><a href="#初始化列表" class="table-of-contents__link toc-highlight">初始化列表</a></li><li><a href="#初始化-const-成员变量" class="table-of-contents__link toc-highlight">初始化 const 成员变量</a></li></ul></li><li><a href="#七析构函数" class="table-of-contents__link toc-highlight">七、析构函数</a><ul><li><a href="#析构函数的执行时机" class="table-of-contents__link toc-highlight">析构函数的执行时机</a></li></ul></li><li><a href="#八this-指针" class="table-of-contents__link toc-highlight">八、this 指针</a></li><li><a href="#九static-静态成员变量" class="table-of-contents__link toc-highlight">九、static 静态成员变量</a></li><li><a href="#十static-静态成员函数" class="table-of-contents__link toc-highlight">十、static 静态成员函数</a></li><li><a href="#十一const-成员变量和成员函数" class="table-of-contents__link toc-highlight">十一、const 成员变量和成员函数</a><ul><li><a href="#const-成员变量" class="table-of-contents__link toc-highlight">const 成员变量</a></li><li><a href="#const-成员函数" class="table-of-contents__link toc-highlight">const 成员函数</a></li><li><a href="#区分下-const-的位置" class="table-of-contents__link toc-highlight">区分下 const 的位置</a></li></ul></li><li><a href="#十二const-成员对象" class="table-of-contents__link toc-highlight">十二、const 成员对象</a></li><li><a href="#十三friend-友元函数和友元类" class="table-of-contents__link toc-highlight">十三、<strong>friend</strong> 友元函数和友元类</a><ul><li><a href="#friend-友元函数" class="table-of-contents__link toc-highlight"><strong>friend</strong> 友元函数</a></li><li><a href="#friend-友元类" class="table-of-contents__link toc-highlight">friend 友元类</a></li></ul></li><li><a href="#十四class-和-struct-区别" class="table-of-contents__link toc-highlight">十四、class 和 struct 区别</a></li><li><a href="#十五c对象的内存模型" class="table-of-contents__link toc-highlight">十五、C++对象的内存模型</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Doongz Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f9aa80d1.js"></script>
<script src="/assets/js/main.0ded408c.js"></script>
</body>
</html>