<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Skill/C++/面向对象/C++虚函数详解">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">C++ 虚函数详解 | Doongz&#x27;s Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doongz.github.io/docs/Skill/C++/面向对象/C++虚函数详解"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="C++ 虚函数详解 | Doongz&#x27;s Site"><meta data-rh="true" name="description" content="参考1：C++ 虚函数表解析"><meta data-rh="true" property="og:description" content="参考1：C++ 虚函数表解析"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doongz.github.io/docs/Skill/C++/面向对象/C++虚函数详解"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Skill/C++/面向对象/C++虚函数详解" hreflang="en"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Skill/C++/面向对象/C++虚函数详解" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Doongz&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Doongz&#39;s Site Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bbae31c2.css">
<link rel="preload" href="/assets/js/runtime~main.958a4673.js" as="script">
<link rel="preload" href="/assets/js/main.715bfe53.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home page</b></a><a class="navbar__item navbar__link" href="/docs/catalogue-algo">Algorithm</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/catalogue-skill">Skill</a><a class="navbar__item navbar__link" href="/docs/catalogue-knowledge">Knowledge</a><a class="navbar__item navbar__link" href="/community/support">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Courses</a><ul class="dropdown__menu"><li><a href="https://github.com/doongz/mlc-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Machine Learning Compilation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs229" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stanford CS229: Machine Learning<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/aics" target="_blank" rel="noopener noreferrer" class="dropdown__link">中国科学院 智能计算系统<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs50-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Harvard CS50’s Introduction to AI with Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.824" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.824 Distributed Systems<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/os-workbench" target="_blank" rel="noopener noreferrer" class="dropdown__link">南京大学 操作系统：设计与实现<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.s081" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.S081 Operating Systems Engineering<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/doongz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/catalogue-skill">Catalogue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/ASM/RISC-V/汇编语言格式及ABI">ASM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/Android/Android概述">Android</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/C/基础知识/数据类型">C</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Skill/C++/基础知识/基本数据类型">C++</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/基础知识/基本数据类型">基础知识</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Skill/C++/面向对象/类和对象">面向对象</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/类和对象">类和对象</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/继承与派生">继承与派生</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/多态与虚函数">多态与虚函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/运算符重载">运算符重载</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/面向对象/模板和泛型">模板和泛型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Skill/C++/面向对象/C++虚函数详解">C++ 虚函数详解</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/标准模板库/">STL 概述</a><button aria-label="Toggle the collapsible sidebar category &#x27;STL 概述&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Skill/C++/扩充知识/符号Symbol">扩充知识</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Skill/C++/常用函数">常用函数</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/Golang/基础知识/条件判断">Golang</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Skill/LaTeX/">LaTex</a><button aria-label="Toggle the collapsible sidebar category &#x27;LaTex&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/Linux/POSIX">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Skill/Markdown/">README</a><button aria-label="Toggle the collapsible sidebar category &#x27;README&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Skill/Mermaid/">mermaid</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/Python/运算符">Python</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/SQL/数据库理论">SQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/工具链/工具&amp;网站">工具链</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/常用CLI/docker-CLI">常用CLI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Skill/设计模式/多态和多态性">设计模式</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">C++</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">面向对象</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">C++ 虚函数详解</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>C++ 虚函数详解</h1><p>参考1：<a href="https://blog.csdn.net/haoel/article/details/1948051" target="_blank" rel="noopener noreferrer">C++ 虚函数表解析</a></p><p>参考2：<a href="https://blog.csdn.net/TABE_/article/details/122180181" target="_blank" rel="noopener noreferrer">C++ 虚函数详解</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="一概述">一、概述<a class="hash-link" href="#一概述" title="Direct link to heading">​</a></h2><p>C++中的虚函数的作用主要是实现了多态的机制。</p><p>关于多态，简而言之就是用父类型别的指针指向其子类的实例，然后通过父类的指针调用实际子类的成员函数。这种技术可以让父类的指针有“多种形态”，这是一种泛型技术。</p><p>所谓泛型技术，说白了就是试图使用不变的代码来实现可变的算法。比如：模板技术，RTTI技术，虚函数技术，要么是试图做到在编译时决议，要么试图做到运行时决议。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="虚函数表和虚函数指针存放在哪个位置">虚函数表和虚函数指针存放在哪个位置<a class="hash-link" href="#虚函数表和虚函数指针存放在哪个位置" title="Direct link to heading">​</a></h3><ul><li>虚函数指针一般都是在<strong>类的最前边</strong>（取决于编译器的实现）。</li><li>虚函数表位于C++内存模型中的<strong>常量区</strong>。</li><li>虚函数位于代码段（.text），也就是C++内存模型中的<strong>代码区</strong>。</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二虚函数表">二、虚函数表<a class="hash-link" href="#二虚函数表" title="Direct link to heading">​</a></h2><p>虚函数（<em>Virtual Function</em>）是通过一张虚函数表（<em>Virtual Table</em>）来实现的。简称为<em>V-Table</em>。在这个表中，主是要一个类的虚函数的地址表，这张表解决了继承、覆盖的问题，保证其容真实反应实际的函数。这样，在有虚函数的类的实例中这个表被分配在了这个实例的内存中，所以，当我们用父类的指针来操作一个子类的时候，这张虚函数表就显得由为重要了，它就像一个地图一样，指明了实际所应该调用的函数。</p><p><strong>每个包含了虚函数的类都包含一个虚表，虚函数表保存的是虚函数的指针，因此虚表的大小是虚函数个数4个字节</strong>。</p><p>例如：类 A 包含虚函数vfunc1，vfunc2，由于类 A 包含虚函数，故类 A 拥有一个虚表</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">A</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vfunc1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vfunc2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">func2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> m_data1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m_data2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>类 A 的虚表如下图所示：</p><p><img loading="lazy" alt="在这里插入图片描述" src="/assets/images/v1-43e4991da3f835095f6d0bb83aae6775.png" width="339" height="322" class="img_ev3q"></p><p>对于虚表，需要注意的是：</p><ul><li>虚表是一个指针数组，其元素是虚函数的指针，每个元素对应一个虚函数的函数指针。需要指出的是，普通的函数即非虚函数，其调用并不需要经过虚表，所以虚表的元素并不包括普通函数的函数指针。</li><li>虚表内的条目，即虚函数指针的赋值发生在编译器的编译阶段，也就是说在代码的编译阶段，虚表就可以构造出来了。</li><li><strong>虚表是属于类的，而不是属于某个具体的对象，一个类只需要一个虚表即可</strong>。同一个类的所有对象都使用同一个虚表。</li></ul><p>这里我们着重看一下这张虚函数表。C++的编译器应该是保证虚函数表的指针存在于对象实例中最前面的位置（这是为了保证取到虚函数表的有最高的性能——如果有多层继承或是多重继承的情况下）。这意味着我们通过对象实例的地址得到这张虚函数表，然后就可以遍历其中函数指针，并调用相应的函数。</p><p>例如：我们有这样的一个类，可以通过 Base 的实例来得到虚函数表</p><blockquote><p>调试源代码的时候需要的问题，靠评论区解决了</p><p>本来以为文章里面的代码是错的，结果发现自己的debug配置的64位的，所以里面的int<em> 要换成 long long</em>，好家伙有被自己蠢到</p></blockquote><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;iostream&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> std</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::f&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::g&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::h&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Base b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fun pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;虚函数表地址：&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                            </span><span class="token comment" style="color:#999988;font-style:italic">// 虚函数表地址：0x7fffffffdf78</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;虚函数表 — 第一个函数地址：&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 第一个函数地址：0x555555755d58</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Invoke the first virtual function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::g</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>画个图解释一下</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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" width="331" height="129" class="img_ev3q"></p><p>注意：在上面这个图中，我在虚函数表的最后多加了一个结点，这是虚函数表的结束结点，就像字符串的结束符“<em>/0</em>”一样，其标志了虚函数表的结束。这个结束标志的值在不同的编译器下是不同的。在WinXP+VS2003下，这个值是NULL。而在Ubuntu 7.10 + Linux 2.6.22 + GCC 4.1.3下，这个值是如果1，表示还有下一个虚函数表，如果值是0，表示是最后一个虚函数表。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三虚表指针">三、虚表指针<a class="hash-link" href="#三虚表指针" title="Direct link to heading">​</a></h2><p>为了指定对象的虚表，对象内部包含一个虚表的指针，来指向自己所使用的虚表。为了让每个包含虚表的类的对象都拥有一个虚表指针，在编译阶段，编译器在类中添加了一个指针<code>*__vptr</code>，用来指向虚表。这样，当类的对象在创建时便拥有了这个指针，且这个指针的值会自动被设置为指向类的虚表，<code>*__vptr</code>一般在对象内存分布的最前面。</p><p><strong>虚表指针的初始化确实发生在构造函数的调用过程中， 但是在执行构造函数体之前，即进入到构造函数的&quot;{“和”}&quot;之前</strong>。 为了更好的理解这一问题， 我们可以把构造函数的调用过程细分为两个阶段，即：</p><ul><li>进入到构造函数体之前。在这个阶段如果存在虚函数的话，虚表指针被初始化。如果存在构造函数的初始化列表的话，初始化列表也会被执行。</li><li>进入到构造函数体内。这一阶段是我们通常意义上说的构造函数。</li></ul><p><img loading="lazy" alt="在这里插入图片描述" src="/assets/images/v2-5985f13c2ceeda45d12ce3e67b723c75.png" width="560" height="359" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="四继承">四、继承<a class="hash-link" href="#四继承" title="Direct link to heading">​</a></h2><p>我们知道，当一个类A继承另一个类B时，类 A 会继承类 B 的函数的调用权。所以如果一个基类包含了虚函数，那么其继承类也可调用这些虚函数，换句话说，一个类继承了包含虚函数的基类，那么这个类也拥有自己的虚表，下面根据继承方式的不同，描述继承类的虚表。</p><p>分别说明“无覆盖”和“有覆盖”时的虚函数表的样子。没有覆盖父类的虚函数是毫无意义的。我之所以要讲述没有覆盖的情况，主要目的是为了给一个对比，可以更加清楚地知道其内部的具体实现。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1一般继承无虚函数覆盖">1、一般继承（无虚函数覆盖）<a class="hash-link" href="#1一般继承无虚函数覆盖" title="Direct link to heading">​</a></h3><p>假设有如下所示的一个继承关系：</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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" width="78" height="194" class="img_ev3q"></p><p>请注意，在这个继承关系中，子类没有重载任何父类的函数。那么，在派生类的实例 Derive d，其虚函数表如下所示</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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XQ//ABNH/CCeEP8AoVND/wDBdD/8TQB0NFc9/wAIJ4Q/6FTQ/wDwXQ//ABNH/CCeEP8AoVND/wDBdD/8TQAtn/yUPWf+wVYf+jbuugrkNC0rTtG8b63b6bYWtnA2m2LtHbQrEpbzbsZIUAZwAM+wrr6ACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKwvFguD4Q1sWkHn3JsbgQxeSJfMfy22rsIIfJwNpBz0wa3aztS0rTtZt1t9SsbW9gVw6x3MKyqGwRkBgRnBIz7mgDzKw0Kx0zXpX0V3+36fqdvFEU0yyAubdpIY7l0eO2U4TzJY32NlCvzEZxXr1ZzaTp8lvZ28mnWrQWbo9tG0KlYGQYQoMYUqOARjHatGgDD8O2dxYafLDcxeXI1/ezAZBykl1K6Hj1VlPtnnmtyiigAooooAKKKKAOfs/+Sh6z/wBgqw/9G3ddBXP2f/JQ9Z/7BVh/6Nu66CgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAxotPmh8UX2qEx+RcWdtbooJ3Bo3nZieMYxKuOex6d9miigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q==" width="551" height="124" class="img_ev3q"></p><p>我们可以看到下面几点：</p><ol><li>虚函数按照其声明顺序放于表中。</li><li>父类的虚函数在子类的虚函数前面。</li></ol><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;iostream&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> std</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::f&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::g&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::h&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Derive</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:#00009f">public</span><span class="token base-clause"> </span><span class="token base-clause class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::f1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">g1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::g1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::h1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Base </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fun pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 一般继承（无虚函数覆盖）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Derive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::g</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::g1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::h1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2一般继承有虚函数覆盖">2、一般继承（有虚函数覆盖）<a class="hash-link" href="#2一般继承有虚函数覆盖" title="Direct link to heading">​</a></h3><p>覆盖父类的虚函数是很显然的事情，不然，虚函数就变得毫无意义。下面，我们来看一下，如果子类中有虚函数重载了父类的虚函数，会是一个什么样子？假设，我们有下面这样的一个继承关系。</p><p> <img loading="lazy" alt="img" src="data:image/png;base64,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" width="78" height="194" class="img_ev3q"></p><p>为了让大家看到被继承过后的效果，在这个类的设计中，我只覆盖了父类的一个函数：<em>f()</em>。那么，对于派生类的实例，其虚函数表会是下面的一个样子：</p><p><img loading="lazy" alt="img" src="data:image/png;base64,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" width="500" height="124" class="img_ev3q"></p><p>我们从表中可以看到下面几点</p><ul><li>覆盖的<em>f()</em>函数被放到了虚表中原来父类虚函数的位置。</li><li>没有被覆盖的函数依旧。</li></ul><p><code>b-&gt;f();</code> 由<em>b</em>所指的内存中的虚函数表的<em>f()</em>的位置已经被<em>Derive::f()</em>函数地址所取代，于是在实际调用发生时，是<em>Derive::f()</em>被调用了。这就实现了多态。</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;iostream&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> std</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::f&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::g&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::h&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Derive</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:#00009f">public</span><span class="token base-clause"> </span><span class="token base-clause class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::f&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">g1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::g1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">h1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Derive::h1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Base </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fun pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 一般继承（无虚函数覆盖）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Derive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::g</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::g1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::h1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3多重继承无虚函数覆盖">3、多重继承（无虚函数覆盖）<a class="hash-link" href="#3多重继承无虚函数覆盖" title="Direct link to heading">​</a></h3><p>下面，再让我们来看看多重继承中的情况，假设有下面这样一个类的继承关系。注意：子类并没有覆盖父类的函数</p><p><img loading="lazy" alt="img" src="/assets/images/o_Drawing1-25d2f9bff3d7a4756372b075c5921a04.png" width="282" height="192" class="img_ev3q"> </p><p>对于子类实例中的虚函数表，是下面这个样子：</p><p><img loading="lazy" alt="img" src="/assets/images/o_vtable4-519354a5a6f4ed748171b9a6722d78b1.png" width="493" height="173" class="img_ev3q"></p><p>我们可以看到：</p><ol><li>每个父类都有自己的虚表。</li><li>子类的成员函数被放到了第一个父类的表中。（所谓的第一个父类是按照声明顺序来判断的）</li></ol><p>这样做就是为了解决不同的父类类型的指针指向同一个子类实例，而能够调用到实际的函数。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4多重继承有虚函数覆盖">4、多重继承（有虚函数覆盖）<a class="hash-link" href="#4多重继承有虚函数覆盖" title="Direct link to heading">​</a></h3><p>下面我们再来看看，如果发生虚函数覆盖的情况。下图中，我们在子类中覆盖了父类的<em>f()</em>函数。</p><p><img loading="lazy" alt="img" src="/assets/images/o_Drawing2-72c6021a6cf2b0d183e335898917dde9.png" width="282" height="192" class="img_ev3q"> </p><p>下面是对于子类实例中的虚函数表的图：</p><p><img loading="lazy" alt="img" src="/assets/images/o_vtable5-c23852133dd7c59be8e79a70cfe24582.png" width="420" height="173" class="img_ev3q"> </p><p>我们可以看见，三个父类虚函数表中的<em>f()</em>的位置被替换成了子类的函数指针。这样，我们就可以任一静态类型的父类来指向子类，并调用子类的<em>f()</em>了。如：</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Derive d</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Base1 </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Base2 </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Base3 </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b1</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b2</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b3</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Derive::f()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b1</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base1::g()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b2</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base2::g()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b3</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">g</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base3::g()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="五安全性">五、安全性<a class="hash-link" href="#五安全性" title="Direct link to heading">​</a></h2><p>每次写<em>C++</em>的文章，总免不了要批判一下<em>C++</em>。这篇文章也不例外。通过上面的讲述，相信我们对虚函数表有一个比较细致的了解了。水可载舟，亦可覆舟。下面，让我们来看看我们可以用虚函数表来干点什么坏事吧。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1通过父类型的指针访问子类自己的虚函数">1、通过父类型的指针访问子类自己的虚函数<a class="hash-link" href="#1通过父类型的指针访问子类自己的虚函数" title="Direct link to heading">​</a></h3><p>我们知道，子类没有重载父类的虚函数是一件毫无意义的事情。因为多态也是要基于函数重载的。虽然在上面的图中我们可以看到<em>Base1</em>的虚表中有<em>Derive</em>的虚函数，但我们根本不可能使用下面的语句来调用子类的自有虚函数：</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Base1 </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">b1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Derive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b1</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">f1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//*编译出错*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>任何妄图使用父类指针想调用子类中的<strong>未覆盖父类的成员函数</strong>的行为都会被编译器视为非法，所以，这样的程序根本无法编译通过。但在运行时，我们可以通过指针的方式访问虚函数表来达到违反<em>C++</em>语义的行为。（关于这方面的尝试，通过阅读后面附录的代码，相信你可以做到这一点）</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2访问non-public的虚函数">2、访问non-public的虚函数<a class="hash-link" href="#2访问non-public的虚函数" title="Direct link to heading">​</a></h3><p>另外，如果父类的虚函数是<em>private</em>或是<em>protected</em>的，但这些非<em>public</em>的虚函数同样会存在于虚函数表中，所以，我们同样可以使用访问虚函数表的方式来访问这些non-public的虚函数，这是很容易做到的。</p><p>如：</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;iostream&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> std</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">virtual</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Base::f&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Derive</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:#00009f">public</span><span class="token base-clause"> </span><span class="token base-clause class-name">Base</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Derive d</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fun pFun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">long</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">pFun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Base::f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Skill/C++/面向对象/模板和泛型"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">模板和泛型</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Skill/C++/标准模板库/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">STL 概述</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一概述" class="table-of-contents__link toc-highlight">一、概述</a><ul><li><a href="#虚函数表和虚函数指针存放在哪个位置" class="table-of-contents__link toc-highlight">虚函数表和虚函数指针存放在哪个位置</a></li></ul></li><li><a href="#二虚函数表" class="table-of-contents__link toc-highlight">二、虚函数表</a></li><li><a href="#三虚表指针" class="table-of-contents__link toc-highlight">三、虚表指针</a></li><li><a href="#四继承" class="table-of-contents__link toc-highlight">四、继承</a><ul><li><a href="#1一般继承无虚函数覆盖" class="table-of-contents__link toc-highlight">1、一般继承（无虚函数覆盖）</a></li><li><a href="#2一般继承有虚函数覆盖" class="table-of-contents__link toc-highlight">2、一般继承（有虚函数覆盖）</a></li><li><a href="#3多重继承无虚函数覆盖" class="table-of-contents__link toc-highlight">3、多重继承（无虚函数覆盖）</a></li><li><a href="#4多重继承有虚函数覆盖" class="table-of-contents__link toc-highlight">4、多重继承（有虚函数覆盖）</a></li></ul></li><li><a href="#五安全性" class="table-of-contents__link toc-highlight">五、安全性</a><ul><li><a href="#1通过父类型的指针访问子类自己的虚函数" class="table-of-contents__link toc-highlight">1、通过父类型的指针访问子类自己的虚函数</a></li><li><a href="#2访问non-public的虚函数" class="table-of-contents__link toc-highlight">2、访问non-public的虚函数</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Doongz Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.958a4673.js"></script>
<script src="/assets/js/main.715bfe53.js"></script>
</body>
</html>