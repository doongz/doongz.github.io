<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Knowledge/计算机网络/网络层">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">网络层 | Doongz&#x27;s Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doongz.github.io/docs/Knowledge/计算机网络/网络层"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="网络层 | Doongz&#x27;s Site"><meta data-rh="true" name="description" content="4.1 网络层功能"><meta data-rh="true" property="og:description" content="4.1 网络层功能"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://doongz.github.io/docs/Knowledge/计算机网络/网络层"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Knowledge/计算机网络/网络层" hreflang="en"><link data-rh="true" rel="alternate" href="https://doongz.github.io/docs/Knowledge/计算机网络/网络层" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Doongz&#39;s Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Doongz&#39;s Site Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.bbae31c2.css">
<link rel="preload" href="/assets/js/runtime~main.a61035f3.js" as="script">
<link rel="preload" href="/assets/js/main.7aad8990.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home page</b></a><a class="navbar__item navbar__link" href="/docs/catalogue-algo">Algorithm</a><a class="navbar__item navbar__link" href="/docs/catalogue-skill">Skill</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/catalogue-knowledge">Knowledge</a><a class="navbar__item navbar__link" href="/community/support">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Courses</a><ul class="dropdown__menu"><li><a href="https://github.com/doongz/mlc-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Machine Learning Compilation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs229" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stanford CS229: Machine Learning<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/aics" target="_blank" rel="noopener noreferrer" class="dropdown__link">中国科学院 智能计算系统<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/cs50-ai" target="_blank" rel="noopener noreferrer" class="dropdown__link">Harvard CS50’s Introduction to AI with Python<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.824" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.824 Distributed Systems<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/os-workbench" target="_blank" rel="noopener noreferrer" class="dropdown__link">南京大学 操作系统：设计与实现<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/doongz/mit-6.s081" target="_blank" rel="noopener noreferrer" class="dropdown__link">MIT-6.S081 Operating Systems Engineering<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/doongz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/catalogue-knowledge">Catalogue</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/IC/IC">IC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Knowledge/计算机组成/">计算机组成-序</a><button aria-label="Toggle the collapsible sidebar category &#x27;计算机组成-序&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/操作系统/计算机系统概述">操作系统</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Knowledge/计算机网络/计算机网络体系结构">计算机网络</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/计算机网络体系结构">计算机网络体系结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/物理层">物理层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/数据链路层">数据链路层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Knowledge/计算机网络/网络层">网络层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/传输层">传输层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/应用层">应用层</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/socket">socket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Knowledge/计算机网络/07-5G网络架构">5G 网络架构</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/容器技术/docker原理">容器技术</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/数据存储/设计数据密集型应用/序">数据存储</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Knowledge/AI/Tensor">AI</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">计算机网络</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">网络层</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>网络层</h1><p><img loading="lazy" src="/assets/images/4-0-2fcc1a76de038f81d487781d8386ad23.png" width="1468" height="1070" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="41-网络层功能">4.1 网络层功能<a class="hash-link" href="#41-网络层功能" title="Direct link to heading">​</a></h2><p>互联网在网络层的设计思想是，向上只提供简单灵活的、无连接的、尽最大努力交付的数据报服务。</p><p><img loading="lazy" alt="4-1" src="/assets/images/4-1-3e10a4a00dca7aaea7af0eb3a8a4d5b3.png" width="2726" height="1440" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/4-16-01c820e3e479c23fb371a10a4bc9458c.png" width="1252" height="656" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/4-17-f2d0a35999dc7dd4d2d1b4598309eeaf.png" width="602" height="528" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="42-路由算法">4.2 路由算法<a class="hash-link" href="#42-路由算法" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="4-2" src="/assets/images/4-2-20bdb1e52867b64fcd136e66e00a3e17.png" width="2154" height="1476" class="img_ev3q"></p><p>距离-向量路由算法与链路状态路由算法的比较：</p><ul><li><p>在「距离-向量路由算法」中，每个结点仅与它的<strong>直接邻居交谈</strong>，它为它的邻居提供从自己到网络中<strong>所有其他结点的最低费用估计</strong>。</p></li><li><p>在「链路状态路由算法」中，每个结点通过广播的方式<strong>与所有其他结点交谈</strong>，但它仅告诉它们<strong>与它直接相连的链路</strong>的费用。</p></li></ul><p>相较之下，距离-向量路由算法有可能遇到路由环路等问题。</p><p><img loading="lazy" alt="4-3" src="/assets/images/4-3-a5a3fe356c9b999fc58613cf7b7e9ea8.png" width="1774" height="422" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="43-ipv4">4.3 IPv4<a class="hash-link" href="#43-ipv4" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4分组">IPv4分组<a class="hash-link" href="#ipv4分组" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="4-4" src="/assets/images/4-4-1ee7bf00c870255459d5308258a35da0.png" width="1814" height="1514" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/4-18-ee38e6a445fd1c477f5712dd679e1c6e.png" width="1274" height="796" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4地址与nat">IPv4地址与NAT<a class="hash-link" href="#ipv4地址与nat" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="4-5" src="/assets/images/4-5-b691831b939f58ded354ed717433ca2c.png" width="2762" height="1290" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/4-19-fa5178a6b5e70eb2d675d484ca7ac4b6.png" width="1542" height="332" class="img_ev3q"></p><p><strong>IP地址有以下重要特点</strong>：</p><ul><li>每个IP地址都由网络号和主机号两部分组成，因此IP地址是一种分等级的地址结构。分等级的好处是：①IP地址管理机构在分配 IP 地址时只分配网络号（第一级），而主机号(第二级）则由得到该网络的单位自行分配，方便了 IP地址的管理；②路由器仅根据目的主机所连接的网络号来转发分组(而不考虑目标主机号），从而减小了路由表所占的存储空间。</li><li>IP地址是标志一台主机(或路由器）和一条链路的接口。当一台主机同时连接到两个网络时，该主机就必须同时具有两个相应的 IP地址，每个IP地址的网络号必须与所在网络的网络号相同，且这两个 IP地址的网络号是不同的。因此IP网络上的一个路由器必然至少应具有两个IP地址 (路由器每个端口必须至少分配一个IP地址）</li><li>用转发器或桥接器（网桥等）连接的若干 LAN 仍然是同一个网络（同一个广播域），因此该LAN 中所有主机的IP地址的网络号必须相同，但主机号必须不同</li><li>在IP地址中，所有分配到网络号的网络 （无论是LAN 还是 WAN）都是平等的。</li><li>在同一个局城网上的主机或路由器的 IP地址中的网络号必领是一样的。路由器总是具有两个或两个以上的 IP地址，路由器的每个端口都有一个不同网络号的IP地址。</li></ul><p><strong>私有IP地址</strong>：</p><p>为了网络安全，划出了部分 IP地址为私有IP地址。私有IP地址只用于 LAN，不用于 WAN 连接（因此私有 IP地址不能直接用于 Internet， 必须通过网关利用 NAT 把私有IP地址转换为 Internet 中合法的全球 IP 地址后才能用于 Internet），并且允许私有IP地址被 LAN 重复使用。这有效地解决了IP地址不足的问题。私有IP地址网段如下</p><ul><li>A类：1个A类网段，即 10.0.0.0~-10.255.255.255</li><li>B类：16个B类网段，即 172.16.0.0~172.31.255.255</li><li>C类：256个C类网段，即：192.168.0.0~-192.168.255.255</li></ul><p>在因特网中的所有路由器，对目的地址是私有地址的数据报一律不进行转发。这种采用私有IP 地址的互联网络称为专用互联网或本地互联网。私有IP地址也称可重用地址。</p><p><img loading="lazy" src="/assets/images/4-20-4b50a6843b4b3f83fe20f15629c4bb44.png" width="670" height="404" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="子网划分与子网掩码cidr">子网划分与子网掩码、CIDR<a class="hash-link" href="#子网划分与子网掩码cidr" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="4-6" src="/assets/images/4-6-6bb19b863844138965d9661e5116acb8.png" width="2616" height="1168" class="img_ev3q"></p><p><img loading="lazy" alt="4-7" src="/assets/images/4-7-20bbdc1b2b0259427d89f2e6e2be29cf.png" width="2492" height="1118" class="img_ev3q"></p><p><img loading="lazy" alt="4-8" src="/assets/images/4-8-6d3e4de0bbb6099743fd2f951ba4d59c.png" width="2452" height="902" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="44-ipv6">4.4 IPv6<a class="hash-link" href="#44-ipv6" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="4-9" src="/assets/images/4-9-dc411eb32becfc046632496ec3d1e23f.png" width="2226" height="1242" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="45-路由协议">4.5 路由协议<a class="hash-link" href="#45-路由协议" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="4-10" src="/assets/images/4-10-da51e2113faaa02531f9acb7c2771c91.png" width="2334" height="868" class="img_ev3q"></p><p><img loading="lazy" alt="4-11" src="/assets/images/4-11-f36103eecb20575cd1e4cd1405352cc7.png" width="2142" height="1004" class="img_ev3q"></p><p><img loading="lazy" alt="4-12" src="/assets/images/4-12-a44cde93c96ffc6c3acc897148fb6d6a.png" width="2086" height="1382" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="46-ip组播">4.6 IP组播<a class="hash-link" href="#46-ip组播" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="4-13" src="/assets/images/4-13-cdf8ae2071e131671315a8c5e45ec882.png" width="2346" height="1296" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="47-移动ip">4.7 移动IP<a class="hash-link" href="#47-移动ip" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="4-14" src="/assets/images/4-14-2afacf5cf1a188d139192be11d1093be.png" width="2322" height="846" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="48-网络层设备">4.8 网络层设备<a class="hash-link" href="#48-网络层设备" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="路由器">路由器<a class="hash-link" href="#路由器" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="4-15" src="/assets/images/4-15-c4fd8ad74001a69d9f2a6ed1441ea83b.png" width="2294" height="1462" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/4-21-e2676fe3020d99c1fa95896bc0638a98.png" width="1270" height="774" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题">常见问题<a class="hash-link" href="#常见问题" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1尽最大努力交付-有哪些含义">1、“尽最大努力交付” 有哪些含义<a class="hash-link" href="#1尽最大努力交付-有哪些含义" title="Direct link to heading">​</a></h3><ol><li>不保证源主机发送的IP数据报一定无差错地交付到目的主机。</li><li>不保证源主机发送的 IP 数据报都在某一规定的时间内交付到目的主机。</li><li>不保证源主机发送的 IP数据报一定按发送时的顺序交付到目的主机。</li><li>不保证源主机发送的 IP 数据报不会重复交付给目的主机。</li><li>不故意丢弃IP数据报。丢弃 卫数据报的情况是：路由器检测出首部校验和有错误；或由于网络中通信量过大，路由器或目的主机中的缓存已无空闲空间。</li></ol><p>但要注意，IP数据报的首部中有一个 “首部校验和”。当它检验出 IP数据报的首部出现了差错时，就丢弃该数据报。因此，凡交付给目的主机的 IP数据报都是 IP 首部没有差错的或没有检测出差错的。也就是说，<strong>在传输过程中，出现差销的 IP数据报都被丢弃了</strong>。</p><p>现在因特网上绝大多数的通信量都屈于 “尽最大努力交付”。如果数据必须可靠地交付给目的地，那么使用 IP的高层软件必须负责解决这一问题。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2ip网关和路由器-是否为同义语互连网和互联网-有没有区别">2、“IP网关”和“路由器” 是否为同义语？“互连网”和“互联网” 有没有区别？<a class="hash-link" href="#2ip网关和路由器-是否为同义语互连网和互联网-有没有区别" title="Direct link to heading">​</a></h3><p>当初发明TCP/IP 的研究人员使用 IP Gateway 作为网际互联的设备，可以认为 “IP网关” 和“IP路由器” 是同义词。</p><p>“互连网”和“互联网”都是推荐名，都可以使用，不过建议优先使用“互联网”。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3在一个互联网中能否用一个很大的交换机switch来代替互联网中很多的路由器">3、在一个互联网中，能否用一个很大的交换机(switch）来代替互联网中很多的路由器？<a class="hash-link" href="#3在一个互联网中能否用一个很大的交换机switch来代替互联网中很多的路由器" title="Direct link to heading">​</a></h3><p>不行。交换机和路由器的功能是不相同的。</p><p>「交换机」可<strong>在单个网络中与若干计算机相连</strong>，并且可以将一台计算机发送过来的「帧」转发给另台计算机。从这一点上看，交换机具有集线器的转发帧的功能，但交换机比集线器的功能强很多。在同一时间，集线器只允许一台计算机发送数据。</p><p>「路由器」连接<strong>两个或多个同构的或异构的网络</strong>，在网络之间转发「分组」（即IP数据报)。</p><p>因此，如果许多相同类型的网络互联时，那么用一个很大的交换机（如果能够找其他计算机进行通信，交换机允许找得到）代替原来的一些路由器是可行的。但若这些互联的网络是异构的网络，那么就必须使用路由器来进行互联。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4网络前缀是指网络号字段net-id中前面的几个类别位还是指整个的网络号字段">4、网络前缀是指网络号字段（net-id）中前面的几个类别位还是指整个的网络号字段？<a class="hash-link" href="#4网络前缀是指网络号字段net-id中前面的几个类别位还是指整个的网络号字段" title="Direct link to heading">​</a></h3><p>是指整个的网络号字段，包括最前面的几个类别位在内。网络前缀常常简称为前缀。例如个B类地址 10100000 00000000 00000000 00010000，其类别位就是最前面的两位：10，而网络前缀就是前 16位：10100000 00000000。#</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5ip有分片的功能但广域网中的分组则不必分片这是为什么">5、IP有分片的功能，但广域网中的分组则不必分片，这是为什么？<a class="hash-link" href="#5ip有分片的功能但广域网中的分组则不必分片这是为什么" title="Direct link to heading">​</a></h3><p>IP数据报可能要经过许多个网络，而源结点事先并不知道数据报后面要经过的这些网络所能通过的分组的最大长度是多少。等到IP数据报转发到某个网络时，中间结点可能才发现数据报太长了，因此在这时就必须进行分片。</p><p>但<strong>广域网能够通过的分组的最大长度是该广域网中所有结点都事先知道的</strong>，源结点不可能发送网络不支持的过长分组。因此广域网没有必要将己经发送出的分组再进行分片。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6数据链路层广播和ip广播有何区别">6、数据链路层广播和IP广播有何区别？<a class="hash-link" href="#6数据链路层广播和ip广播有何区别" title="Direct link to heading">​</a></h3><p>数据链路层广播是用数据链路层协议（第二层，在一个以太网上实现的对该<strong>局域网上的所有主机</strong>进行广播 MAC 帧，</p><p>而IP广播则是用 IP通过因特网实现的<strong>对一个网络（即目的网络）上的所有主机</strong>进行广播 IP数据报。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="7主机在接收一个广播帧或组播帧时其cpu-所要做的事情有何区别">7、主机在接收一个广播帧或组播帧时，其CPU 所要做的事情有何区别？<a class="hash-link" href="#7主机在接收一个广播帧或组播帧时其cpu-所要做的事情有何区别" title="Direct link to heading">​</a></h3><p>在接收「广播帧」时，主机通过其适配器[即网络接口卡(NIC)〕接收每个广播帧，然后將其传递给操作系统。<strong>CPU 执行协议软件，并界定是否接收和处理该帧</strong>。</p><p>在接收「组播帧」时，CPU 要对适配器进行配置，而适配器根据特定的组播地址表来接收帧。凡与此组播地址表不匹配的帧都将被NIC 丢弃。因此在组播的情况下，<strong>是适配器 NIC 而不是 CPU 决定是否接收一个帧</strong>。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="8假定在一个局域网中计算机a发送arp-请求分組希望找出计算机b的硬件地址这时局域网上的所有计算机都能收到这个广播发送的-arp-请求分组试问这时由哪个计算机使用-arp-响应分组将计算机b-的硬件地址告诉计算机-a">8、假定在一个局域网中计算机A发送ARP 请求分組，希望找出计算机B的硬件地址。这时局域网上的所有计算机都能收到这个广播发送的 ARP 请求分组。试问这时由哪个计算机使用 ARP 响应分组将计算机B 的硬件地址告诉计算机 A?<a class="hash-link" href="#8假定在一个局域网中计算机a发送arp-请求分組希望找出计算机b的硬件地址这时局域网上的所有计算机都能收到这个广播发送的-arp-请求分组试问这时由哪个计算机使用-arp-响应分组将计算机b-的硬件地址告诉计算机-a" title="Direct link to heading">​</a></h3><p>这要区分两种情况。</p><p>第一，如果计算机 B 和计算机 A 都连接在同一个局域网上，那么就是计算机B 发送 ARP 响应分组。</p><p>第二，如果计算机B 和计算机 A 不连接在同一个局域网上，那么就必须由一个连接计算机 A 所在局域网的路由器来转发 ARP 请求分组。这时，该路由器向计算机A发送 ARP 回答分组，给出自己的硬件地址。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="9路由器实现了物理层数据链路层网络层这句话的含义是什么">9、路由器实现了物理层、数据链路层、网络层，这句话的含义是什么？<a class="hash-link" href="#9路由器实现了物理层数据链路层网络层这句话的含义是什么" title="Direct link to heading">​</a></h3><p>第1章中提到了网络中的<strong>两个通信结点利用协议栈进行通信的过程。发送方一层一层地把数据 “包装”，接收方一层一层地把 “包装”拆开，最后上交给用户</strong>。</p><p>「路由器」实现了物理层，数据链路层和网络层的含义是指路由器有能力对这三层协议的控制信息进行识别、分析以及转换，直观的理解是<strong>路由器有能力对数据 “包装” 这三层协议或者 “拆开” 这三层协议</strong>。</p><p>自然，路由器就有能力互联这三层协议不同的两个网络。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Knowledge/计算机网络/数据链路层"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">数据链路层</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Knowledge/计算机网络/传输层"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">传输层</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#41-网络层功能" class="table-of-contents__link toc-highlight">4.1 网络层功能</a></li><li><a href="#42-路由算法" class="table-of-contents__link toc-highlight">4.2 路由算法</a></li><li><a href="#43-ipv4" class="table-of-contents__link toc-highlight">4.3 IPv4</a><ul><li><a href="#ipv4分组" class="table-of-contents__link toc-highlight">IPv4分组</a></li><li><a href="#ipv4地址与nat" class="table-of-contents__link toc-highlight">IPv4地址与NAT</a></li><li><a href="#子网划分与子网掩码cidr" class="table-of-contents__link toc-highlight">子网划分与子网掩码、CIDR</a></li></ul></li><li><a href="#44-ipv6" class="table-of-contents__link toc-highlight">4.4 IPv6</a></li><li><a href="#45-路由协议" class="table-of-contents__link toc-highlight">4.5 路由协议</a></li><li><a href="#46-ip组播" class="table-of-contents__link toc-highlight">4.6 IP组播</a></li><li><a href="#47-移动ip" class="table-of-contents__link toc-highlight">4.7 移动IP</a></li><li><a href="#48-网络层设备" class="table-of-contents__link toc-highlight">4.8 网络层设备</a><ul><li><a href="#路由器" class="table-of-contents__link toc-highlight">路由器</a></li></ul></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">常见问题</a><ul><li><a href="#1尽最大努力交付-有哪些含义" class="table-of-contents__link toc-highlight">1、“尽最大努力交付” 有哪些含义</a></li><li><a href="#2ip网关和路由器-是否为同义语互连网和互联网-有没有区别" class="table-of-contents__link toc-highlight">2、“IP网关”和“路由器” 是否为同义语？“互连网”和“互联网” 有没有区别？</a></li><li><a href="#3在一个互联网中能否用一个很大的交换机switch来代替互联网中很多的路由器" class="table-of-contents__link toc-highlight">3、在一个互联网中，能否用一个很大的交换机(switch）来代替互联网中很多的路由器？</a></li><li><a href="#4网络前缀是指网络号字段net-id中前面的几个类别位还是指整个的网络号字段" class="table-of-contents__link toc-highlight">4、网络前缀是指网络号字段（net-id）中前面的几个类别位还是指整个的网络号字段？</a></li><li><a href="#5ip有分片的功能但广域网中的分组则不必分片这是为什么" class="table-of-contents__link toc-highlight">5、IP有分片的功能，但广域网中的分组则不必分片，这是为什么？</a></li><li><a href="#6数据链路层广播和ip广播有何区别" class="table-of-contents__link toc-highlight">6、数据链路层广播和IP广播有何区别？</a></li><li><a href="#7主机在接收一个广播帧或组播帧时其cpu-所要做的事情有何区别" class="table-of-contents__link toc-highlight">7、主机在接收一个广播帧或组播帧时，其CPU 所要做的事情有何区别？</a></li><li><a href="#8假定在一个局域网中计算机a发送arp-请求分組希望找出计算机b的硬件地址这时局域网上的所有计算机都能收到这个广播发送的-arp-请求分组试问这时由哪个计算机使用-arp-响应分组将计算机b-的硬件地址告诉计算机-a" class="table-of-contents__link toc-highlight">8、假定在一个局域网中计算机A发送ARP 请求分組，希望找出计算机B的硬件地址。这时局域网上的所有计算机都能收到这个广播发送的 ARP 请求分组。试问这时由哪个计算机使用 ARP 响应分组将计算机B 的硬件地址告诉计算机 A?</a></li><li><a href="#9路由器实现了物理层数据链路层网络层这句话的含义是什么" class="table-of-contents__link toc-highlight">9、路由器实现了物理层、数据链路层、网络层，这句话的含义是什么？</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Doongz Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a61035f3.js"></script>
<script src="/assets/js/main.7aad8990.js"></script>
</body>
</html>